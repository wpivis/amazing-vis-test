var Vfe=Object.defineProperty;var zfe=(e,t,n)=>t in e?Vfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var so=(e,t,n)=>(zfe(e,typeof t!="symbol"?t+"":t,n),n);function Hfe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qfe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var pq={exports:{}},rx={},mq={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.element"),Wfe=Symbol.for("react.portal"),Yfe=Symbol.for("react.fragment"),Gfe=Symbol.for("react.strict_mode"),Kfe=Symbol.for("react.profiler"),Qfe=Symbol.for("react.provider"),Xfe=Symbol.for("react.context"),Jfe=Symbol.for("react.forward_ref"),Zfe=Symbol.for("react.suspense"),ede=Symbol.for("react.memo"),tde=Symbol.for("react.lazy"),XM=Symbol.iterator;function nde(e){return e===null||typeof e!="object"?null:(e=XM&&e[XM]||e["@@iterator"],typeof e=="function"?e:null)}var gq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yq=Object.assign,_q={};function qm(e,t,n){this.props=e,this.context=t,this.refs=_q,this.updater=n||gq}qm.prototype.isReactComponent={};qm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vq(){}vq.prototype=qm.prototype;function SN(e,t,n){this.props=e,this.context=t,this.refs=_q,this.updater=n||gq}var xN=SN.prototype=new vq;xN.constructor=SN;yq(xN,qm.prototype);xN.isPureReactComponent=!0;var JM=Array.isArray,bq=Object.prototype.hasOwnProperty,IN={current:null},wq={key:!0,ref:!0,__self:!0,__source:!0};function Eq(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)bq.call(t,r)&&!wq.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:V_,type:e,key:s,ref:o,props:i,_owner:IN.current}}function rde(e,t){return{$$typeof:V_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AN(e){return typeof e=="object"&&e!==null&&e.$$typeof===V_}function ide(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ZM=/\/+/g;function eC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ide(""+e.key):t.toString(36)}function vb(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case V_:case Wfe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+eC(o,0):r,JM(i)?(n="",e!=null&&(n=e.replace(ZM,"$&/")+"/"),vb(i,t,n,"",function(l){return l})):i!=null&&(AN(i)&&(i=rde(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZM,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",JM(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+eC(s,a);o+=vb(s,t,n,u,i)}else if(u=nde(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+eC(s,a++),o+=vb(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qv(e,t,n){if(e==null)return e;var r=[],i=0;return vb(e,r,"","",function(s){return t.call(n,s,i++)}),r}function sde(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ws={current:null},bb={transition:null},ode={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:bb,ReactCurrentOwner:IN};Jt.Children={map:Qv,forEach:function(e,t,n){Qv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qv(e,function(){t++}),t},toArray:function(e){return Qv(e,function(t){return t})||[]},only:function(e){if(!AN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=qm;Jt.Fragment=Yfe;Jt.Profiler=Kfe;Jt.PureComponent=SN;Jt.StrictMode=Gfe;Jt.Suspense=Zfe;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ode;Jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yq({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=IN.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)bq.call(t,u)&&!wq.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:V_,type:e.type,key:i,ref:s,props:r,_owner:o}};Jt.createContext=function(e){return e={$$typeof:Xfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qfe,_context:e},e.Consumer=e};Jt.createElement=Eq;Jt.createFactory=function(e){var t=Eq.bind(null,e);return t.type=e,t};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:Jfe,render:e}};Jt.isValidElement=AN;Jt.lazy=function(e){return{$$typeof:tde,_payload:{_status:-1,_result:e},_init:sde}};Jt.memo=function(e,t){return{$$typeof:ede,type:e,compare:t===void 0?null:t}};Jt.startTransition=function(e){var t=bb.transition;bb.transition={};try{e()}finally{bb.transition=t}};Jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Jt.useCallback=function(e,t){return ws.current.useCallback(e,t)};Jt.useContext=function(e){return ws.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return ws.current.useDeferredValue(e)};Jt.useEffect=function(e,t){return ws.current.useEffect(e,t)};Jt.useId=function(){return ws.current.useId()};Jt.useImperativeHandle=function(e,t,n){return ws.current.useImperativeHandle(e,t,n)};Jt.useInsertionEffect=function(e,t){return ws.current.useInsertionEffect(e,t)};Jt.useLayoutEffect=function(e,t){return ws.current.useLayoutEffect(e,t)};Jt.useMemo=function(e,t){return ws.current.useMemo(e,t)};Jt.useReducer=function(e,t,n){return ws.current.useReducer(e,t,n)};Jt.useRef=function(e){return ws.current.useRef(e)};Jt.useState=function(e){return ws.current.useState(e)};Jt.useSyncExternalStore=function(e,t,n){return ws.current.useSyncExternalStore(e,t,n)};Jt.useTransition=function(){return ws.current.useTransition()};Jt.version="18.2.0";mq.exports=Jt;var T=mq.exports;const N=qa(T),Vd=Hfe({__proto__:null,default:N},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ade=T,ude=Symbol.for("react.element"),lde=Symbol.for("react.fragment"),cde=Object.prototype.hasOwnProperty,fde=ade.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dde={key:!0,ref:!0,__self:!0,__source:!0};function Tq(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)cde.call(t,r)&&!dde.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ude,type:e,key:s,ref:o,props:i,_owner:fde.current}}rx.Fragment=lde;rx.jsx=Tq;rx.jsxs=Tq;pq.exports=rx;var P=pq.exports,YP={},Sq={exports:{}},Ao={},xq={exports:{}},Iq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ie){var K=ee.length;ee.push(ie);e:for(;0<K;){var A=K-1>>>1,O=ee[A];if(0<i(O,ie))ee[A]=ie,ee[K]=O,K=A;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],K=ee.pop();if(K!==ie){ee[0]=K;e:for(var A=0,O=ee.length,z=O>>>1;A<z;){var k=2*(A+1)-1,R=ee[k],Y=k+1,se=ee[Y];if(0>i(R,K))Y<O&&0>i(se,R)?(ee[A]=se,ee[Y]=K,A=Y):(ee[A]=R,ee[k]=K,A=k);else if(Y<O&&0>i(se,K))ee[A]=se,ee[Y]=K,A=Y;else break e}}return ie}function i(ee,ie){var K=ee.sortIndex-ie.sortIndex;return K!==0?K:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=ee)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function E(ee){if(m=!1,v(ee),!p)if(n(u)!==null)p=!0,ae(S);else{var ie=n(l);ie!==null&&pe(E,ie.startTime-ee)}}function S(ee,ie){p=!1,m&&(m=!1,g(I),I=-1),h=!0;var K=d;try{for(v(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||ee&&!D());){var A=f.callback;if(typeof A=="function"){f.callback=null,d=f.priorityLevel;var O=A(f.expirationTime<=ie);ie=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(u)&&r(u),v(ie)}else r(u);f=n(u)}if(f!==null)var z=!0;else{var k=n(l);k!==null&&pe(E,k.startTime-ie),z=!1}return z}finally{f=null,d=K,h=!1}}var w=!1,x=null,I=-1,M=5,C=-1;function D(){return!(e.unstable_now()-C<M)}function q(){if(x!==null){var ee=e.unstable_now();C=ee;var ie=!0;try{ie=x(!0,ee)}finally{ie?W():(w=!1,x=null)}}else w=!1}var W;if(typeof _=="function")W=function(){_(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,de=U.port2;U.port1.onmessage=q,W=function(){de.postMessage(null)}}else W=function(){y(q,0)};function ae(ee){x=ee,w||(w=!0,W())}function pe(ee,ie){I=y(function(){ee(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ae(S))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var K=d;d=ie;try{return ee()}finally{d=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var K=d;d=ee;try{return ie()}finally{d=K}},e.unstable_scheduleCallback=function(ee,ie,K){var A=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,ee){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,ee={id:c++,callback:ie,priorityLevel:ee,startTime:K,expirationTime:O,sortIndex:-1},K>A?(ee.sortIndex=K,t(l,ee),n(u)===null&&ee===n(l)&&(m?(g(I),I=-1):m=!0,pe(E,K-A))):(ee.sortIndex=O,t(u,ee),p||h||(p=!0,ae(S))),ee},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(ee){var ie=d;return function(){var K=d;d=ie;try{return ee.apply(this,arguments)}finally{d=K}}}})(Iq);xq.exports=Iq;var hde=xq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aq=T,wo=hde;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cq=new Set,Sy={};function ph(e,t){im(e,t),im(e+"Capture",t)}function im(e,t){for(Sy[e]=t,e=0;e<t.length;e++)Cq.add(t[e])}var $l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GP=Object.prototype.hasOwnProperty,pde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e4={},t4={};function mde(e){return GP.call(t4,e)?!0:GP.call(e4,e)?!1:pde.test(e)?t4[e]=!0:(e4[e]=!0,!1)}function gde(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yde(e,t,n,r){if(t===null||typeof t>"u"||gde(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Es(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mi[e]=new Es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mi[t]=new Es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mi[e]=new Es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mi[e]=new Es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mi[e]=new Es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mi[e]=new Es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mi[e]=new Es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mi[e]=new Es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mi[e]=new Es(e,5,!1,e.toLowerCase(),null,!1,!1)});var CN=/[\-:]([a-z])/g;function ON(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CN,ON);Mi[t]=new Es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CN,ON);Mi[t]=new Es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CN,ON);Mi[t]=new Es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mi[e]=new Es(e,1,!1,e.toLowerCase(),null,!1,!1)});Mi.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mi[e]=new Es(e,1,!1,e.toLowerCase(),null,!0,!0)});function PN(e,t,n,r){var i=Mi.hasOwnProperty(t)?Mi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yde(t,n,i,r)&&(n=null),r||i===null?mde(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rc=Aq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xv=Symbol.for("react.element"),op=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),RN=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),Oq=Symbol.for("react.provider"),Pq=Symbol.for("react.context"),kN=Symbol.for("react.forward_ref"),QP=Symbol.for("react.suspense"),XP=Symbol.for("react.suspense_list"),NN=Symbol.for("react.memo"),Sc=Symbol.for("react.lazy"),Rq=Symbol.for("react.offscreen"),n4=Symbol.iterator;function Lg(e){return e===null||typeof e!="object"?null:(e=n4&&e[n4]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,tC;function _0(e){if(tC===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tC=t&&t[1]||""}return`
`+tC+e}var nC=!1;function rC(e,t){if(!e||nC)return"";nC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{nC=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_0(e):""}function _de(e){switch(e.tag){case 5:return _0(e.type);case 16:return _0("Lazy");case 13:return _0("Suspense");case 19:return _0("SuspenseList");case 0:case 2:case 15:return e=rC(e.type,!1),e;case 11:return e=rC(e.type.render,!1),e;case 1:return e=rC(e.type,!0),e;default:return""}}function JP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ap:return"Fragment";case op:return"Portal";case KP:return"Profiler";case RN:return"StrictMode";case QP:return"Suspense";case XP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pq:return(e.displayName||"Context")+".Consumer";case Oq:return(e._context.displayName||"Context")+".Provider";case kN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case NN:return t=e.displayName||null,t!==null?t:JP(e.type)||"Memo";case Sc:t=e._payload,e=e._init;try{return JP(e(t))}catch{}}return null}function vde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JP(t);case 8:return t===RN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function df(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bde(e){var t=kq(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jv(e){e._valueTracker||(e._valueTracker=bde(e))}function Nq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kq(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZP(e,t){var n=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function r4(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=df(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dq(e,t){t=t.checked,t!=null&&PN(e,"checked",t,!1)}function e2(e,t){Dq(e,t);var n=df(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?t2(e,t.type,n):t.hasOwnProperty("defaultValue")&&t2(e,t.type,df(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function i4(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function t2(e,t,n){(t!=="number"||yw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var v0=Array.isArray;function Pp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+df(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function n2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s4(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(v0(n)){if(1<n.length)throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:df(n)}}function $q(e,t){var n=df(t.value),r=df(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function o4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zv,Mq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zv=Zv||document.createElement("div"),Zv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var j0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wde=["Webkit","ms","Moz","O"];Object.keys(j0).forEach(function(e){wde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),j0[t]=j0[e]})});function Fq(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||j0.hasOwnProperty(e)&&j0[e]?(""+t).trim():t+"px"}function Bq(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fq(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ede=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i2(e,t){if(t){if(Ede[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function s2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=null;function DN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a2=null,Rp=null,kp=null;function a4(e){if(e=q_(e)){if(typeof a2!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=ux(t),a2(e.stateNode,e.type,t))}}function jq(e){Rp?kp?kp.push(e):kp=[e]:Rp=e}function Uq(){if(Rp){var e=Rp,t=kp;if(kp=Rp=null,a4(e),t)for(e=0;e<t.length;e++)a4(t[e])}}function Vq(e,t){return e(t)}function zq(){}var iC=!1;function Hq(e,t,n){if(iC)return e(t,n);iC=!0;try{return Vq(e,t,n)}finally{iC=!1,(Rp!==null||kp!==null)&&(zq(),Uq())}}function Iy(e,t){var n=e.stateNode;if(n===null)return null;var r=ux(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var u2=!1;if($l)try{var Mg={};Object.defineProperty(Mg,"passive",{get:function(){u2=!0}}),window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{u2=!1}function Tde(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var U0=!1,_w=null,vw=!1,l2=null,Sde={onError:function(e){U0=!0,_w=e}};function xde(e,t,n,r,i,s,o,a,u){U0=!1,_w=null,Tde.apply(Sde,arguments)}function Ide(e,t,n,r,i,s,o,a,u){if(xde.apply(this,arguments),U0){if(U0){var l=_w;U0=!1,_w=null}else throw Error(ke(198));vw||(vw=!0,l2=l)}}function mh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u4(e){if(mh(e)!==e)throw Error(ke(188))}function Ade(e){var t=e.alternate;if(!t){if(t=mh(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u4(i),e;if(s===r)return u4(i),t;s=s.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function Wq(e){return e=Ade(e),e!==null?Yq(e):null}function Yq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yq(e);if(t!==null)return t;e=e.sibling}return null}var Gq=wo.unstable_scheduleCallback,l4=wo.unstable_cancelCallback,Cde=wo.unstable_shouldYield,Ode=wo.unstable_requestPaint,Lr=wo.unstable_now,Pde=wo.unstable_getCurrentPriorityLevel,$N=wo.unstable_ImmediatePriority,Kq=wo.unstable_UserBlockingPriority,bw=wo.unstable_NormalPriority,Rde=wo.unstable_LowPriority,Qq=wo.unstable_IdlePriority,ix=null,Iu=null;function kde(e){if(Iu&&typeof Iu.onCommitFiberRoot=="function")try{Iu.onCommitFiberRoot(ix,e,void 0,(e.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:$de,Nde=Math.log,Dde=Math.LN2;function $de(e){return e>>>=0,e===0?32:31-(Nde(e)/Dde|0)|0}var e1=64,t1=4194304;function b0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ww(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=b0(a):(s&=o,s!==0&&(r=b0(s)))}else o=n&~i,o!==0?r=b0(o):s!==0&&(r=b0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Da(t),i=1<<n,r|=e[n],t&=~i;return r}function Lde(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mde(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Da(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Lde(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function c2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xq(){var e=e1;return e1<<=1,!(e1&4194240)&&(e1=64),e}function sC(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function z_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Da(t),e[t]=n}function Fde(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Da(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function LN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Da(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kn=0;function Jq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zq,MN,eW,tW,nW,f2=!1,n1=[],qc=null,Wc=null,Yc=null,Ay=new Map,Cy=new Map,Pc=[],Bde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c4(e,t){switch(e){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Wc=null;break;case"mouseover":case"mouseout":Yc=null;break;case"pointerover":case"pointerout":Ay.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cy.delete(t.pointerId)}}function Fg(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=q_(t),t!==null&&MN(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jde(e,t,n,r,i){switch(t){case"focusin":return qc=Fg(qc,e,t,n,r,i),!0;case"dragenter":return Wc=Fg(Wc,e,t,n,r,i),!0;case"mouseover":return Yc=Fg(Yc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ay.set(s,Fg(Ay.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cy.set(s,Fg(Cy.get(s)||null,e,t,n,r,i)),!0}return!1}function rW(e){var t=gd(e.target);if(t!==null){var n=mh(t);if(n!==null){if(t=n.tag,t===13){if(t=qq(n),t!==null){e.blockedOn=t,nW(e.priority,function(){eW(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=d2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);o2=r,n.target.dispatchEvent(r),o2=null}else return t=q_(n),t!==null&&MN(t),e.blockedOn=n,!1;t.shift()}return!0}function f4(e,t,n){wb(e)&&n.delete(t)}function Ude(){f2=!1,qc!==null&&wb(qc)&&(qc=null),Wc!==null&&wb(Wc)&&(Wc=null),Yc!==null&&wb(Yc)&&(Yc=null),Ay.forEach(f4),Cy.forEach(f4)}function Bg(e,t){e.blockedOn===t&&(e.blockedOn=null,f2||(f2=!0,wo.unstable_scheduleCallback(wo.unstable_NormalPriority,Ude)))}function Oy(e){function t(i){return Bg(i,e)}if(0<n1.length){Bg(n1[0],e);for(var n=1;n<n1.length;n++){var r=n1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qc!==null&&Bg(qc,e),Wc!==null&&Bg(Wc,e),Yc!==null&&Bg(Yc,e),Ay.forEach(t),Cy.forEach(t),n=0;n<Pc.length;n++)r=Pc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pc.length&&(n=Pc[0],n.blockedOn===null);)rW(n),n.blockedOn===null&&Pc.shift()}var Np=rc.ReactCurrentBatchConfig,Ew=!0;function Vde(e,t,n,r){var i=kn,s=Np.transition;Np.transition=null;try{kn=1,FN(e,t,n,r)}finally{kn=i,Np.transition=s}}function zde(e,t,n,r){var i=kn,s=Np.transition;Np.transition=null;try{kn=4,FN(e,t,n,r)}finally{kn=i,Np.transition=s}}function FN(e,t,n,r){if(Ew){var i=d2(e,t,n,r);if(i===null)mC(e,t,r,Tw,n),c4(e,r);else if(jde(i,e,t,n,r))r.stopPropagation();else if(c4(e,r),t&4&&-1<Bde.indexOf(e)){for(;i!==null;){var s=q_(i);if(s!==null&&Zq(s),s=d2(e,t,n,r),s===null&&mC(e,t,r,Tw,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mC(e,t,r,null,n)}}var Tw=null;function d2(e,t,n,r){if(Tw=null,e=DN(r),e=gd(e),e!==null)if(t=mh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qq(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tw=e,null}function iW(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pde()){case $N:return 1;case Kq:return 4;case bw:case Rde:return 16;case Qq:return 536870912;default:return 16}default:return 16}}var Bc=null,BN=null,Eb=null;function sW(){if(Eb)return Eb;var e,t=BN,n=t.length,r,i="value"in Bc?Bc.value:Bc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Eb=i.slice(e,1<r?1-r:void 0)}function Tb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function r1(){return!0}function d4(){return!1}function Co(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?r1:d4,this.isPropagationStopped=d4,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=r1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=r1)},persist:function(){},isPersistent:r1}),t}var Wm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jN=Co(Wm),H_=br({},Wm,{view:0,detail:0}),Hde=Co(H_),oC,aC,jg,sx=br({},H_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jg&&(jg&&e.type==="mousemove"?(oC=e.screenX-jg.screenX,aC=e.screenY-jg.screenY):aC=oC=0,jg=e),oC)},movementY:function(e){return"movementY"in e?e.movementY:aC}}),h4=Co(sx),qde=br({},sx,{dataTransfer:0}),Wde=Co(qde),Yde=br({},H_,{relatedTarget:0}),uC=Co(Yde),Gde=br({},Wm,{animationName:0,elapsedTime:0,pseudoElement:0}),Kde=Co(Gde),Qde=br({},Wm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xde=Co(Qde),Jde=br({},Wm,{data:0}),p4=Co(Jde),Zde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ehe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},the={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nhe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=the[e])?!!t[e]:!1}function UN(){return nhe}var rhe=br({},H_,{key:function(e){if(e.key){var t=Zde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ehe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UN,charCode:function(e){return e.type==="keypress"?Tb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ihe=Co(rhe),she=br({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m4=Co(she),ohe=br({},H_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UN}),ahe=Co(ohe),uhe=br({},Wm,{propertyName:0,elapsedTime:0,pseudoElement:0}),lhe=Co(uhe),che=br({},sx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fhe=Co(che),dhe=[9,13,27,32],VN=$l&&"CompositionEvent"in window,V0=null;$l&&"documentMode"in document&&(V0=document.documentMode);var hhe=$l&&"TextEvent"in window&&!V0,oW=$l&&(!VN||V0&&8<V0&&11>=V0),g4=" ",y4=!1;function aW(e,t){switch(e){case"keyup":return dhe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uW(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var up=!1;function phe(e,t){switch(e){case"compositionend":return uW(t);case"keypress":return t.which!==32?null:(y4=!0,g4);case"textInput":return e=t.data,e===g4&&y4?null:e;default:return null}}function mhe(e,t){if(up)return e==="compositionend"||!VN&&aW(e,t)?(e=sW(),Eb=BN=Bc=null,up=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oW&&t.locale!=="ko"?null:t.data;default:return null}}var ghe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ghe[e.type]:t==="textarea"}function lW(e,t,n,r){jq(r),t=Sw(t,"onChange"),0<t.length&&(n=new jN("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var z0=null,Py=null;function yhe(e){bW(e,0)}function ox(e){var t=fp(e);if(Nq(t))return e}function _he(e,t){if(e==="change")return t}var cW=!1;if($l){var lC;if($l){var cC="oninput"in document;if(!cC){var v4=document.createElement("div");v4.setAttribute("oninput","return;"),cC=typeof v4.oninput=="function"}lC=cC}else lC=!1;cW=lC&&(!document.documentMode||9<document.documentMode)}function b4(){z0&&(z0.detachEvent("onpropertychange",fW),Py=z0=null)}function fW(e){if(e.propertyName==="value"&&ox(Py)){var t=[];lW(t,Py,e,DN(e)),Hq(yhe,t)}}function vhe(e,t,n){e==="focusin"?(b4(),z0=t,Py=n,z0.attachEvent("onpropertychange",fW)):e==="focusout"&&b4()}function bhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ox(Py)}function whe(e,t){if(e==="click")return ox(t)}function Ehe(e,t){if(e==="input"||e==="change")return ox(t)}function The(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:The;function Ry(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!GP.call(t,i)||!ja(e[i],t[i]))return!1}return!0}function w4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E4(e,t){var n=w4(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w4(n)}}function dW(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dW(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hW(){for(var e=window,t=yw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yw(e.document)}return t}function zN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function She(e){var t=hW(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dW(n.ownerDocument.documentElement,n)){if(r!==null&&zN(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=E4(n,s);var o=E4(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xhe=$l&&"documentMode"in document&&11>=document.documentMode,lp=null,h2=null,H0=null,p2=!1;function T4(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p2||lp==null||lp!==yw(r)||(r=lp,"selectionStart"in r&&zN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),H0&&Ry(H0,r)||(H0=r,r=Sw(h2,"onSelect"),0<r.length&&(t=new jN("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lp)))}function i1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cp={animationend:i1("Animation","AnimationEnd"),animationiteration:i1("Animation","AnimationIteration"),animationstart:i1("Animation","AnimationStart"),transitionend:i1("Transition","TransitionEnd")},fC={},pW={};$l&&(pW=document.createElement("div").style,"AnimationEvent"in window||(delete cp.animationend.animation,delete cp.animationiteration.animation,delete cp.animationstart.animation),"TransitionEvent"in window||delete cp.transitionend.transition);function ax(e){if(fC[e])return fC[e];if(!cp[e])return e;var t=cp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pW)return fC[e]=t[n];return e}var mW=ax("animationend"),gW=ax("animationiteration"),yW=ax("animationstart"),_W=ax("transitionend"),vW=new Map,S4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nf(e,t){vW.set(e,t),ph(t,[e])}for(var dC=0;dC<S4.length;dC++){var hC=S4[dC],Ihe=hC.toLowerCase(),Ahe=hC[0].toUpperCase()+hC.slice(1);Nf(Ihe,"on"+Ahe)}Nf(mW,"onAnimationEnd");Nf(gW,"onAnimationIteration");Nf(yW,"onAnimationStart");Nf("dblclick","onDoubleClick");Nf("focusin","onFocus");Nf("focusout","onBlur");Nf(_W,"onTransitionEnd");im("onMouseEnter",["mouseout","mouseover"]);im("onMouseLeave",["mouseout","mouseover"]);im("onPointerEnter",["pointerout","pointerover"]);im("onPointerLeave",["pointerout","pointerover"]);ph("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ph("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ph("onBeforeInput",["compositionend","keypress","textInput","paste"]);ph("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ph("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ph("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var w0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Che=new Set("cancel close invalid load scroll toggle".split(" ").concat(w0));function x4(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ide(r,t,void 0,e),e.currentTarget=null}function bW(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;x4(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;x4(i,a,l),s=u}}}if(vw)throw e=l2,vw=!1,l2=null,e}function Qn(e,t){var n=t[v2];n===void 0&&(n=t[v2]=new Set);var r=e+"__bubble";n.has(r)||(wW(t,e,2,!1),n.add(r))}function pC(e,t,n){var r=0;t&&(r|=4),wW(n,e,r,t)}var s1="_reactListening"+Math.random().toString(36).slice(2);function ky(e){if(!e[s1]){e[s1]=!0,Cq.forEach(function(n){n!=="selectionchange"&&(Che.has(n)||pC(n,!1,e),pC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[s1]||(t[s1]=!0,pC("selectionchange",!1,t))}}function wW(e,t,n,r){switch(iW(t)){case 1:var i=Vde;break;case 4:i=zde;break;default:i=FN}n=i.bind(null,t,n,e),i=void 0,!u2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mC(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Hq(function(){var l=s,c=DN(n),f=[];e:{var d=vW.get(e);if(d!==void 0){var h=jN,p=e;switch(e){case"keypress":if(Tb(n)===0)break e;case"keydown":case"keyup":h=ihe;break;case"focusin":p="focus",h=uC;break;case"focusout":p="blur",h=uC;break;case"beforeblur":case"afterblur":h=uC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=h4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Wde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ahe;break;case mW:case gW:case yW:h=Kde;break;case _W:h=lhe;break;case"scroll":h=Hde;break;case"wheel":h=fhe;break;case"copy":case"cut":case"paste":h=Xde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=m4}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var _=l,v;_!==null;){v=_;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=Iy(_,g),E!=null&&m.push(Ny(_,E,v)))),y)break;_=_.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==o2&&(p=n.relatedTarget||n.fromElement)&&(gd(p)||p[Ll]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?gd(p):null,p!==null&&(y=mh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=h4,E="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=m4,E="onPointerLeave",g="onPointerEnter",_="pointer"),y=h==null?d:fp(h),v=p==null?d:fp(p),d=new m(E,_+"leave",h,n,c),d.target=y,d.relatedTarget=v,E=null,gd(c)===l&&(m=new m(g,_+"enter",p,n,c),m.target=v,m.relatedTarget=y,E=m),y=E,h&&p)t:{for(m=h,g=p,_=0,v=m;v;v=Mh(v))_++;for(v=0,E=g;E;E=Mh(E))v++;for(;0<_-v;)m=Mh(m),_--;for(;0<v-_;)g=Mh(g),v--;for(;_--;){if(m===g||g!==null&&m===g.alternate)break t;m=Mh(m),g=Mh(g)}m=null}else m=null;h!==null&&I4(f,d,h,m,!1),p!==null&&y!==null&&I4(f,y,p,m,!0)}}e:{if(d=l?fp(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=_he;else if(_4(d))if(cW)S=Ehe;else{S=bhe;var w=vhe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=whe);if(S&&(S=S(e,l))){lW(f,S,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&t2(d,"number",d.value)}switch(w=l?fp(l):window,e){case"focusin":(_4(w)||w.contentEditable==="true")&&(lp=w,h2=l,H0=null);break;case"focusout":H0=h2=lp=null;break;case"mousedown":p2=!0;break;case"contextmenu":case"mouseup":case"dragend":p2=!1,T4(f,n,c);break;case"selectionchange":if(xhe)break;case"keydown":case"keyup":T4(f,n,c)}var x;if(VN)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else up?aW(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(oW&&n.locale!=="ko"&&(up||I!=="onCompositionStart"?I==="onCompositionEnd"&&up&&(x=sW()):(Bc=c,BN="value"in Bc?Bc.value:Bc.textContent,up=!0)),w=Sw(l,I),0<w.length&&(I=new p4(I,e,null,n,c),f.push({event:I,listeners:w}),x?I.data=x:(x=uW(n),x!==null&&(I.data=x)))),(x=hhe?phe(e,n):mhe(e,n))&&(l=Sw(l,"onBeforeInput"),0<l.length&&(c=new p4("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}bW(f,t)})}function Ny(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Iy(e,n),s!=null&&r.unshift(Ny(e,s,i)),s=Iy(e,t),s!=null&&r.push(Ny(e,s,i))),e=e.return}return r}function Mh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I4(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Iy(n,s),u!=null&&o.unshift(Ny(n,u,a))):i||(u=Iy(n,s),u!=null&&o.push(Ny(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ohe=/\r\n?/g,Phe=/\u0000|\uFFFD/g;function A4(e){return(typeof e=="string"?e:""+e).replace(Ohe,`
`).replace(Phe,"")}function o1(e,t,n){if(t=A4(t),A4(e)!==t&&n)throw Error(ke(425))}function xw(){}var m2=null,g2=null;function y2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _2=typeof setTimeout=="function"?setTimeout:void 0,Rhe=typeof clearTimeout=="function"?clearTimeout:void 0,C4=typeof Promise=="function"?Promise:void 0,khe=typeof queueMicrotask=="function"?queueMicrotask:typeof C4<"u"?function(e){return C4.resolve(null).then(e).catch(Nhe)}:_2;function Nhe(e){setTimeout(function(){throw e})}function gC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oy(t)}function Gc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ym=Math.random().toString(36).slice(2),cu="__reactFiber$"+Ym,Dy="__reactProps$"+Ym,Ll="__reactContainer$"+Ym,v2="__reactEvents$"+Ym,Dhe="__reactListeners$"+Ym,$he="__reactHandles$"+Ym;function gd(e){var t=e[cu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ll]||n[cu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=O4(e);e!==null;){if(n=e[cu])return n;e=O4(e)}return t}e=n,n=e.parentNode}return null}function q_(e){return e=e[cu]||e[Ll],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function ux(e){return e[Dy]||null}var b2=[],dp=-1;function Df(e){return{current:e}}function tr(e){0>dp||(e.current=b2[dp],b2[dp]=null,dp--)}function Yn(e,t){dp++,b2[dp]=e.current,e.current=t}var hf={},is=Df(hf),Ws=Df(!1),zd=hf;function sm(e,t){var n=e.type.contextTypes;if(!n)return hf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ys(e){return e=e.childContextTypes,e!=null}function Iw(){tr(Ws),tr(is)}function P4(e,t,n){if(is.current!==hf)throw Error(ke(168));Yn(is,t),Yn(Ws,n)}function EW(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ke(108,vde(e)||"Unknown",i));return br({},n,r)}function Aw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hf,zd=is.current,Yn(is,e),Yn(Ws,Ws.current),!0}function R4(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=EW(e,t,zd),r.__reactInternalMemoizedMergedChildContext=e,tr(Ws),tr(is),Yn(is,e)):tr(Ws),Yn(Ws,n)}var ll=null,lx=!1,yC=!1;function TW(e){ll===null?ll=[e]:ll.push(e)}function Lhe(e){lx=!0,TW(e)}function $f(){if(!yC&&ll!==null){yC=!0;var e=0,t=kn;try{var n=ll;for(kn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ll=null,lx=!1}catch(i){throw ll!==null&&(ll=ll.slice(e+1)),Gq($N,$f),i}finally{kn=t,yC=!1}}return null}var hp=[],pp=0,Cw=null,Ow=0,Bo=[],jo=0,Hd=null,gl=1,yl="";function ed(e,t){hp[pp++]=Ow,hp[pp++]=Cw,Cw=e,Ow=t}function SW(e,t,n){Bo[jo++]=gl,Bo[jo++]=yl,Bo[jo++]=Hd,Hd=e;var r=gl;e=yl;var i=32-Da(r)-1;r&=~(1<<i),n+=1;var s=32-Da(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gl=1<<32-Da(t)+i|n<<i|r,yl=s+e}else gl=1<<s|n<<i|r,yl=e}function HN(e){e.return!==null&&(ed(e,1),SW(e,1,0))}function qN(e){for(;e===Cw;)Cw=hp[--pp],hp[pp]=null,Ow=hp[--pp],hp[pp]=null;for(;e===Hd;)Hd=Bo[--jo],Bo[jo]=null,yl=Bo[--jo],Bo[jo]=null,gl=Bo[--jo],Bo[jo]=null}var _o=null,go=null,fr=!1,xa=null;function xW(e,t){var n=Go(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function k4(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_o=e,go=Gc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_o=e,go=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hd!==null?{id:gl,overflow:yl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Go(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_o=e,go=null,!0):!1;default:return!1}}function w2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E2(e){if(fr){var t=go;if(t){var n=t;if(!k4(e,t)){if(w2(e))throw Error(ke(418));t=Gc(n.nextSibling);var r=_o;t&&k4(e,t)?xW(r,n):(e.flags=e.flags&-4097|2,fr=!1,_o=e)}}else{if(w2(e))throw Error(ke(418));e.flags=e.flags&-4097|2,fr=!1,_o=e}}}function N4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_o=e}function a1(e){if(e!==_o)return!1;if(!fr)return N4(e),fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!y2(e.type,e.memoizedProps)),t&&(t=go)){if(w2(e))throw IW(),Error(ke(418));for(;t;)xW(e,t),t=Gc(t.nextSibling)}if(N4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){go=Gc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}go=null}}else go=_o?Gc(e.stateNode.nextSibling):null;return!0}function IW(){for(var e=go;e;)e=Gc(e.nextSibling)}function om(){go=_o=null,fr=!1}function WN(e){xa===null?xa=[e]:xa.push(e)}var Mhe=rc.ReactCurrentBatchConfig;function Ea(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pw=Df(null),Rw=null,mp=null,YN=null;function GN(){YN=mp=Rw=null}function KN(e){var t=Pw.current;tr(Pw),e._currentValue=t}function T2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dp(e,t){Rw=e,YN=mp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vs=!0),e.firstContext=null)}function Zo(e){var t=e._currentValue;if(YN!==e)if(e={context:e,memoizedValue:t,next:null},mp===null){if(Rw===null)throw Error(ke(308));mp=e,Rw.dependencies={lanes:0,firstContext:e}}else mp=mp.next=e;return t}var yd=null;function QN(e){yd===null?yd=[e]:yd.push(e)}function AW(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,QN(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ml(e,r)}function Ml(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xc=!1;function XN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Il(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,mn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ml(e,n)}return i=r.interleaved,i===null?(t.next=t,QN(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ml(e,n)}function Sb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LN(e,n)}}function D4(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kw(e,t,n,r){var i=e.updateQueue;xc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=br({},f,d);break e;case 2:xc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wd|=o,e.lanes=o,e.memoizedState=f}}function $4(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var OW=new Aq.Component().refs;function S2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cx={isMounted:function(e){return(e=e._reactInternals)?mh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gs(),i=Xc(e),s=Il(r,i);s.payload=t,n!=null&&(s.callback=n),t=Kc(e,s,i),t!==null&&($a(t,e,i,r),Sb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gs(),i=Xc(e),s=Il(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Kc(e,s,i),t!==null&&($a(t,e,i,r),Sb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gs(),r=Xc(e),i=Il(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kc(e,i,r),t!==null&&($a(t,e,r,n),Sb(t,e,r))}};function L4(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ry(n,r)||!Ry(i,s):!0}function PW(e,t,n){var r=!1,i=hf,s=t.contextType;return typeof s=="object"&&s!==null?s=Zo(s):(i=Ys(t)?zd:is.current,r=t.contextTypes,s=(r=r!=null)?sm(e,i):hf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function M4(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cx.enqueueReplaceState(t,t.state,null)}function x2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=OW,XN(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Zo(s):(s=Ys(t)?zd:is.current,i.context=sm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(S2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cx.enqueueReplaceState(i,i.state,null),kw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ug(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===OW&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function u1(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F4(e){var t=e._init;return t(e._payload)}function RW(e){function t(g,_){if(e){var v=g.deletions;v===null?(g.deletions=[_],g.flags|=16):v.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Jc(g,_),g.index=0,g.sibling=null,g}function s(g,_,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<_?(g.flags|=2,_):v):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,_,v,E){return _===null||_.tag!==6?(_=SC(v,g.mode,E),_.return=g,_):(_=i(_,v),_.return=g,_)}function u(g,_,v,E){var S=v.type;return S===ap?c(g,_,v.props.children,E,v.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sc&&F4(S)===_.type)?(E=i(_,v.props),E.ref=Ug(g,_,v),E.return=g,E):(E=Pb(v.type,v.key,v.props,null,g.mode,E),E.ref=Ug(g,_,v),E.return=g,E)}function l(g,_,v,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=xC(v,g.mode,E),_.return=g,_):(_=i(_,v.children||[]),_.return=g,_)}function c(g,_,v,E,S){return _===null||_.tag!==7?(_=Dd(v,g.mode,E,S),_.return=g,_):(_=i(_,v),_.return=g,_)}function f(g,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=SC(""+_,g.mode,v),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xv:return v=Pb(_.type,_.key,_.props,null,g.mode,v),v.ref=Ug(g,null,_),v.return=g,v;case op:return _=xC(_,g.mode,v),_.return=g,_;case Sc:var E=_._init;return f(g,E(_._payload),v)}if(v0(_)||Lg(_))return _=Dd(_,g.mode,v,null),_.return=g,_;u1(g,_)}return null}function d(g,_,v,E){var S=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,_,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xv:return v.key===S?u(g,_,v,E):null;case op:return v.key===S?l(g,_,v,E):null;case Sc:return S=v._init,d(g,_,S(v._payload),E)}if(v0(v)||Lg(v))return S!==null?null:c(g,_,v,E,null);u1(g,v)}return null}function h(g,_,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,a(_,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xv:return g=g.get(E.key===null?v:E.key)||null,u(_,g,E,S);case op:return g=g.get(E.key===null?v:E.key)||null,l(_,g,E,S);case Sc:var w=E._init;return h(g,_,v,w(E._payload),S)}if(v0(E)||Lg(E))return g=g.get(v)||null,c(_,g,E,S,null);u1(_,E)}return null}function p(g,_,v,E){for(var S=null,w=null,x=_,I=_=0,M=null;x!==null&&I<v.length;I++){x.index>I?(M=x,x=null):M=x.sibling;var C=d(g,x,v[I],E);if(C===null){x===null&&(x=M);break}e&&x&&C.alternate===null&&t(g,x),_=s(C,_,I),w===null?S=C:w.sibling=C,w=C,x=M}if(I===v.length)return n(g,x),fr&&ed(g,I),S;if(x===null){for(;I<v.length;I++)x=f(g,v[I],E),x!==null&&(_=s(x,_,I),w===null?S=x:w.sibling=x,w=x);return fr&&ed(g,I),S}for(x=r(g,x);I<v.length;I++)M=h(x,g,I,v[I],E),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?I:M.key),_=s(M,_,I),w===null?S=M:w.sibling=M,w=M);return e&&x.forEach(function(D){return t(g,D)}),fr&&ed(g,I),S}function m(g,_,v,E){var S=Lg(v);if(typeof S!="function")throw Error(ke(150));if(v=S.call(v),v==null)throw Error(ke(151));for(var w=S=null,x=_,I=_=0,M=null,C=v.next();x!==null&&!C.done;I++,C=v.next()){x.index>I?(M=x,x=null):M=x.sibling;var D=d(g,x,C.value,E);if(D===null){x===null&&(x=M);break}e&&x&&D.alternate===null&&t(g,x),_=s(D,_,I),w===null?S=D:w.sibling=D,w=D,x=M}if(C.done)return n(g,x),fr&&ed(g,I),S;if(x===null){for(;!C.done;I++,C=v.next())C=f(g,C.value,E),C!==null&&(_=s(C,_,I),w===null?S=C:w.sibling=C,w=C);return fr&&ed(g,I),S}for(x=r(g,x);!C.done;I++,C=v.next())C=h(x,g,I,C.value,E),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?I:C.key),_=s(C,_,I),w===null?S=C:w.sibling=C,w=C);return e&&x.forEach(function(q){return t(g,q)}),fr&&ed(g,I),S}function y(g,_,v,E){if(typeof v=="object"&&v!==null&&v.type===ap&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xv:e:{for(var S=v.key,w=_;w!==null;){if(w.key===S){if(S=v.type,S===ap){if(w.tag===7){n(g,w.sibling),_=i(w,v.props.children),_.return=g,g=_;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sc&&F4(S)===w.type){n(g,w.sibling),_=i(w,v.props),_.ref=Ug(g,w,v),_.return=g,g=_;break e}n(g,w);break}else t(g,w);w=w.sibling}v.type===ap?(_=Dd(v.props.children,g.mode,E,v.key),_.return=g,g=_):(E=Pb(v.type,v.key,v.props,null,g.mode,E),E.ref=Ug(g,_,v),E.return=g,g=E)}return o(g);case op:e:{for(w=v.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(g,_.sibling),_=i(_,v.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=xC(v,g.mode,E),_.return=g,g=_}return o(g);case Sc:return w=v._init,y(g,_,w(v._payload),E)}if(v0(v))return p(g,_,v,E);if(Lg(v))return m(g,_,v,E);u1(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,v),_.return=g,g=_):(n(g,_),_=SC(v,g.mode,E),_.return=g,g=_),o(g)):n(g,_)}return y}var am=RW(!0),kW=RW(!1),W_={},Au=Df(W_),$y=Df(W_),Ly=Df(W_);function _d(e){if(e===W_)throw Error(ke(174));return e}function JN(e,t){switch(Yn(Ly,t),Yn($y,e),Yn(Au,W_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:r2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=r2(t,e)}tr(Au),Yn(Au,t)}function um(){tr(Au),tr($y),tr(Ly)}function NW(e){_d(Ly.current);var t=_d(Au.current),n=r2(t,e.type);t!==n&&(Yn($y,e),Yn(Au,n))}function ZN(e){$y.current===e&&(tr(Au),tr($y))}var _r=Df(0);function Nw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _C=[];function eD(){for(var e=0;e<_C.length;e++)_C[e]._workInProgressVersionPrimary=null;_C.length=0}var xb=rc.ReactCurrentDispatcher,vC=rc.ReactCurrentBatchConfig,qd=0,vr=null,Xr=null,di=null,Dw=!1,q0=!1,My=0,Fhe=0;function Vi(){throw Error(ke(321))}function tD(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ja(e[n],t[n]))return!1;return!0}function nD(e,t,n,r,i,s){if(qd=s,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xb.current=e===null||e.memoizedState===null?Vhe:zhe,e=n(r,i),q0){s=0;do{if(q0=!1,My=0,25<=s)throw Error(ke(301));s+=1,di=Xr=null,t.updateQueue=null,xb.current=Hhe,e=n(r,i)}while(q0)}if(xb.current=$w,t=Xr!==null&&Xr.next!==null,qd=0,di=Xr=vr=null,Dw=!1,t)throw Error(ke(300));return e}function rD(){var e=My!==0;return My=0,e}function tu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?vr.memoizedState=di=e:di=di.next=e,di}function ea(){if(Xr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var t=di===null?vr.memoizedState:di.next;if(t!==null)di=t,Xr=e;else{if(e===null)throw Error(ke(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},di===null?vr.memoizedState=di=e:di=di.next=e}return di}function Fy(e,t){return typeof t=="function"?t(e):t}function bC(e){var t=ea(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=Xr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((qd&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,vr.lanes|=c,Wd|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,ja(r,t.memoizedState)||(Vs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,vr.lanes|=s,Wd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wC(e){var t=ea(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ja(s,t.memoizedState)||(Vs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function DW(){}function $W(e,t){var n=vr,r=ea(),i=t(),s=!ja(r.memoizedState,i);if(s&&(r.memoizedState=i,Vs=!0),r=r.queue,iD(FW.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||di!==null&&di.memoizedState.tag&1){if(n.flags|=2048,By(9,MW.bind(null,n,r,i,t),void 0,null),mi===null)throw Error(ke(349));qd&30||LW(n,t,i)}return i}function LW(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MW(e,t,n,r){t.value=n,t.getSnapshot=r,BW(t)&&jW(e)}function FW(e,t,n){return n(function(){BW(t)&&jW(e)})}function BW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ja(e,n)}catch{return!0}}function jW(e){var t=Ml(e,1);t!==null&&$a(t,e,1,-1)}function B4(e){var t=tu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:e},t.queue=e,e=e.dispatch=Uhe.bind(null,vr,e),[t.memoizedState,e]}function By(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function UW(){return ea().memoizedState}function Ib(e,t,n,r){var i=tu();vr.flags|=e,i.memoizedState=By(1|t,n,void 0,r===void 0?null:r)}function fx(e,t,n,r){var i=ea();r=r===void 0?null:r;var s=void 0;if(Xr!==null){var o=Xr.memoizedState;if(s=o.destroy,r!==null&&tD(r,o.deps)){i.memoizedState=By(t,n,s,r);return}}vr.flags|=e,i.memoizedState=By(1|t,n,s,r)}function j4(e,t){return Ib(8390656,8,e,t)}function iD(e,t){return fx(2048,8,e,t)}function VW(e,t){return fx(4,2,e,t)}function zW(e,t){return fx(4,4,e,t)}function HW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qW(e,t,n){return n=n!=null?n.concat([e]):null,fx(4,4,HW.bind(null,t,e),n)}function sD(){}function WW(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tD(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YW(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tD(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GW(e,t,n){return qd&21?(ja(n,t)||(n=Xq(),vr.lanes|=n,Wd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vs=!0),e.memoizedState=n)}function Bhe(e,t){var n=kn;kn=n!==0&&4>n?n:4,e(!0);var r=vC.transition;vC.transition={};try{e(!1),t()}finally{kn=n,vC.transition=r}}function KW(){return ea().memoizedState}function jhe(e,t,n){var r=Xc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QW(e))XW(t,n);else if(n=AW(e,t,n,r),n!==null){var i=gs();$a(n,e,r,i),JW(n,t,r)}}function Uhe(e,t,n){var r=Xc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QW(e))XW(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ja(a,o)){var u=t.interleaved;u===null?(i.next=i,QN(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=AW(e,t,i,r),n!==null&&(i=gs(),$a(n,e,r,i),JW(n,t,r))}}function QW(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function XW(e,t){q0=Dw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function JW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LN(e,n)}}var $w={readContext:Zo,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},Vhe={readContext:Zo,useCallback:function(e,t){return tu().memoizedState=[e,t===void 0?null:t],e},useContext:Zo,useEffect:j4,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ib(4194308,4,HW.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ib(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ib(4,2,e,t)},useMemo:function(e,t){var n=tu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jhe.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=tu();return e={current:e},t.memoizedState=e},useState:B4,useDebugValue:sD,useDeferredValue:function(e){return tu().memoizedState=e},useTransition:function(){var e=B4(!1),t=e[0];return e=Bhe.bind(null,e[1]),tu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=tu();if(fr){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=t(),mi===null)throw Error(ke(349));qd&30||LW(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,j4(FW.bind(null,r,s,e),[e]),r.flags|=2048,By(9,MW.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=tu(),t=mi.identifierPrefix;if(fr){var n=yl,r=gl;n=(r&~(1<<32-Da(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=My++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fhe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zhe={readContext:Zo,useCallback:WW,useContext:Zo,useEffect:iD,useImperativeHandle:qW,useInsertionEffect:VW,useLayoutEffect:zW,useMemo:YW,useReducer:bC,useRef:UW,useState:function(){return bC(Fy)},useDebugValue:sD,useDeferredValue:function(e){var t=ea();return GW(t,Xr.memoizedState,e)},useTransition:function(){var e=bC(Fy)[0],t=ea().memoizedState;return[e,t]},useMutableSource:DW,useSyncExternalStore:$W,useId:KW,unstable_isNewReconciler:!1},Hhe={readContext:Zo,useCallback:WW,useContext:Zo,useEffect:iD,useImperativeHandle:qW,useInsertionEffect:VW,useLayoutEffect:zW,useMemo:YW,useReducer:wC,useRef:UW,useState:function(){return wC(Fy)},useDebugValue:sD,useDeferredValue:function(e){var t=ea();return Xr===null?t.memoizedState=e:GW(t,Xr.memoizedState,e)},useTransition:function(){var e=wC(Fy)[0],t=ea().memoizedState;return[e,t]},useMutableSource:DW,useSyncExternalStore:$W,useId:KW,unstable_isNewReconciler:!1};function lm(e,t){try{var n="",r=t;do n+=_de(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function EC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function I2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qhe=typeof WeakMap=="function"?WeakMap:Map;function ZW(e,t,n){n=Il(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mw||(Mw=!0,L2=r),I2(e,t)},n}function eY(e,t,n){n=Il(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){I2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I2(e,t),typeof r!="function"&&(Qc===null?Qc=new Set([this]):Qc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function U4(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qhe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=spe.bind(null,e,t,n),t.then(e,e))}function V4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function z4(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Il(-1,1),t.tag=2,Kc(n,t,1))),n.lanes|=1),e)}var Whe=rc.ReactCurrentOwner,Vs=!1;function ds(e,t,n,r){t.child=e===null?kW(t,null,n,r):am(t,e.child,n,r)}function H4(e,t,n,r,i){n=n.render;var s=t.ref;return Dp(t,i),r=nD(e,t,n,r,s,i),n=rD(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fl(e,t,i)):(fr&&n&&HN(t),t.flags|=1,ds(e,t,r,i),t.child)}function q4(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!hD(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,tY(e,t,s,r,i)):(e=Pb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ry,n(o,r)&&e.ref===t.ref)return Fl(e,t,i)}return t.flags|=1,e=Jc(s,r),e.ref=t.ref,e.return=t,t.child=e}function tY(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ry(s,r)&&e.ref===t.ref)if(Vs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Vs=!0);else return t.lanes=e.lanes,Fl(e,t,i)}return A2(e,t,n,r,i)}function nY(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(yp,lo),lo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(yp,lo),lo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yn(yp,lo),lo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Yn(yp,lo),lo|=r;return ds(e,t,i,n),t.child}function rY(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function A2(e,t,n,r,i){var s=Ys(n)?zd:is.current;return s=sm(t,s),Dp(t,i),n=nD(e,t,n,r,s,i),r=rD(),e!==null&&!Vs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fl(e,t,i)):(fr&&r&&HN(t),t.flags|=1,ds(e,t,n,i),t.child)}function W4(e,t,n,r,i){if(Ys(n)){var s=!0;Aw(t)}else s=!1;if(Dp(t,i),t.stateNode===null)Ab(e,t),PW(t,n,r),x2(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Zo(l):(l=Ys(n)?zd:is.current,l=sm(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&M4(t,o,r,l),xc=!1;var d=t.memoizedState;o.state=d,kw(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Ws.current||xc?(typeof c=="function"&&(S2(t,n,c,r),u=t.memoizedState),(a=xc||L4(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,CW(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Ea(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zo(u):(u=Ys(n)?zd:is.current,u=sm(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&M4(t,o,r,u),xc=!1,d=t.memoizedState,o.state=d,kw(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Ws.current||xc?(typeof h=="function"&&(S2(t,n,h,r),p=t.memoizedState),(l=xc||L4(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return C2(e,t,n,r,s,i)}function C2(e,t,n,r,i,s){rY(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&R4(t,n,!1),Fl(e,t,s);r=t.stateNode,Whe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=am(t,e.child,null,s),t.child=am(t,null,a,s)):ds(e,t,a,s),t.memoizedState=r.state,i&&R4(t,n,!0),t.child}function iY(e){var t=e.stateNode;t.pendingContext?P4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&P4(e,t.context,!1),JN(e,t.containerInfo)}function Y4(e,t,n,r,i){return om(),WN(i),t.flags|=256,ds(e,t,n,r),t.child}var O2={dehydrated:null,treeContext:null,retryLane:0};function P2(e){return{baseLanes:e,cachePool:null,transitions:null}}function sY(e,t,n){var r=t.pendingProps,i=_r.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yn(_r,i&1),e===null)return E2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=px(o,r,0,null),e=Dd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=P2(n),t.memoizedState=O2,e):oD(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yhe(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Jc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jc(a,s):(s=Dd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?P2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=O2,r}return s=e.child,e=s.sibling,r=Jc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oD(e,t){return t=px({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function l1(e,t,n,r){return r!==null&&WN(r),am(t,e.child,null,n),e=oD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yhe(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=EC(Error(ke(422))),l1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=px({mode:"visible",children:r.children},i,0,null),s=Dd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&am(t,e.child,null,o),t.child.memoizedState=P2(o),t.memoizedState=O2,s);if(!(t.mode&1))return l1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ke(419)),r=EC(s,r,void 0),l1(e,t,o,r)}if(a=(o&e.childLanes)!==0,Vs||a){if(r=mi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ml(e,i),$a(r,e,i,-1))}return dD(),r=EC(Error(ke(421))),l1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ope.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,go=Gc(i.nextSibling),_o=t,fr=!0,xa=null,e!==null&&(Bo[jo++]=gl,Bo[jo++]=yl,Bo[jo++]=Hd,gl=e.id,yl=e.overflow,Hd=t),t=oD(t,r.children),t.flags|=4096,t)}function G4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),T2(e.return,t,n)}function TC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oY(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ds(e,t,r.children,n),r=_r.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G4(e,n,t);else if(e.tag===19)G4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yn(_r,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Nw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),TC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Nw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}TC(t,!0,n,null,s);break;case"together":TC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ab(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=Jc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ghe(e,t,n){switch(t.tag){case 3:iY(t),om();break;case 5:NW(t);break;case 1:Ys(t.type)&&Aw(t);break;case 4:JN(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yn(Pw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yn(_r,_r.current&1),t.flags|=128,null):n&t.child.childLanes?sY(e,t,n):(Yn(_r,_r.current&1),e=Fl(e,t,n),e!==null?e.sibling:null);Yn(_r,_r.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oY(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(_r,_r.current),r)break;return null;case 22:case 23:return t.lanes=0,nY(e,t,n)}return Fl(e,t,n)}var aY,R2,uY,lY;aY=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};R2=function(){};uY=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_d(Au.current);var s=null;switch(n){case"input":i=ZP(e,i),r=ZP(e,r),s=[];break;case"select":i=br({},i,{value:void 0}),r=br({},r,{value:void 0}),s=[];break;case"textarea":i=n2(e,i),r=n2(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xw)}i2(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Sy.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Sy.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Qn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};lY=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vg(e,t){if(!fr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Khe(e,t,n){var r=t.pendingProps;switch(qN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:return Ys(t.type)&&Iw(),zi(t),null;case 3:return r=t.stateNode,um(),tr(Ws),tr(is),eD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(a1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xa!==null&&(B2(xa),xa=null))),R2(e,t),zi(t),null;case 5:ZN(t);var i=_d(Ly.current);if(n=t.type,e!==null&&t.stateNode!=null)uY(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return zi(t),null}if(e=_d(Au.current),a1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cu]=t,r[Dy]=s,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<w0.length;i++)Qn(w0[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":r4(r,s),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qn("invalid",r);break;case"textarea":s4(r,s),Qn("invalid",r)}i2(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&o1(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&o1(r.textContent,a,e),i=["children",""+a]):Sy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qn("scroll",r)}switch(n){case"input":Jv(r),i4(r,s,!0);break;case"textarea":Jv(r),o4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lq(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[cu]=t,e[Dy]=r,aY(e,t,!1,!1),t.stateNode=e;e:{switch(o=s2(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<w0.length;i++)Qn(w0[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":r4(e,r),i=ZP(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=br({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":s4(e,r),i=n2(e,r),Qn("invalid",e);break;default:i=r}i2(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Bq(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Mq(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xy(e,u):typeof u=="number"&&xy(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sy.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Qn("scroll",e):u!=null&&PN(e,s,u,o))}switch(n){case"input":Jv(e),i4(e,r,!1);break;case"textarea":Jv(e),o4(e);break;case"option":r.value!=null&&e.setAttribute("value",""+df(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Pp(e,!!r.multiple,s,!1):r.defaultValue!=null&&Pp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&t.stateNode!=null)lY(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));if(n=_d(Ly.current),_d(Au.current),a1(t)){if(r=t.stateNode,n=t.memoizedProps,r[cu]=t,(s=r.nodeValue!==n)&&(e=_o,e!==null))switch(e.tag){case 3:o1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&o1(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cu]=t,t.stateNode=r}return zi(t),null;case 13:if(tr(_r),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fr&&go!==null&&t.mode&1&&!(t.flags&128))IW(),om(),t.flags|=98560,s=!1;else if(s=a1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ke(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[cu]=t}else om(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zi(t),s=!1}else xa!==null&&(B2(xa),xa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?ti===0&&(ti=3):dD())),t.updateQueue!==null&&(t.flags|=4),zi(t),null);case 4:return um(),R2(e,t),e===null&&ky(t.stateNode.containerInfo),zi(t),null;case 10:return KN(t.type._context),zi(t),null;case 17:return Ys(t.type)&&Iw(),zi(t),null;case 19:if(tr(_r),s=t.memoizedState,s===null)return zi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vg(s,!1);else{if(ti!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nw(e),o!==null){for(t.flags|=128,Vg(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yn(_r,_r.current&1|2),t.child}e=e.sibling}s.tail!==null&&Lr()>cm&&(t.flags|=128,r=!0,Vg(s,!1),t.lanes=4194304)}else{if(!r)if(e=Nw(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fr)return zi(t),null}else 2*Lr()-s.renderingStartTime>cm&&n!==1073741824&&(t.flags|=128,r=!0,Vg(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Lr(),t.sibling=null,n=_r.current,Yn(_r,r?n&1|2:n&1),t):(zi(t),null);case 22:case 23:return fD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lo&1073741824&&(zi(t),t.subtreeFlags&6&&(t.flags|=8192)):zi(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function Qhe(e,t){switch(qN(t),t.tag){case 1:return Ys(t.type)&&Iw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return um(),tr(Ws),tr(is),eD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ZN(t),null;case 13:if(tr(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));om()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(_r),null;case 4:return um(),null;case 10:return KN(t.type._context),null;case 22:case 23:return fD(),null;case 24:return null;default:return null}}var c1=!1,Ji=!1,Xhe=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function gp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(e,t,r)}else n.current=null}function k2(e,t,n){try{n()}catch(r){Ir(e,t,r)}}var K4=!1;function Jhe(e,t){if(m2=Ew,e=hW(),zN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(g2={focusedElem:e,selectionRange:n},Ew=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ea(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(E){Ir(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return p=K4,K4=!1,p}function W0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&k2(t,n,s)}i=i.next}while(i!==r)}}function dx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function N2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cY(e){var t=e.alternate;t!==null&&(e.alternate=null,cY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cu],delete t[Dy],delete t[v2],delete t[Dhe],delete t[$he])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fY(e){return e.tag===5||e.tag===3||e.tag===4}function Q4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xw));else if(r!==4&&(e=e.child,e!==null))for(D2(e,t,n),e=e.sibling;e!==null;)D2(e,t,n),e=e.sibling}function $2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($2(e,t,n),e=e.sibling;e!==null;)$2(e,t,n),e=e.sibling}var xi=null,Ta=!1;function pc(e,t,n){for(n=n.child;n!==null;)dY(e,t,n),n=n.sibling}function dY(e,t,n){if(Iu&&typeof Iu.onCommitFiberUnmount=="function")try{Iu.onCommitFiberUnmount(ix,n)}catch{}switch(n.tag){case 5:Ji||gp(n,t);case 6:var r=xi,i=Ta;xi=null,pc(e,t,n),xi=r,Ta=i,xi!==null&&(Ta?(e=xi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xi.removeChild(n.stateNode));break;case 18:xi!==null&&(Ta?(e=xi,n=n.stateNode,e.nodeType===8?gC(e.parentNode,n):e.nodeType===1&&gC(e,n),Oy(e)):gC(xi,n.stateNode));break;case 4:r=xi,i=Ta,xi=n.stateNode.containerInfo,Ta=!0,pc(e,t,n),xi=r,Ta=i;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&k2(n,t,o),i=i.next}while(i!==r)}pc(e,t,n);break;case 1:if(!Ji&&(gp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ir(n,t,a)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:n.mode&1?(Ji=(r=Ji)||n.memoizedState!==null,pc(e,t,n),Ji=r):pc(e,t,n);break;default:pc(e,t,n)}}function X4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xhe),t.forEach(function(r){var i=ape.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ga(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:xi=a.stateNode,Ta=!1;break e;case 3:xi=a.stateNode.containerInfo,Ta=!0;break e;case 4:xi=a.stateNode.containerInfo,Ta=!0;break e}a=a.return}if(xi===null)throw Error(ke(160));dY(s,o,i),xi=null,Ta=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ir(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hY(t,e),t=t.sibling}function hY(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ga(t,e),Ka(e),r&4){try{W0(3,e,e.return),dx(3,e)}catch(m){Ir(e,e.return,m)}try{W0(5,e,e.return)}catch(m){Ir(e,e.return,m)}}break;case 1:ga(t,e),Ka(e),r&512&&n!==null&&gp(n,n.return);break;case 5:if(ga(t,e),Ka(e),r&512&&n!==null&&gp(n,n.return),e.flags&32){var i=e.stateNode;try{xy(i,"")}catch(m){Ir(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Dq(i,s),s2(a,o);var l=s2(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?Bq(i,f):c==="dangerouslySetInnerHTML"?Mq(i,f):c==="children"?xy(i,f):PN(i,c,f,l)}switch(a){case"input":e2(i,s);break;case"textarea":$q(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Pp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Pp(i,!!s.multiple,s.defaultValue,!0):Pp(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dy]=s}catch(m){Ir(e,e.return,m)}}break;case 6:if(ga(t,e),Ka(e),r&4){if(e.stateNode===null)throw Error(ke(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Ir(e,e.return,m)}}break;case 3:if(ga(t,e),Ka(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oy(t.containerInfo)}catch(m){Ir(e,e.return,m)}break;case 4:ga(t,e),Ka(e);break;case 13:ga(t,e),Ka(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lD=Lr())),r&4&&X4(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ji=(l=Ji)||c,ga(t,e),Ji=l):ga(t,e),Ka(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ye=e,c=e.child;c!==null;){for(f=Ye=c;Ye!==null;){switch(d=Ye,h=d.child,d.tag){case 0:case 11:case 14:case 15:W0(4,d,d.return);break;case 1:gp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ir(r,n,m)}}break;case 5:gp(d,d.return);break;case 22:if(d.memoizedState!==null){Z4(f);continue}}h!==null?(h.return=d,Ye=h):Z4(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Fq("display",o))}catch(m){Ir(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ir(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ga(t,e),Ka(e),r&4&&X4(e);break;case 21:break;default:ga(t,e),Ka(e)}}function Ka(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fY(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xy(i,""),r.flags&=-33);var s=Q4(e);$2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Q4(e);D2(e,a,o);break;default:throw Error(ke(161))}}catch(u){Ir(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zhe(e,t,n){Ye=e,pY(e)}function pY(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||c1;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ji;a=c1;var l=Ji;if(c1=o,(Ji=u)&&!l)for(Ye=i;Ye!==null;)o=Ye,u=o.child,o.tag===22&&o.memoizedState!==null?e5(i):u!==null?(u.return=o,Ye=u):e5(i);for(;s!==null;)Ye=s,pY(s),s=s.sibling;Ye=i,c1=a,Ji=l}J4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):J4(e)}}function J4(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ji||dx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ji)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ea(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$4(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$4(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Oy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Ji||t.flags&512&&N2(t)}catch(d){Ir(t,t.return,d)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function Z4(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function e5(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dx(4,t)}catch(u){Ir(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ir(t,i,u)}}var s=t.return;try{N2(t)}catch(u){Ir(t,s,u)}break;case 5:var o=t.return;try{N2(t)}catch(u){Ir(t,o,u)}}}catch(u){Ir(t,t.return,u)}if(t===e){Ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ye=a;break}Ye=t.return}}var epe=Math.ceil,Lw=rc.ReactCurrentDispatcher,aD=rc.ReactCurrentOwner,Qo=rc.ReactCurrentBatchConfig,mn=0,mi=null,qr=null,Ni=0,lo=0,yp=Df(0),ti=0,jy=null,Wd=0,hx=0,uD=0,Y0=null,Ms=null,lD=0,cm=1/0,ol=null,Mw=!1,L2=null,Qc=null,f1=!1,jc=null,Fw=0,G0=0,M2=null,Cb=-1,Ob=0;function gs(){return mn&6?Lr():Cb!==-1?Cb:Cb=Lr()}function Xc(e){return e.mode&1?mn&2&&Ni!==0?Ni&-Ni:Mhe.transition!==null?(Ob===0&&(Ob=Xq()),Ob):(e=kn,e!==0||(e=window.event,e=e===void 0?16:iW(e.type)),e):1}function $a(e,t,n,r){if(50<G0)throw G0=0,M2=null,Error(ke(185));z_(e,n,r),(!(mn&2)||e!==mi)&&(e===mi&&(!(mn&2)&&(hx|=n),ti===4&&Rc(e,Ni)),Gs(e,r),n===1&&mn===0&&!(t.mode&1)&&(cm=Lr()+500,lx&&$f()))}function Gs(e,t){var n=e.callbackNode;Mde(e,t);var r=ww(e,e===mi?Ni:0);if(r===0)n!==null&&l4(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&l4(n),t===1)e.tag===0?Lhe(t5.bind(null,e)):TW(t5.bind(null,e)),khe(function(){!(mn&6)&&$f()}),n=null;else{switch(Jq(r)){case 1:n=$N;break;case 4:n=Kq;break;case 16:n=bw;break;case 536870912:n=Qq;break;default:n=bw}n=EY(n,mY.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mY(e,t){if(Cb=-1,Ob=0,mn&6)throw Error(ke(327));var n=e.callbackNode;if($p()&&e.callbackNode!==n)return null;var r=ww(e,e===mi?Ni:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bw(e,r);else{t=r;var i=mn;mn|=2;var s=yY();(mi!==e||Ni!==t)&&(ol=null,cm=Lr()+500,Nd(e,t));do try{rpe();break}catch(a){gY(e,a)}while(!0);GN(),Lw.current=s,mn=i,qr!==null?t=0:(mi=null,Ni=0,t=ti)}if(t!==0){if(t===2&&(i=c2(e),i!==0&&(r=i,t=F2(e,i))),t===1)throw n=jy,Nd(e,0),Rc(e,r),Gs(e,Lr()),n;if(t===6)Rc(e,r);else{if(i=e.current.alternate,!(r&30)&&!tpe(i)&&(t=Bw(e,r),t===2&&(s=c2(e),s!==0&&(r=s,t=F2(e,s))),t===1))throw n=jy,Nd(e,0),Rc(e,r),Gs(e,Lr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ke(345));case 2:td(e,Ms,ol);break;case 3:if(Rc(e,r),(r&130023424)===r&&(t=lD+500-Lr(),10<t)){if(ww(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_2(td.bind(null,e,Ms,ol),t);break}td(e,Ms,ol);break;case 4:if(Rc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Da(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*epe(r/1960))-r,10<r){e.timeoutHandle=_2(td.bind(null,e,Ms,ol),r);break}td(e,Ms,ol);break;case 5:td(e,Ms,ol);break;default:throw Error(ke(329))}}}return Gs(e,Lr()),e.callbackNode===n?mY.bind(null,e):null}function F2(e,t){var n=Y0;return e.current.memoizedState.isDehydrated&&(Nd(e,t).flags|=256),e=Bw(e,t),e!==2&&(t=Ms,Ms=n,t!==null&&B2(t)),e}function B2(e){Ms===null?Ms=e:Ms.push.apply(Ms,e)}function tpe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ja(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rc(e,t){for(t&=~uD,t&=~hx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Da(t),r=1<<n;e[n]=-1,t&=~r}}function t5(e){if(mn&6)throw Error(ke(327));$p();var t=ww(e,0);if(!(t&1))return Gs(e,Lr()),null;var n=Bw(e,t);if(e.tag!==0&&n===2){var r=c2(e);r!==0&&(t=r,n=F2(e,r))}if(n===1)throw n=jy,Nd(e,0),Rc(e,t),Gs(e,Lr()),n;if(n===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,td(e,Ms,ol),Gs(e,Lr()),null}function cD(e,t){var n=mn;mn|=1;try{return e(t)}finally{mn=n,mn===0&&(cm=Lr()+500,lx&&$f())}}function Yd(e){jc!==null&&jc.tag===0&&!(mn&6)&&$p();var t=mn;mn|=1;var n=Qo.transition,r=kn;try{if(Qo.transition=null,kn=1,e)return e()}finally{kn=r,Qo.transition=n,mn=t,!(mn&6)&&$f()}}function fD(){lo=yp.current,tr(yp)}function Nd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rhe(n)),qr!==null)for(n=qr.return;n!==null;){var r=n;switch(qN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iw();break;case 3:um(),tr(Ws),tr(is),eD();break;case 5:ZN(r);break;case 4:um();break;case 13:tr(_r);break;case 19:tr(_r);break;case 10:KN(r.type._context);break;case 22:case 23:fD()}n=n.return}if(mi=e,qr=e=Jc(e.current,null),Ni=lo=t,ti=0,jy=null,uD=hx=Wd=0,Ms=Y0=null,yd!==null){for(t=0;t<yd.length;t++)if(n=yd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yd=null}return e}function gY(e,t){do{var n=qr;try{if(GN(),xb.current=$w,Dw){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dw=!1}if(qd=0,di=Xr=vr=null,q0=!1,My=0,aD.current=null,n===null||n.return===null){ti=1,jy=t,qr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ni,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=V4(o);if(h!==null){h.flags&=-257,z4(h,o,a,s,t),h.mode&1&&U4(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){U4(s,l,t),dD();break e}u=Error(ke(426))}}else if(fr&&a.mode&1){var y=V4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),z4(y,o,a,s,t),WN(lm(u,a));break e}}s=u=lm(u,a),ti!==4&&(ti=2),Y0===null?Y0=[s]:Y0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=ZW(s,u,t);D4(s,g);break e;case 1:a=u;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qc===null||!Qc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=eY(s,a,t);D4(s,E);break e}}s=s.return}while(s!==null)}vY(n)}catch(S){t=S,qr===n&&n!==null&&(qr=n=n.return);continue}break}while(!0)}function yY(){var e=Lw.current;return Lw.current=$w,e===null?$w:e}function dD(){(ti===0||ti===3||ti===2)&&(ti=4),mi===null||!(Wd&268435455)&&!(hx&268435455)||Rc(mi,Ni)}function Bw(e,t){var n=mn;mn|=2;var r=yY();(mi!==e||Ni!==t)&&(ol=null,Nd(e,t));do try{npe();break}catch(i){gY(e,i)}while(!0);if(GN(),mn=n,Lw.current=r,qr!==null)throw Error(ke(261));return mi=null,Ni=0,ti}function npe(){for(;qr!==null;)_Y(qr)}function rpe(){for(;qr!==null&&!Cde();)_Y(qr)}function _Y(e){var t=wY(e.alternate,e,lo);e.memoizedProps=e.pendingProps,t===null?vY(e):qr=t,aD.current=null}function vY(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qhe(n,t),n!==null){n.flags&=32767,qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ti=6,qr=null;return}}else if(n=Khe(n,t,lo),n!==null){qr=n;return}if(t=t.sibling,t!==null){qr=t;return}qr=t=e}while(t!==null);ti===0&&(ti=5)}function td(e,t,n){var r=kn,i=Qo.transition;try{Qo.transition=null,kn=1,ipe(e,t,n,r)}finally{Qo.transition=i,kn=r}return null}function ipe(e,t,n,r){do $p();while(jc!==null);if(mn&6)throw Error(ke(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fde(e,s),e===mi&&(qr=mi=null,Ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,EY(bw,function(){return $p(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qo.transition,Qo.transition=null;var o=kn;kn=1;var a=mn;mn|=4,aD.current=null,Jhe(e,n),hY(n,e),She(g2),Ew=!!m2,g2=m2=null,e.current=n,Zhe(n),Ode(),mn=a,kn=o,Qo.transition=s}else e.current=n;if(f1&&(f1=!1,jc=e,Fw=i),s=e.pendingLanes,s===0&&(Qc=null),kde(n.stateNode),Gs(e,Lr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mw)throw Mw=!1,e=L2,L2=null,e;return Fw&1&&e.tag!==0&&$p(),s=e.pendingLanes,s&1?e===M2?G0++:(G0=0,M2=e):G0=0,$f(),null}function $p(){if(jc!==null){var e=Jq(Fw),t=Qo.transition,n=kn;try{if(Qo.transition=null,kn=16>e?16:e,jc===null)var r=!1;else{if(e=jc,jc=null,Fw=0,mn&6)throw Error(ke(331));var i=mn;for(mn|=4,Ye=e.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ye=l;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:W0(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ye=f;else for(;Ye!==null;){c=Ye;var d=c.sibling,h=c.return;if(cY(c),c===l){Ye=null;break}if(d!==null){d.return=h,Ye=d;break}Ye=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:W0(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ye=g;break e}Ye=s.return}}var _=e.current;for(Ye=_;Ye!==null;){o=Ye;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ye=v;else e:for(o=_;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(S){Ir(a,a.return,S)}if(a===o){Ye=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ye=E;break e}Ye=a.return}}if(mn=i,$f(),Iu&&typeof Iu.onPostCommitFiberRoot=="function")try{Iu.onPostCommitFiberRoot(ix,e)}catch{}r=!0}return r}finally{kn=n,Qo.transition=t}}return!1}function n5(e,t,n){t=lm(n,t),t=ZW(e,t,1),e=Kc(e,t,1),t=gs(),e!==null&&(z_(e,1,t),Gs(e,t))}function Ir(e,t,n){if(e.tag===3)n5(e,e,n);else for(;t!==null;){if(t.tag===3){n5(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qc===null||!Qc.has(r))){e=lm(n,e),e=eY(t,e,1),t=Kc(t,e,1),e=gs(),t!==null&&(z_(t,1,e),Gs(t,e));break}}t=t.return}}function spe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gs(),e.pingedLanes|=e.suspendedLanes&n,mi===e&&(Ni&n)===n&&(ti===4||ti===3&&(Ni&130023424)===Ni&&500>Lr()-lD?Nd(e,0):uD|=n),Gs(e,t)}function bY(e,t){t===0&&(e.mode&1?(t=t1,t1<<=1,!(t1&130023424)&&(t1=4194304)):t=1);var n=gs();e=Ml(e,t),e!==null&&(z_(e,t,n),Gs(e,n))}function ope(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bY(e,n)}function ape(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(t),bY(e,n)}var wY;wY=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ws.current)Vs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vs=!1,Ghe(e,t,n);Vs=!!(e.flags&131072)}else Vs=!1,fr&&t.flags&1048576&&SW(t,Ow,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ab(e,t),e=t.pendingProps;var i=sm(t,is.current);Dp(t,n),i=nD(null,t,r,e,i,n);var s=rD();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ys(r)?(s=!0,Aw(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,XN(t),i.updater=cx,t.stateNode=i,i._reactInternals=t,x2(t,r,e,n),t=C2(null,t,r,!0,s,n)):(t.tag=0,fr&&s&&HN(t),ds(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ab(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=lpe(r),e=Ea(r,e),i){case 0:t=A2(null,t,r,e,n);break e;case 1:t=W4(null,t,r,e,n);break e;case 11:t=H4(null,t,r,e,n);break e;case 14:t=q4(null,t,r,Ea(r.type,e),n);break e}throw Error(ke(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ea(r,i),A2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ea(r,i),W4(e,t,r,i,n);case 3:e:{if(iY(t),e===null)throw Error(ke(387));r=t.pendingProps,s=t.memoizedState,i=s.element,CW(e,t),kw(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=lm(Error(ke(423)),t),t=Y4(e,t,r,n,i);break e}else if(r!==i){i=lm(Error(ke(424)),t),t=Y4(e,t,r,n,i);break e}else for(go=Gc(t.stateNode.containerInfo.firstChild),_o=t,fr=!0,xa=null,n=kW(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(om(),r===i){t=Fl(e,t,n);break e}ds(e,t,r,n)}t=t.child}return t;case 5:return NW(t),e===null&&E2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,y2(r,i)?o=null:s!==null&&y2(r,s)&&(t.flags|=32),rY(e,t),ds(e,t,o,n),t.child;case 6:return e===null&&E2(t),null;case 13:return sY(e,t,n);case 4:return JN(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=am(t,null,r,n):ds(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ea(r,i),H4(e,t,r,i,n);case 7:return ds(e,t,t.pendingProps,n),t.child;case 8:return ds(e,t,t.pendingProps.children,n),t.child;case 12:return ds(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Yn(Pw,r._currentValue),r._currentValue=o,s!==null)if(ja(s.value,o)){if(s.children===i.children&&!Ws.current){t=Fl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Il(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),T2(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),T2(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ds(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Dp(t,n),i=Zo(i),r=r(i),t.flags|=1,ds(e,t,r,n),t.child;case 14:return r=t.type,i=Ea(r,t.pendingProps),i=Ea(r.type,i),q4(e,t,r,i,n);case 15:return tY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ea(r,i),Ab(e,t),t.tag=1,Ys(r)?(e=!0,Aw(t)):e=!1,Dp(t,n),PW(t,r,i),x2(t,r,i,n),C2(null,t,r,!0,e,n);case 19:return oY(e,t,n);case 22:return nY(e,t,n)}throw Error(ke(156,t.tag))};function EY(e,t){return Gq(e,t)}function upe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Go(e,t,n,r){return new upe(e,t,n,r)}function hD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lpe(e){if(typeof e=="function")return hD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kN)return 11;if(e===NN)return 14}return 2}function Jc(e,t){var n=e.alternate;return n===null?(n=Go(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pb(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")hD(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ap:return Dd(n.children,i,s,t);case RN:o=8,i|=8;break;case KP:return e=Go(12,n,t,i|2),e.elementType=KP,e.lanes=s,e;case QP:return e=Go(13,n,t,i),e.elementType=QP,e.lanes=s,e;case XP:return e=Go(19,n,t,i),e.elementType=XP,e.lanes=s,e;case Rq:return px(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oq:o=10;break e;case Pq:o=9;break e;case kN:o=11;break e;case NN:o=14;break e;case Sc:o=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Go(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Dd(e,t,n,r){return e=Go(7,e,r,t),e.lanes=n,e}function px(e,t,n,r){return e=Go(22,e,r,t),e.elementType=Rq,e.lanes=n,e.stateNode={isHidden:!1},e}function SC(e,t,n){return e=Go(6,e,null,t),e.lanes=n,e}function xC(e,t,n){return t=Go(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cpe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sC(0),this.expirationTimes=sC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pD(e,t,n,r,i,s,o,a,u){return e=new cpe(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Go(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},XN(s),e}function fpe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:op,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function TY(e){if(!e)return hf;e=e._reactInternals;e:{if(mh(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ys(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var n=e.type;if(Ys(n))return EW(e,n,t)}return t}function SY(e,t,n,r,i,s,o,a,u){return e=pD(n,r,!0,e,i,s,o,a,u),e.context=TY(null),n=e.current,r=gs(),i=Xc(n),s=Il(r,i),s.callback=t??null,Kc(n,s,i),e.current.lanes=i,z_(e,i,r),Gs(e,r),e}function mx(e,t,n,r){var i=t.current,s=gs(),o=Xc(i);return n=TY(n),t.context===null?t.context=n:t.pendingContext=n,t=Il(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kc(i,t,o),e!==null&&($a(e,i,o,s),Sb(e,i,o)),o}function jw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mD(e,t){r5(e,t),(e=e.alternate)&&r5(e,t)}function dpe(){return null}var xY=typeof reportError=="function"?reportError:function(e){console.error(e)};function gD(e){this._internalRoot=e}gx.prototype.render=gD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));mx(e,t,null,null)};gx.prototype.unmount=gD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yd(function(){mx(null,e,null,null)}),t[Ll]=null}};function gx(e){this._internalRoot=e}gx.prototype.unstable_scheduleHydration=function(e){if(e){var t=tW();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pc.length&&t!==0&&t<Pc[n].priority;n++);Pc.splice(n,0,e),n===0&&rW(e)}};function yD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function i5(){}function hpe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=jw(o);s.call(l)}}var o=SY(t,r,e,0,null,!1,!1,"",i5);return e._reactRootContainer=o,e[Ll]=o.current,ky(e.nodeType===8?e.parentNode:e),Yd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=jw(u);a.call(l)}}var u=pD(e,0,!1,null,null,!1,!1,"",i5);return e._reactRootContainer=u,e[Ll]=u.current,ky(e.nodeType===8?e.parentNode:e),Yd(function(){mx(t,u,n,r)}),u}function _x(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=jw(o);a.call(u)}}mx(t,o,e,i)}else o=hpe(n,t,e,i,r);return jw(o)}Zq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=b0(t.pendingLanes);n!==0&&(LN(t,n|1),Gs(t,Lr()),!(mn&6)&&(cm=Lr()+500,$f()))}break;case 13:Yd(function(){var r=Ml(e,1);if(r!==null){var i=gs();$a(r,e,1,i)}}),mD(e,1)}};MN=function(e){if(e.tag===13){var t=Ml(e,134217728);if(t!==null){var n=gs();$a(t,e,134217728,n)}mD(e,134217728)}};eW=function(e){if(e.tag===13){var t=Xc(e),n=Ml(e,t);if(n!==null){var r=gs();$a(n,e,t,r)}mD(e,t)}};tW=function(){return kn};nW=function(e,t){var n=kn;try{return kn=e,t()}finally{kn=n}};a2=function(e,t,n){switch(t){case"input":if(e2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ux(r);if(!i)throw Error(ke(90));Nq(r),e2(r,i)}}}break;case"textarea":$q(e,n);break;case"select":t=n.value,t!=null&&Pp(e,!!n.multiple,t,!1)}};Vq=cD;zq=Yd;var ppe={usingClientEntryPoint:!1,Events:[q_,fp,ux,jq,Uq,cD]},zg={findFiberByHostInstance:gd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mpe={bundleType:zg.bundleType,version:zg.version,rendererPackageName:zg.rendererPackageName,rendererConfig:zg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wq(e),e===null?null:e.stateNode},findFiberByHostInstance:zg.findFiberByHostInstance||dpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d1.isDisabled&&d1.supportsFiber)try{ix=d1.inject(mpe),Iu=d1}catch{}}Ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ppe;Ao.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yD(t))throw Error(ke(200));return fpe(e,t,null,n)};Ao.createRoot=function(e,t){if(!yD(e))throw Error(ke(299));var n=!1,r="",i=xY;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pD(e,1,!1,null,null,n,!1,r,i),e[Ll]=t.current,ky(e.nodeType===8?e.parentNode:e),new gD(t)};Ao.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=Wq(t),e=e===null?null:e.stateNode,e};Ao.flushSync=function(e){return Yd(e)};Ao.hydrate=function(e,t,n){if(!yx(t))throw Error(ke(200));return _x(null,e,t,!0,n)};Ao.hydrateRoot=function(e,t,n){if(!yD(e))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xY;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SY(t,null,e,1,n??null,i,!1,s,o),e[Ll]=t.current,ky(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gx(t)};Ao.render=function(e,t,n){if(!yx(t))throw Error(ke(200));return _x(null,e,t,!1,n)};Ao.unmountComponentAtNode=function(e){if(!yx(e))throw Error(ke(40));return e._reactRootContainer?(Yd(function(){_x(null,null,e,!1,function(){e._reactRootContainer=null,e[Ll]=null})}),!0):!1};Ao.unstable_batchedUpdates=cD;Ao.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yx(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return _x(e,t,n,!1,r)};Ao.version="18.2.0-next-9e3b772b8-20220608";function IY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IY)}catch(e){console.error(e)}}IY(),Sq.exports=Ao;var gh=Sq.exports,s5=gh;YP.createRoot=s5.createRoot,YP.hydrateRoot=s5.hydrateRoot;const AY=T.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Lf=()=>T.useContext(AY);function gpe({children:e}){const[t,n]=N.useState(void 0),r=N.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return P.jsx(AY.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(this,arguments)}var Uc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Uc||(Uc={}));const o5="popstate";function ype(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return j2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:CY(i)}return vpe(t,n,null,e)}function Yr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _D(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _pe(){return Math.random().toString(36).substr(2,8)}function a5(e,t){return{usr:e.state,key:e.key,idx:t}}function j2(e,t,n,r){return n===void 0&&(n=null),Uy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gm(t):t,{state:n,key:t&&t.key||r||_pe()})}function CY(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Gm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vpe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Uc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Uy({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Uc.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=Uc.Push;let _=j2(m.location,y,g);n&&n(_,y),l=c()+1;let v=a5(_,l),E=m.createHref(_);try{o.pushState(v,"",E)}catch{i.location.assign(E)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=Uc.Replace;let _=j2(m.location,y,g);n&&n(_,y),l=c();let v=a5(_,l),E=m.createHref(_);o.replaceState(v,"",E),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:CY(y);return Yr(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(o5,f),u=y,()=>{i.removeEventListener(o5,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var u5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u5||(u5={}));function bpe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Gm(t):t,i=RY(r.pathname||"/",n);if(i==null)return null;let s=OY(e);wpe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Ppe(s[a],Npe(i));return o}function OY(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Yr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Zc([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Yr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),OY(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Cpe(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of PY(s.path))i(s,o,u)}),t}function PY(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PY(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function wpe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ope(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Epe=/^:\w+$/,Tpe=3,Spe=2,xpe=1,Ipe=10,Ape=-2,l5=e=>e==="*";function Cpe(e,t){let n=e.split("/"),r=n.length;return n.some(l5)&&(r+=Ape),t&&(r+=Spe),n.filter(i=>!l5(i)).reduce((i,s)=>i+(Epe.test(s)?Tpe:s===""?xpe:Ipe),r)}function Ope(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ppe(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Rpe({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Zc([i,c.pathname]),pathnameBase:Mpe(Zc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Zc([i,c.pathnameBase]))}return s}function Rpe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kpe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=Dpe(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function kpe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_D(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Npe(e){try{return decodeURI(e)}catch(t){return _D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dpe(e,t){try{return decodeURIComponent(e)}catch(n){return _D(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function RY(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $pe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Gm(e):e;return{pathname:n?n.startsWith("/")?n:Lpe(n,t):t,search:Fpe(r),hash:Bpe(i)}}function Lpe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function IC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function NY(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Gm(e):(i=Uy({},e),Yr(!i.pathname||!i.pathname.includes("?"),IC("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),IC("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),IC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=$pe(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Zc=e=>e.join("/").replace(/\/\/+/g,"/"),Mpe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fpe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bpe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jpe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DY=["post","put","patch","delete"];new Set(DY);const Upe=["get",...DY];new Set(Upe);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vpe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const zpe=typeof Object.is=="function"?Object.is:Vpe,{useState:Hpe,useEffect:qpe,useLayoutEffect:Wpe,useDebugValue:Ype}=Vd;function Gpe(e,t,n){const r=t(),[{inst:i},s]=Hpe({inst:{value:r,getSnapshot:t}});return Wpe(()=>{i.value=r,i.getSnapshot=t,AC(i)&&s({inst:i})},[e,r,t]),qpe(()=>(AC(i)&&s({inst:i}),e(()=>{AC(i)&&s({inst:i})})),[e]),Ype(r),r}function AC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!zpe(n,r)}catch{return!0}}function Kpe(e,t,n){return t()}const Qpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xpe=!Qpe,Jpe=Xpe?Kpe:Gpe;"useSyncExternalStore"in Vd&&(e=>e.useSyncExternalStore)(Vd);const $Y=T.createContext(null),vD=T.createContext(null),vx=T.createContext(null),bx=T.createContext(null),Mf=T.createContext({outlet:null,matches:[]}),LY=T.createContext(null);function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U2.apply(this,arguments)}function Zpe(e,t){let{relative:n}=t===void 0?{}:t;Km()||Yr(!1);let{basename:r,navigator:i}=T.useContext(vx),{hash:s,pathname:o,search:a}=nme(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Zc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Km(){return T.useContext(bx)!=null}function Qm(){return Km()||Yr(!1),T.useContext(bx).location}function Xm(){Km()||Yr(!1);let{basename:e,navigator:t}=T.useContext(vx),{matches:n}=T.useContext(Mf),{pathname:r}=Qm(),i=JSON.stringify(kY(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=NY(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:Zc([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const eme=T.createContext(null);function tme(e){let t=T.useContext(Mf).outlet;return t&&T.createElement(eme.Provider,{value:e},t)}function MY(){let{matches:e}=T.useContext(Mf),t=e[e.length-1];return t?t.params:{}}function nme(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=T.useContext(Mf),{pathname:i}=Qm(),s=JSON.stringify(kY(r).map(o=>o.pathnameBase));return T.useMemo(()=>NY(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function FY(e,t){Km()||Yr(!1);let{navigator:n}=T.useContext(vx),r=T.useContext(vD),{matches:i}=T.useContext(Mf),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Qm(),l;if(t){var c;let m=typeof t=="string"?Gm(t):t;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Yr(!1),l=m}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=bpe(e,{pathname:d}),p=ome(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Zc([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Zc([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return t&&p?T.createElement(bx.Provider,{value:{location:U2({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Uc.Pop}},p):p}function rme(){let e=cme(),t=jpe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,s)}class ime extends T.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?T.createElement(Mf.Provider,{value:this.props.routeContext},T.createElement(LY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sme(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext($Y);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Mf.Provider,{value:t},r)}function ome(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Yr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=T.createElement(rme,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=T.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),T.createElement(sme,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(ime,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var c5;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(c5||(c5={}));var Uw;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Uw||(Uw={}));function ame(e){let t=T.useContext(vD);return t||Yr(!1),t}function ume(e){let t=T.useContext(Mf);return t||Yr(!1),t}function lme(e){let t=ume(),n=t.matches[t.matches.length-1];return n.route.id||Yr(!1),n.route.id}function cme(){var e;let t=T.useContext(LY),n=ame(Uw.UseRouteError),r=lme(Uw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function fme(e){let{to:t,replace:n,state:r,relative:i}=e;Km()||Yr(!1);let s=T.useContext(vD),o=Xm();return T.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function dme(e){return tme(e.context)}function V2(e){Yr(!1)}function hme(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Uc.Pop,navigator:s,static:o=!1}=e;Km()&&Yr(!1);let a=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Gm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=T.useMemo(()=>{let m=RY(l,a);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:T.createElement(vx.Provider,{value:u},T.createElement(bx.Provider,{children:n,value:p}))}function pme(e){let{children:t,location:n}=e,r=T.useContext($Y),i=r&&!t?r.router.routes:z2(t);return FY(i,n)}var f5;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(f5||(f5={}));new Promise(()=>{});function z2(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,z2(r.props.children,s));return}r.type!==V2&&Yr(!1),!r.props.index||!r.props.children||Yr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=z2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function mme(e,t){let n=H2(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function gme(e){let{basename:t,children:n,window:r}=e,i=T.useRef();i.current==null&&(i.current=ype({window:r,v5Compat:!0}));let s=i.current,[o,a]=T.useState({action:s.action,location:s.location});return T.useLayoutEffect(()=>s.listen(a),[s]),T.createElement(hme,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var d5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(d5||(d5={}));var h5;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(h5||(h5={}));function bD(e){let t=T.useRef(H2(e)),n=T.useRef(!1),r=Qm(),i=T.useMemo(()=>mme(r.search,n.current?null:t.current),[r.search]),s=Xm(),o=T.useCallback((a,u)=>{const l=H2(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Vw(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function yme(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function _me(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function vme(e,t,n){return Vw(e,n)===Vw(t,n)}function bme({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Vw(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>vme(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=_me(c,l,r),d=yme(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function wme(e,t,n){var r;return n?Array.from(((r=Vw(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function BY(e){const t=T.createContext(null);return[({children:i,value:s})=>N.createElement(t.Provider,{value:s},i),()=>{const i=T.useContext(t);if(i===null)throw new Error(e);return i}]}function Gd(e){return Array.isArray(e)?e:[e]}const Eme=()=>{};function Tme(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Eme:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function _l(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Sme(){const[e,t]=T.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function jY({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function Y_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==N.Fragment:!1}function UY(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=UY(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function VY(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=UY(t))&&(r&&(r+=" "),r+=n);return r}const xme={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Ime(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Ame=Object.defineProperty,p5=Object.getOwnPropertySymbols,Cme=Object.prototype.hasOwnProperty,Ome=Object.prototype.propertyIsEnumerable,m5=(e,t,n)=>t in e?Ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g5=(e,t)=>{for(var n in t||(t={}))Cme.call(t,n)&&m5(e,n,t[n]);if(p5)for(var n of p5(t))Ome.call(t,n)&&m5(e,n,t[n]);return e};function Pme(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:g5({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:g5({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function G_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function wD(e){const t=G_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function zY(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Rme(e,...t){return`linear-gradient(${e}deg, ${zY(t)})`}function kme(...e){return`radial-gradient(circle, ${zY(e)})`}function HY(e){const t=wD(e),n=G_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function ED(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Nme(e){return t=>`@media (min-width: ${ED({size:t,sizes:e.breakpoints})}px)`}function Dme(e){return t=>`@media (max-width: ${ED({size:t,sizes:e.breakpoints})-1}px)`}function $me(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Lme(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Mme(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function TD(e){return $me(e)?Lme(e):e.startsWith("rgb")?Mme(e):{r:0,g:0,b:0,a:1}}function Kh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=TD(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Fme(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Bme(e,t){const{r:n,g:r,b:i,a:s}=TD(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function jme(e,t){const{r:n,g:r,b:i,a:s}=TD(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Ume(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Vme(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function zme(e){const t=wD(e),n=G_(e),r=HY(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Vme(s,e);switch(i){case"light":return{border:"transparent",background:Kh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Kh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Kh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Kh(t(s,5,a,!1),.05):Kh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Hme(e){return t=>{const n=G_(e)(t);return e.colors[e.primaryColor][n]}}function qme(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const li={fontStyles:Ime,themeColor:wD,focusStyles:Pme,linearGradient:Rme,radialGradient:kme,smallerThan:Dme,largerThan:Nme,rgba:Kh,size:ED,cover:Fme,darken:Bme,lighten:jme,radius:Ume,variant:zme,primaryShade:G_,hover:qme,gradient:HY,primaryColor:Hme};var Wme=Object.defineProperty,Yme=Object.defineProperties,Gme=Object.getOwnPropertyDescriptors,y5=Object.getOwnPropertySymbols,Kme=Object.prototype.hasOwnProperty,Qme=Object.prototype.propertyIsEnumerable,_5=(e,t,n)=>t in e?Wme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xme=(e,t)=>{for(var n in t||(t={}))Kme.call(t,n)&&_5(e,n,t[n]);if(y5)for(var n of y5(t))Qme.call(t,n)&&_5(e,n,t[n]);return e},Jme=(e,t)=>Yme(e,Gme(t));function Zme(e){return Jme(Xme({},e),{fn:{fontStyles:li.fontStyles(e),themeColor:li.themeColor(e),focusStyles:li.focusStyles(e),largerThan:li.largerThan(e),smallerThan:li.smallerThan(e),radialGradient:li.radialGradient,linearGradient:li.linearGradient,gradient:li.gradient(e),rgba:li.rgba,size:li.size,cover:li.cover,lighten:li.lighten,darken:li.darken,primaryShade:li.primaryShade(e),radius:li.radius(e),variant:li.variant(e),hover:li.hover,primaryColor:li.primaryColor(e)}})}const ege=["xs","sm","md","lg","xl"],tge={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:xme,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},qY=Zme(tge);function nge(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function rge(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ige=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rge(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=nge(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ki="-ms-",zw="-moz-",xn="-webkit-",WY="comm",SD="rule",xD="decl",sge="@import",YY="@keyframes",oge=Math.abs,wx=String.fromCharCode,age=Object.assign;function uge(e,t){return Oi(e,0)^45?(((t<<2^Oi(e,0))<<2^Oi(e,1))<<2^Oi(e,2))<<2^Oi(e,3):0}function GY(e){return e.trim()}function lge(e,t){return(e=t.exec(e))?e[0]:e}function On(e,t,n){return e.replace(t,n)}function q2(e,t){return e.indexOf(t)}function Oi(e,t){return e.charCodeAt(t)|0}function Vy(e,t,n){return e.slice(t,n)}function uu(e){return e.length}function ID(e){return e.length}function h1(e,t){return t.push(e),e}function cge(e,t){return e.map(t).join("")}var Ex=1,fm=1,KY=0,Xs=0,Hr=0,Jm="";function Tx(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ex,column:fm,length:o,return:""}}function Hg(e,t){return age(Tx("",null,null,"",null,null,0),e,{length:-e.length},t)}function fge(){return Hr}function dge(){return Hr=Xs>0?Oi(Jm,--Xs):0,fm--,Hr===10&&(fm=1,Ex--),Hr}function vo(){return Hr=Xs<KY?Oi(Jm,Xs++):0,fm++,Hr===10&&(fm=1,Ex++),Hr}function Cu(){return Oi(Jm,Xs)}function Rb(){return Xs}function K_(e,t){return Vy(Jm,e,t)}function zy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QY(e){return Ex=fm=1,KY=uu(Jm=e),Xs=0,[]}function XY(e){return Jm="",e}function kb(e){return GY(K_(Xs-1,W2(e===91?e+2:e===40?e+1:e)))}function hge(e){for(;(Hr=Cu())&&Hr<33;)vo();return zy(e)>2||zy(Hr)>3?"":" "}function pge(e,t){for(;--t&&vo()&&!(Hr<48||Hr>102||Hr>57&&Hr<65||Hr>70&&Hr<97););return K_(e,Rb()+(t<6&&Cu()==32&&vo()==32))}function W2(e){for(;vo();)switch(Hr){case e:return Xs;case 34:case 39:e!==34&&e!==39&&W2(Hr);break;case 40:e===41&&W2(e);break;case 92:vo();break}return Xs}function mge(e,t){for(;vo()&&e+Hr!==57;)if(e+Hr===84&&Cu()===47)break;return"/*"+K_(t,Xs-1)+"*"+wx(e===47?e:vo())}function gge(e){for(;!zy(Cu());)vo();return K_(e,Xs)}function yge(e){return XY(Nb("",null,null,null,[""],e=QY(e),0,[0],e))}function Nb(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,_=0,v="",E=i,S=s,w=r,x=v;y;)switch(p=_,_=vo()){case 40:if(p!=108&&Oi(x,f-1)==58){q2(x+=On(kb(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:x+=kb(_);break;case 9:case 10:case 13:case 32:x+=hge(p);break;case 92:x+=pge(Rb()-1,7);continue;case 47:switch(Cu()){case 42:case 47:h1(_ge(mge(vo(),Rb()),t,n),u);break;default:x+="/"}break;case 123*m:a[l++]=uu(x)*g;case 125*m:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&uu(x)-f&&h1(h>32?b5(x+";",r,n,f-1):b5(On(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(h1(w=v5(x,t,n,l,c,i,a,v,E=[],S=[],f),s),_===123)if(c===0)Nb(x,t,w,w,E,s,f,a,S);else switch(d===99&&Oi(x,3)===110?100:d){case 100:case 109:case 115:Nb(e,w,w,r&&h1(v5(e,w,w,0,0,i,a,v,i,E=[],f),S),i,S,f,a,r?E:S);break;default:Nb(x,w,w,w,[""],S,0,a,S)}}l=c=h=0,m=g=1,v=x="",f=o;break;case 58:f=1+uu(x),h=p;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&dge()==125)continue}switch(x+=wx(_),_*m){case 38:g=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(uu(x)-1)*g,g=1;break;case 64:Cu()===45&&(x+=kb(vo())),d=Cu(),c=f=uu(v=x+=gge(Rb())),_++;break;case 45:p===45&&uu(x)==2&&(m=0)}}return s}function v5(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=ID(d),p=0,m=0,y=0;p<r;++p)for(var g=0,_=Vy(e,f+1,f=oge(m=o[p])),v=e;g<h;++g)(v=GY(m>0?d[g]+" "+_:On(_,/&\f/g,d[g])))&&(u[y++]=v);return Tx(e,t,n,i===0?SD:a,u,l,c)}function _ge(e,t,n){return Tx(e,t,n,WY,wx(fge()),Vy(e,2,-2),0)}function b5(e,t,n,r){return Tx(e,t,n,xD,Vy(e,0,r),Vy(e,r+1,-1),r)}function Lp(e,t){for(var n="",r=ID(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function vge(e,t,n,r){switch(e.type){case sge:case xD:return e.return=e.return||e.value;case WY:return"";case YY:return e.return=e.value+"{"+Lp(e.children,r)+"}";case SD:e.value=e.props.join(",")}return uu(n=Lp(e.children,r))?e.return=e.value+"{"+n+"}":""}function bge(e){var t=ID(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function wge(e){return function(t){t.root||(t=t.return)&&e(t)}}function Ege(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Tge=function(t,n,r){for(var i=0,s=0;i=s,s=Cu(),i===38&&s===12&&(n[r]=1),!zy(s);)vo();return K_(t,Xs)},Sge=function(t,n){var r=-1,i=44;do switch(zy(i)){case 0:i===38&&Cu()===12&&(n[r]=1),t[r]+=Tge(Xs-1,n,r);break;case 2:t[r]+=kb(i);break;case 4:if(i===44){t[++r]=Cu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wx(i)}while(i=vo());return t},xge=function(t,n){return XY(Sge(QY(t),n))},w5=new WeakMap,Ige=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!w5.get(r))&&!i){w5.set(t,!0);for(var s=[],o=xge(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Age=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function JY(e,t){switch(uge(e,t)){case 5103:return xn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xn+e+zw+e+Ki+e+e;case 6828:case 4268:return xn+e+Ki+e+e;case 6165:return xn+e+Ki+"flex-"+e+e;case 5187:return xn+e+On(e,/(\w+).+(:[^]+)/,xn+"box-$1$2"+Ki+"flex-$1$2")+e;case 5443:return xn+e+Ki+"flex-item-"+On(e,/flex-|-self/,"")+e;case 4675:return xn+e+Ki+"flex-line-pack"+On(e,/align-content|flex-|-self/,"")+e;case 5548:return xn+e+Ki+On(e,"shrink","negative")+e;case 5292:return xn+e+Ki+On(e,"basis","preferred-size")+e;case 6060:return xn+"box-"+On(e,"-grow","")+xn+e+Ki+On(e,"grow","positive")+e;case 4554:return xn+On(e,/([^-])(transform)/g,"$1"+xn+"$2")+e;case 6187:return On(On(On(e,/(zoom-|grab)/,xn+"$1"),/(image-set)/,xn+"$1"),e,"")+e;case 5495:case 3959:return On(e,/(image-set\([^]*)/,xn+"$1$`$1");case 4968:return On(On(e,/(.+:)(flex-)?(.*)/,xn+"box-pack:$3"+Ki+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xn+e+e;case 4095:case 3583:case 4068:case 2532:return On(e,/(.+)-inline(.+)/,xn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(uu(e)-1-t>6)switch(Oi(e,t+1)){case 109:if(Oi(e,t+4)!==45)break;case 102:return On(e,/(.+:)(.+)-([^]+)/,"$1"+xn+"$2-$3$1"+zw+(Oi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~q2(e,"stretch")?JY(On(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Oi(e,t+1)!==115)break;case 6444:switch(Oi(e,uu(e)-3-(~q2(e,"!important")&&10))){case 107:return On(e,":",":"+xn)+e;case 101:return On(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xn+(Oi(e,14)===45?"inline-":"")+"box$3$1"+xn+"$2$3$1"+Ki+"$2box$3")+e}break;case 5936:switch(Oi(e,t+11)){case 114:return xn+e+Ki+On(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xn+e+Ki+On(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xn+e+Ki+On(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xn+e+Ki+e+e}return e}var Cge=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case xD:t.return=JY(t.value,t.length);break;case YY:return Lp([Hg(t,{value:On(t.value,"@","@"+xn)})],i);case SD:if(t.length)return cge(t.props,function(s){switch(lge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lp([Hg(t,{props:[On(s,/:(read-\w+)/,":"+zw+"$1")]})],i);case"::placeholder":return Lp([Hg(t,{props:[On(s,/:(plac\w+)/,":"+xn+"input-$1")]}),Hg(t,{props:[On(s,/:(plac\w+)/,":"+zw+"$1")]}),Hg(t,{props:[On(s,/:(plac\w+)/,Ki+"input-$1")]})],i)}return""})}},Oge=[Cge],Pge=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||Oge,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[Ige,Age];{var c,f=[vge,wge(function(m){c.insert(m)})],d=bge(l.concat(i,f)),h=function(y){return Lp(yge(y),d)};u=function(y,g,_,v){c=_,h(y?y+"{"+g.styles+"}":g.styles),v&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new ige({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const ZY=Pge;function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hr.apply(this,arguments)}var eG={exports:{}},Dn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=typeof Symbol=="function"&&Symbol.for,AD=yi?Symbol.for("react.element"):60103,CD=yi?Symbol.for("react.portal"):60106,Sx=yi?Symbol.for("react.fragment"):60107,xx=yi?Symbol.for("react.strict_mode"):60108,Ix=yi?Symbol.for("react.profiler"):60114,Ax=yi?Symbol.for("react.provider"):60109,Cx=yi?Symbol.for("react.context"):60110,OD=yi?Symbol.for("react.async_mode"):60111,Ox=yi?Symbol.for("react.concurrent_mode"):60111,Px=yi?Symbol.for("react.forward_ref"):60112,Rx=yi?Symbol.for("react.suspense"):60113,Rge=yi?Symbol.for("react.suspense_list"):60120,kx=yi?Symbol.for("react.memo"):60115,Nx=yi?Symbol.for("react.lazy"):60116,kge=yi?Symbol.for("react.block"):60121,Nge=yi?Symbol.for("react.fundamental"):60117,Dge=yi?Symbol.for("react.responder"):60118,$ge=yi?Symbol.for("react.scope"):60119;function Oo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case AD:switch(e=e.type,e){case OD:case Ox:case Sx:case Ix:case xx:case Rx:return e;default:switch(e=e&&e.$$typeof,e){case Cx:case Px:case Nx:case kx:case Ax:return e;default:return t}}case CD:return t}}}function tG(e){return Oo(e)===Ox}Dn.AsyncMode=OD;Dn.ConcurrentMode=Ox;Dn.ContextConsumer=Cx;Dn.ContextProvider=Ax;Dn.Element=AD;Dn.ForwardRef=Px;Dn.Fragment=Sx;Dn.Lazy=Nx;Dn.Memo=kx;Dn.Portal=CD;Dn.Profiler=Ix;Dn.StrictMode=xx;Dn.Suspense=Rx;Dn.isAsyncMode=function(e){return tG(e)||Oo(e)===OD};Dn.isConcurrentMode=tG;Dn.isContextConsumer=function(e){return Oo(e)===Cx};Dn.isContextProvider=function(e){return Oo(e)===Ax};Dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===AD};Dn.isForwardRef=function(e){return Oo(e)===Px};Dn.isFragment=function(e){return Oo(e)===Sx};Dn.isLazy=function(e){return Oo(e)===Nx};Dn.isMemo=function(e){return Oo(e)===kx};Dn.isPortal=function(e){return Oo(e)===CD};Dn.isProfiler=function(e){return Oo(e)===Ix};Dn.isStrictMode=function(e){return Oo(e)===xx};Dn.isSuspense=function(e){return Oo(e)===Rx};Dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sx||e===Ox||e===Ix||e===xx||e===Rx||e===Rge||typeof e=="object"&&e!==null&&(e.$$typeof===Nx||e.$$typeof===kx||e.$$typeof===Ax||e.$$typeof===Cx||e.$$typeof===Px||e.$$typeof===Nge||e.$$typeof===Dge||e.$$typeof===$ge||e.$$typeof===kge)};Dn.typeOf=Oo;eG.exports=Dn;var Lge=eG.exports,nG=Lge,Mge={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fge={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rG={};rG[nG.ForwardRef]=Mge;rG[nG.Memo]=Fge;var Bge=!0;function jge(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Uge=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Bge===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},iG=function(t,n,r){Uge(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Vge(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var zge={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hge=/[A-Z]|^ms/g,qge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sG=function(t){return t.charCodeAt(1)===45},E5=function(t){return t!=null&&typeof t!="boolean"},CC=Ege(function(e){return sG(e)?e:e.replace(Hge,"-$&").toLowerCase()}),T5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(qge,function(r,i,s){return lu={name:i,styles:s,next:lu},i})}return zge[t]!==1&&!sG(t)&&typeof n=="number"&&n!==0?n+"px":n};function Hy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return lu={name:n.name,styles:n.styles,next:lu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)lu={name:r.name,styles:r.styles,next:lu},r=r.next;var i=n.styles+";";return i}return Wge(e,t,n)}case"function":{if(e!==void 0){var s=lu,o=n(e);return lu=s,Hy(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Wge(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Hy(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":E5(o)&&(r+=CC(s)+":"+T5(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)E5(o[a])&&(r+=CC(s)+":"+T5(s,o[a])+";");else{var u=Hy(e,t,o);switch(s){case"animation":case"animationName":{r+=CC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var S5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lu,PD=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";lu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Hy(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Hy(r,n,t[a]),i&&(s+=o[a]);S5.lastIndex=0;for(var u="",l;(l=S5.exec(s))!==null;)u+="-"+l[1];var c=Vge(s)+u;return{name:c,styles:s,next:lu}},Yge=Vd.useInsertionEffect?Vd.useInsertionEffect:!1,x5=Yge||T.useLayoutEffect,oG=T.createContext(typeof HTMLElement<"u"?ZY({key:"css"}):null);oG.Provider;var Gge=function(t){return T.forwardRef(function(n,r){var i=T.useContext(oG);return t(n,i,r)})},Kge=T.createContext({}),Qge=Gge(function(e,t){var n=e.styles,r=PD([n],void 0,T.useContext(Kge)),i=T.useRef();return x5(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),x5(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&iG(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function aG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return PD(t)}var Xge=function(){var t=aG.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function uG(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Jge=Object.defineProperty,I5=Object.getOwnPropertySymbols,Zge=Object.prototype.hasOwnProperty,e0e=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?Jge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OC=(e,t)=>{for(var n in t||(t={}))Zge.call(t,n)&&A5(e,n,t[n]);if(I5)for(var n of I5(t))e0e.call(t,n)&&A5(e,n,t[n]);return e};const lG=T.createContext({theme:qY});function Bi(){var e;return((e=T.useContext(lG))==null?void 0:e.theme)||qY}function t0e(e){const t=Bi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function cG(){var e;return(e=T.useContext(lG))==null?void 0:e.emotionCache}function ft(e,t,n){var r;const s=(r=Bi().components[e])==null?void 0:r.defaultProps;return OC(OC(OC({},t),s),uG(n))}const fG=T.createContext({classNames:{},styles:{},unstyled:!1});function dG({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return N.createElement(fG.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function Q_(){return T.useContext(fG)}const n0e={app:100,modal:200,popover:300,overlay:400,max:9999};function Po(e){return n0e[e]}function r0e(e,t){const n=T.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const i0e=ZY({key:"mantine",prepend:!0});function s0e(){return cG()||i0e}var o0e=Object.defineProperty,C5=Object.getOwnPropertySymbols,a0e=Object.prototype.hasOwnProperty,u0e=Object.prototype.propertyIsEnumerable,O5=(e,t,n)=>t in e?o0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l0e=(e,t)=>{for(var n in t||(t={}))a0e.call(t,n)&&O5(e,n,t[n]);if(C5)for(var n of C5(t))u0e.call(t,n)&&O5(e,n,t[n]);return e};const PC="ref";function c0e(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(PC in n))return{args:e,ref:t};t=n[PC];const r=l0e({},n);return delete r[PC],{args:[r],ref:t}}const{cssFactory:f0e}=(()=>{function e(n,r,i){const s=[],o=jge(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=c0e(o),l=PD(u,r.registered);return iG(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,VY(o))}}return{cssFactory:t}})();function hG(){const e=s0e();return r0e(()=>f0e({cache:e}),[e])}function d0e({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var h0e=Object.defineProperty,P5=Object.getOwnPropertySymbols,p0e=Object.prototype.hasOwnProperty,m0e=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?h0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RC=(e,t)=>{for(var n in t||(t={}))p0e.call(t,n)&&R5(e,n,t[n]);if(P5)for(var n of P5(t))m0e.call(t,n)&&R5(e,n,t[n]);return e};function g0e(e){return`__mantine-ref-${e||""}`}function k5(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=RC(RC({},i[o]),s[o]):i[o]=RC({},s[o])}),i),{}):r(e)}function lt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Bi(),o=t0e(i==null?void 0:i.name),a=cG(),{css:u,cx:l}=hG(),c=t(s,r,g0e),f=k5(i==null?void 0:i.styles,s,r),d=k5(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:d0e({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function pG({styles:e}){const t=Bi();return N.createElement(Qge,{styles:aG(typeof e=="function"?e(t):e)})}var y0e=Object.defineProperty,_0e=Object.defineProperties,v0e=Object.getOwnPropertyDescriptors,N5=Object.getOwnPropertySymbols,b0e=Object.prototype.hasOwnProperty,w0e=Object.prototype.propertyIsEnumerable,D5=(e,t,n)=>t in e?y0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qg=(e,t)=>{for(var n in t||(t={}))b0e.call(t,n)&&D5(e,n,t[n]);if(N5)for(var n of N5(t))w0e.call(t,n)&&D5(e,n,t[n]);return e},Wg=(e,t)=>_0e(e,v0e(t));const Yg={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},p1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Wg(qg({},Yg),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Wg(qg({},Yg),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Wg(qg({},Yg),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Wg(qg({},Yg),{common:{transformOrigin:"top left"}}),"pop-top-right":Wg(qg({},Yg),{common:{transformOrigin:"top right"}})},$5=["mousedown","touchstart"];function E0e(e,t,n){const r=T.useRef();return T.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||$5).forEach(s=>document.addEventListener(s,i)),()=>{(t||$5).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function T0e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function S0e(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function x0e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=T.useState(n?!1:S0e(e,t)),s=T.useRef();return T.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),T0e(s.current,o=>i(o.matches))},[e]),r}function ef(e,t,n){return Math.min(Math.max(e,t),n)}const RD=typeof document<"u"?T.useLayoutEffect:T.useEffect;function ys(e,t){const n=T.useRef(!1);T.useEffect(()=>()=>{n.current=!1},[]),T.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function mG({opened:e,shouldReturnFocus:t=!0}){const n=T.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ys(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const I0e=/input|select|textarea|button|object/,gG="a, input, select, textarea, button, object, [tabindex]";function A0e(e){return e.style.display==="none"}function C0e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(A0e(n))return!1;n=n.parentNode}return!0}function yG(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Y2(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(yG(e));return(I0e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&C0e(e)}function _G(e){const t=yG(e);return(Number.isNaN(t)||t>=0)&&Y2(e)}function O0e(e){return Array.from(e.querySelectorAll(gG)).filter(_G)}function P0e(e,t){const n=O0e(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function R0e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function vG(e=!0){const t=T.useRef(),n=T.useRef(null),r=T.useCallback(i=>{if(e&&i!==null&&(n.current=R0e(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(gG));o=a.find(_G)||a.find(Y2)||null,!o&&Y2(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return T.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&P0e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const k0e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,N0e=N.useId||(()=>{});function D0e(){const[e,t]=T.useState("");return RD(()=>{t(k0e())},[]),e}function $0e(){const e=N0e();return e?`mantine-${e.replace(/:/g,"")}`:""}function Yu(e){return typeof e=="string"?e:$0e()||D0e()}function G2(e,t,n){T.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function bG(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function wG(...e){return t=>{e.forEach(n=>bG(n,t))}}function sa(...e){return T.useCallback(wG(...e),e)}function EG(e,t,n="ltr"){const r=T.useRef(),i=T.useRef(!1),s=T.useRef(!1),o=T.useRef(0),[a,u]=T.useState(!1);return T.useEffect(()=>{i.current=!0},[]),T.useEffect(()=>{const l=({x:_,y:v})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const E=r.current.getBoundingClientRect();if(E.width&&E.height){const S=ef((_-E.left)/E.width,0,1);e({x:n==="ltr"?S:1-S,y:ef((v-E.top)/E.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),m(_)},m=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),g(_)},g=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function ta({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=T.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function Dx(e,t){return x0e("(prefers-reduced-motion: reduce)",e,t)}const L0e=e=>e<.5?2*e*e:-1+(4-2*e)*e,M0e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},F0e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},B0e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function TG({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=L0e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=T.useRef(0),u=T.useRef(0),l=T.useRef(!1),c=T.useRef(null),f=T.useRef(null),d=Dx(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=T.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const _=(g=F0e({parent:c.current,axis:t}))!=null?g:0,v=M0e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function E(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,x=d||e===0?1:w/e,I=_+v*r(x);B0e({parent:c.current,axis:t,distance:I}),!l.current&&x<1?a.current=requestAnimationFrame(E):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}E()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return G2("wheel",m,{passive:!0}),G2("touchmove",m,{passive:!0}),T.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const j0e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function K0(){const e=T.useRef(0),t=T.useRef(null),[n,r]=T.useState(j0e),i=T.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return T.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function U0e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const V0e=({disableBodyPadding:e})=>{const t=e?null:U0e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function z0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function H0e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function q0e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function W0e(e,t={disableBodyPadding:!1}){const[n,r]=T.useState(e||!1),i=T.useRef(0),{disableBodyPadding:s}=t,o=T.useRef(null),a=()=>{i.current=window.scrollY;const l=V0e({disableBodyPadding:s}),c=q0e();z0e(c,l),H0e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return T.useEffect(()=>(n?a():u(),u),[n]),T.useEffect(()=>{e!==void 0&&r(e)},[e]),T.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var Y0e=Object.defineProperty,G0e=Object.defineProperties,K0e=Object.getOwnPropertyDescriptors,L5=Object.getOwnPropertySymbols,Q0e=Object.prototype.hasOwnProperty,X0e=Object.prototype.propertyIsEnumerable,M5=(e,t,n)=>t in e?Y0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J0e=(e,t)=>{for(var n in t||(t={}))Q0e.call(t,n)&&M5(e,n,t[n]);if(L5)for(var n of L5(t))X0e.call(t,n)&&M5(e,n,t[n]);return e},Z0e=(e,t)=>G0e(e,K0e(t));function eye(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return Z0e(J0e({},n),{key:i})}function tye(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function nye(e){return t=>tye(eye(e),t)}function rye(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i])=>{nye(r)(n)&&(t.preventDefault(),i(n))})}}function iye(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function sye(){return typeof window<"u"?iye():"undetermined"}function oye(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function aye(e){const[t,n]=T.useState(e);return[t,oye(n)]}function SG(e,t){const[n,r]=T.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function uye(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var F5=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,cye=Object.prototype.propertyIsEnumerable,fye=(e,t)=>{var n={};for(var r in e)lye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&F5)for(var r of F5(e))t.indexOf(r)<0&&cye.call(e,r)&&(n[r]=e[r]);return n};function Ff(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:v,fz:E,fw:S,lts:w,ta:x,lh:I,fs:M,tt:C,td:D,w:q,miw:W,maw:U,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:A,pos:O,top:z,left:k,bottom:R,right:Y,inset:se,display:ue}=t,he=fye(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:uG({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:v,fz:E,fw:S,lts:w,ta:x,lh:I,fs:M,tt:C,td:D,w:q,miw:W,maw:U,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:A,pos:O,top:z,left:k,bottom:R,right:Y,inset:se,display:ue}),rest:he}}function dye(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function hye({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return dye(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function pye(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function mye(e){return e}function gye(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const yye=["-xs","-sm","-md","-lg","-xl"];function _ye(e,t){return yye.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const vye={color:pye,default:mye,fontSize:gye,spacing:_ye},bye={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var wye=Object.defineProperty,B5=Object.getOwnPropertySymbols,Eye=Object.prototype.hasOwnProperty,Tye=Object.prototype.propertyIsEnumerable,j5=(e,t,n)=>t in e?wye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U5=(e,t)=>{for(var n in t||(t={}))Eye.call(t,n)&&j5(e,n,t[n]);if(B5)for(var n of B5(t))Tye.call(t,n)&&j5(e,n,t[n]);return e};function K2(e,t,n=bye){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(hye({value:e[s],getValue:vye[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=U5(U5({},i[o]),s[o]):i[o]=s[o]}),i),{})}function V5(e,t){return typeof e=="function"?e(t):e}function Sye(e,t,n){const r=Bi(),{css:i,cx:s}=hG();return Array.isArray(e)?s(n,i(K2(t,r)),e.map(o=>i(V5(o,r)))):s(n,i(V5(e,r)),i(K2(t,r)))}var xye=Object.defineProperty,Hw=Object.getOwnPropertySymbols,xG=Object.prototype.hasOwnProperty,IG=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?xye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iye=(e,t)=>{for(var n in t||(t={}))xG.call(t,n)&&z5(e,n,t[n]);if(Hw)for(var n of Hw(t))IG.call(t,n)&&z5(e,n,t[n]);return e},Aye=(e,t)=>{var n={};for(var r in e)xG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hw)for(var r of Hw(e))t.indexOf(r)<0&&IG.call(e,r)&&(n[r]=e[r]);return n};const AG=T.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=Aye(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=Ff(a),c=i||"div";return N.createElement(c,Iye({ref:t,className:Sye(o,u,r),style:s},l))});AG.displayName="@mantine/core/Box";const ut=AG;var Cye=Object.defineProperty,Oye=Object.defineProperties,Pye=Object.getOwnPropertyDescriptors,H5=Object.getOwnPropertySymbols,Rye=Object.prototype.hasOwnProperty,kye=Object.prototype.propertyIsEnumerable,q5=(e,t,n)=>t in e?Cye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W5=(e,t)=>{for(var n in t||(t={}))Rye.call(t,n)&&q5(e,n,t[n]);if(H5)for(var n of H5(t))kye.call(t,n)&&q5(e,n,t[n]);return e},Nye=(e,t)=>Oye(e,Pye(t)),Dye=lt(e=>({root:Nye(W5(W5({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const $ye=Dye;var Lye=Object.defineProperty,qw=Object.getOwnPropertySymbols,CG=Object.prototype.hasOwnProperty,OG=Object.prototype.propertyIsEnumerable,Y5=(e,t,n)=>t in e?Lye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mye=(e,t)=>{for(var n in t||(t={}))CG.call(t,n)&&Y5(e,n,t[n]);if(qw)for(var n of qw(t))OG.call(t,n)&&Y5(e,n,t[n]);return e},Fye=(e,t)=>{var n={};for(var r in e)CG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qw)for(var r of qw(e))t.indexOf(r)<0&&OG.call(e,r)&&(n[r]=e[r]);return n};const PG=T.forwardRef((e,t)=>{const n=ft("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=Fye(n,["className","component","unstyled"]),{classes:a,cx:u}=$ye(null,{name:"UnstyledButton",unstyled:s});return N.createElement(ut,Mye({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});PG.displayName="@mantine/core/UnstyledButton";const $x=PG;var Bye=Object.defineProperty,jye=Object.defineProperties,Uye=Object.getOwnPropertyDescriptors,Ww=Object.getOwnPropertySymbols,RG=Object.prototype.hasOwnProperty,kG=Object.prototype.propertyIsEnumerable,G5=(e,t,n)=>t in e?Bye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ya=(e,t)=>{for(var n in t||(t={}))RG.call(t,n)&&G5(e,n,t[n]);if(Ww)for(var n of Ww(t))kG.call(t,n)&&G5(e,n,t[n]);return e},Gg=(e,t)=>jye(e,Uye(t)),Vye=(e,t)=>{var n={};for(var r in e)RG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ww)for(var r of Ww(e))t.indexOf(r)<0&&kG.call(e,r)&&(n[r]=e[r]);return n};function zye(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function kC(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}function Hye(e){return e!=null&&e.current?e.current.scrollWidth:"auto"}const nl=typeof window<"u"&&window.requestAnimationFrame;function qye({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r,axis:i}){const s=T.useRef(null),o="0px",[a,u]=T.useState({}),l=y=>{gh.flushSync(()=>u(y))},c=y=>{l(g=>ya(ya({},g),y))};function f(y){const g=e||zye(y);return{transitionProperty:`${i==="x"?"width":"height"}`,transitionDuration:`${g}ms`,transitionTimingFunction:`${t}`}}const d=()=>{const y=a;l({});const g={width:Hye(s),height:kC(s)};return l(y),g},h=()=>{const{height:y}=d();return{x:{height:y,width:"0px",overflow:"hidden"},y:{display:"none",height:"0px",overflow:"hidden"}}};T.useEffect(()=>{nl(()=>{const{x:y,y:g}=h();i==="x"&&!r?l(ya({},y)):i==="y"&&!r&&l(ya({},g))})},[]),ys(()=>{i!=="x"&&nl(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),nl(()=>{const y=kC(s);c(Gg(ya({},f(y)),{height:y}))})}:()=>{const y=kC(s);c(Gg(ya({},f(y)),{willChange:"height",height:y})),nl(()=>c({height:o,overflow:"hidden"}))})},[r]),ys(()=>{i!=="y"&&nl(r?()=>{const{width:y}=d();c({display:"block",overflow:"hidden",willChange:"width",flexShrink:0}),nl(()=>{c(Gg(ya({},f(y)),{width:y}))})}:()=>{const{width:y,height:g}=d();c(Gg(ya({},f(y)),{flexShrink:0,willChange:"width",width:y,height:g})),nl(()=>c({width:"0px",overflow:"hidden"}))})},[r]);const p=y=>{if(!(y.target!==s.current||!(y.propertyName==="width"||!0)))if(n(),r)l({});else{const{x:g,y:_}=h();l(i==="x"?g:_)}};function m(y={}){var g=y,{style:_={},refKey:v="ref"}=g,E=Vye(g,["style","refKey"]);const S=E[v];return Gg(ya({"aria-hidden":!r},E),{[v]:wG(s,S),onTransitionEnd:p,style:ya(ya({boxSizing:"border-box"},_),a)})}return m}var Wye=Object.defineProperty,Yw=Object.getOwnPropertySymbols,NG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,K5=(e,t,n)=>t in e?Wye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m1=(e,t)=>{for(var n in t||(t={}))NG.call(t,n)&&K5(e,n,t[n]);if(Yw)for(var n of Yw(t))DG.call(t,n)&&K5(e,n,t[n]);return e},Yye=(e,t)=>{var n={};for(var r in e)NG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yw)for(var r of Yw(e))t.indexOf(r)<0&&DG.call(e,r)&&(n[r]=e[r]);return n};const Gye={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0,axis:"y"},$G=T.forwardRef((e,t)=>{const n=ft("Collapse",Gye,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l,axis:c}=n,f=Yye(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity","axis"]),d=Bi(),h=Dx(),m=(d.respectReducedMotion?h:!1)?0:s,{systemStyles:y,rest:g}=Ff(f),_=qye({opened:i,transitionDuration:m,transitionTimingFunction:o,onTransitionEnd:u,axis:c});return m===0?i?N.createElement(ut,m1({},g),r):null:N.createElement(ut,m1({},_(m1(m1({style:a,ref:t},g),y))),N.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${m}ms ${o}`:"none"}},r))});$G.displayName="@mantine/core/Collapse";var Kye=Object.defineProperty,Q5=Object.getOwnPropertySymbols,Qye=Object.prototype.hasOwnProperty,Xye=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?Kye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jye=(e,t)=>{for(var n in t||(t={}))Qye.call(t,n)&&X5(e,n,t[n]);if(Q5)for(var n of Q5(t))Xye.call(t,n)&&X5(e,n,t[n]);return e};function Zye(e){return N.createElement("svg",Jye({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var e_e=Object.defineProperty,t_e=Object.defineProperties,n_e=Object.getOwnPropertyDescriptors,J5=Object.getOwnPropertySymbols,r_e=Object.prototype.hasOwnProperty,i_e=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?e_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LG=(e,t)=>{for(var n in t||(t={}))r_e.call(t,n)&&Z5(e,n,t[n]);if(J5)for(var n of J5(t))i_e.call(t,n)&&Z5(e,n,t[n]);return e},s_e=(e,t)=>t_e(e,n_e(t));const E0={xs:18,sm:22,md:28,lg:34,xl:44};function o_e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:LG({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var a_e=lt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:s_e(LG({},o_e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:E0}),minHeight:e.fn.size({size:n,sizes:E0}),width:e.fn.size({size:n,sizes:E0}),minWidth:e.fn.size({size:n,sizes:E0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const u_e=a_e;var l_e=Object.defineProperty,Gw=Object.getOwnPropertySymbols,MG=Object.prototype.hasOwnProperty,FG=Object.prototype.propertyIsEnumerable,eF=(e,t,n)=>t in e?l_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c_e=(e,t)=>{for(var n in t||(t={}))MG.call(t,n)&&eF(e,n,t[n]);if(Gw)for(var n of Gw(t))FG.call(t,n)&&eF(e,n,t[n]);return e},f_e=(e,t)=>{var n={};for(var r in e)MG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gw)for(var r of Gw(e))t.indexOf(r)<0&&FG.call(e,r)&&(n[r]=e[r]);return n};function d_e(e){var t=e,{size:n,color:r}=t,i=f_e(t,["size","color"]);return N.createElement("svg",c_e({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),N.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var h_e=Object.defineProperty,Kw=Object.getOwnPropertySymbols,BG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,tF=(e,t,n)=>t in e?h_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p_e=(e,t)=>{for(var n in t||(t={}))BG.call(t,n)&&tF(e,n,t[n]);if(Kw)for(var n of Kw(t))jG.call(t,n)&&tF(e,n,t[n]);return e},m_e=(e,t)=>{var n={};for(var r in e)BG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kw)for(var r of Kw(e))t.indexOf(r)<0&&jG.call(e,r)&&(n[r]=e[r]);return n};function g_e(e){var t=e,{size:n,color:r}=t,i=m_e(t,["size","color"]);return N.createElement("svg",p_e({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),N.createElement("g",{fill:"none",fillRule:"evenodd"},N.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},N.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),N.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},N.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var y_e=Object.defineProperty,Qw=Object.getOwnPropertySymbols,UG=Object.prototype.hasOwnProperty,VG=Object.prototype.propertyIsEnumerable,nF=(e,t,n)=>t in e?y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__e=(e,t)=>{for(var n in t||(t={}))UG.call(t,n)&&nF(e,n,t[n]);if(Qw)for(var n of Qw(t))VG.call(t,n)&&nF(e,n,t[n]);return e},v_e=(e,t)=>{var n={};for(var r in e)UG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qw)for(var r of Qw(e))t.indexOf(r)<0&&VG.call(e,r)&&(n[r]=e[r]);return n};function b_e(e){var t=e,{size:n,color:r}=t,i=v_e(t,["size","color"]);return N.createElement("svg",__e({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),N.createElement("circle",{cx:"15",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},N.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"105",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var w_e=Object.defineProperty,Xw=Object.getOwnPropertySymbols,zG=Object.prototype.hasOwnProperty,HG=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?w_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E_e=(e,t)=>{for(var n in t||(t={}))zG.call(t,n)&&rF(e,n,t[n]);if(Xw)for(var n of Xw(t))HG.call(t,n)&&rF(e,n,t[n]);return e},T_e=(e,t)=>{var n={};for(var r in e)zG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xw)for(var r of Xw(e))t.indexOf(r)<0&&HG.call(e,r)&&(n[r]=e[r]);return n};const NC={bars:d_e,oval:g_e,dots:b_e},S_e={xs:18,sm:22,md:36,lg:44,xl:58},x_e={size:"md"};function yh(e){const t=ft("Loader",x_e,e),{size:n,color:r,variant:i}=t,s=T_e(t,["size","color","variant"]),o=Bi(),a=i in NC?i:o.loader;return N.createElement(ut,E_e({role:"presentation",component:NC[a]||NC.bars,size:o.fn.size({size:n,sizes:S_e}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}yh.displayName="@mantine/core/Loader";var I_e=Object.defineProperty,Jw=Object.getOwnPropertySymbols,qG=Object.prototype.hasOwnProperty,WG=Object.prototype.propertyIsEnumerable,iF=(e,t,n)=>t in e?I_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sF=(e,t)=>{for(var n in t||(t={}))qG.call(t,n)&&iF(e,n,t[n]);if(Jw)for(var n of Jw(t))WG.call(t,n)&&iF(e,n,t[n]);return e},A_e=(e,t)=>{var n={};for(var r in e)qG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jw)for(var r of Jw(e))t.indexOf(r)<0&&WG.call(e,r)&&(n[r]=e[r]);return n};const C_e={color:"gray",size:"md",variant:"subtle",loading:!1},YG=T.forwardRef((e,t)=>{const n=ft("ActionIcon",C_e,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=A_e(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=u_e({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=g.fn.variant({color:i,variant:u}),v=N.createElement(yh,sF({color:_.color,size:g.fn.size({size:a,sizes:E0})-12},f));return N.createElement($x,sF({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?v:s)});YG.displayName="@mantine/core/ActionIcon";const GG=YG;function KG(e){const{children:t,target:n,className:r}=ft("Portal",{},e),i=Bi(),[s,o]=T.useState(!1),a=T.useRef();return RD(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?gh.createPortal(N.createElement("div",{className:r,dir:i.dir},t),a.current):null}KG.displayName="@mantine/core/Portal";var O_e=Object.defineProperty,Zw=Object.getOwnPropertySymbols,QG=Object.prototype.hasOwnProperty,XG=Object.prototype.propertyIsEnumerable,oF=(e,t,n)=>t in e?O_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P_e=(e,t)=>{for(var n in t||(t={}))QG.call(t,n)&&oF(e,n,t[n]);if(Zw)for(var n of Zw(t))XG.call(t,n)&&oF(e,n,t[n]);return e},R_e=(e,t)=>{var n={};for(var r in e)QG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zw)for(var r of Zw(e))t.indexOf(r)<0&&XG.call(e,r)&&(n[r]=e[r]);return n};function X_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=R_e(t,["withinPortal","children"]);return n?N.createElement(KG,P_e({},i),r):N.createElement(N.Fragment,null,r)}X_.displayName="@mantine/core/OptionalPortal";var k_e=Object.defineProperty,N_e=Object.defineProperties,D_e=Object.getOwnPropertyDescriptors,aF=Object.getOwnPropertySymbols,$_e=Object.prototype.hasOwnProperty,L_e=Object.prototype.propertyIsEnumerable,uF=(e,t,n)=>t in e?k_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DC=(e,t)=>{for(var n in t||(t={}))$_e.call(t,n)&&uF(e,n,t[n]);if(aF)for(var n of aF(t))L_e.call(t,n)&&uF(e,n,t[n]);return e},lF=(e,t)=>N_e(e,D_e(t));function M_e({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var F_e=lt((e,{color:t,radius:n,variant:r})=>({root:DC(lF(DC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),M_e({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:lF(DC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const B_e=F_e;var j_e=Object.defineProperty,cF=Object.getOwnPropertySymbols,U_e=Object.prototype.hasOwnProperty,V_e=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?j_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z_e=(e,t)=>{for(var n in t||(t={}))U_e.call(t,n)&&fF(e,n,t[n]);if(cF)for(var n of cF(t))V_e.call(t,n)&&fF(e,n,t[n]);return e};function JG(e){return N.createElement("svg",z_e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}JG.displayName="@mantine/core/CloseIcon";var H_e=Object.defineProperty,eE=Object.getOwnPropertySymbols,ZG=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?H_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q_e=(e,t)=>{for(var n in t||(t={}))ZG.call(t,n)&&dF(e,n,t[n]);if(eE)for(var n of eE(t))eK.call(t,n)&&dF(e,n,t[n]);return e},W_e=(e,t)=>{var n={};for(var r in e)ZG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eE)for(var r of eE(e))t.indexOf(r)<0&&eK.call(e,r)&&(n[r]=e[r]);return n};const Y_e={xs:12,sm:14,md:16,lg:20,xl:24},G_e={size:"md"},tK=T.forwardRef((e,t)=>{const n=ft("CloseButton",G_e,e),{iconSize:r,size:i="md"}=n,s=W_e(n,["iconSize","size"]),o=Bi(),a=r||o.fn.size({size:i,sizes:Y_e});return N.createElement(GG,q_e({size:i,ref:t},s),N.createElement(JG,{width:a,height:a}))});tK.displayName="@mantine/core/CloseButton";const Lx=tK;var K_e=Object.defineProperty,tE=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,hF=(e,t,n)=>t in e?K_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q_e=(e,t)=>{for(var n in t||(t={}))nK.call(t,n)&&hF(e,n,t[n]);if(tE)for(var n of tE(t))rK.call(t,n)&&hF(e,n,t[n]);return e},X_e=(e,t)=>{var n={};for(var r in e)nK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tE)for(var r of tE(e))t.indexOf(r)<0&&rK.call(e,r)&&(n[r]=e[r]);return n};const J_e={variant:"light"},iK=T.forwardRef((e,t)=>{const n=ft("Alert",J_e,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=X_e(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:v}=B_e({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),E=Yu(r),S=s&&`${E}-title`,w=`${E}-body`;return N.createElement(ut,Q_e({id:E,role:"alert","aria-labelledby":S,"aria-describedby":w,className:v(_.root,_[o],i),ref:t},g),N.createElement("div",{className:_.wrapper},c&&N.createElement("div",{className:_.icon},c),N.createElement("div",{className:_.body},s&&N.createElement("div",{className:_.title,"data-with-close-button":p||void 0},N.createElement("span",{id:S,className:_.label},s)),p&&N.createElement(Lx,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),N.createElement("div",{id:w,className:_.message},a))))});iK.displayName="@mantine/core/Alert";var Z_e=Object.defineProperty,eve=Object.defineProperties,tve=Object.getOwnPropertyDescriptors,pF=Object.getOwnPropertySymbols,nve=Object.prototype.hasOwnProperty,rve=Object.prototype.propertyIsEnumerable,mF=(e,t,n)=>t in e?Z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g1=(e,t)=>{for(var n in t||(t={}))nve.call(t,n)&&mF(e,n,t[n]);if(pF)for(var n of pF(t))rve.call(t,n)&&mF(e,n,t[n]);return e},ive=(e,t)=>eve(e,tve(t));function sve({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function ove({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function ave(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var uve=lt((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:g1(ive(g1(g1(g1({},e.fn.fontStyles()),e.fn.focusStyles()),ave(i)),{color:ove({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:sve({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const lve=uve;var cve=Object.defineProperty,nE=Object.getOwnPropertySymbols,sK=Object.prototype.hasOwnProperty,oK=Object.prototype.propertyIsEnumerable,gF=(e,t,n)=>t in e?cve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fve=(e,t)=>{for(var n in t||(t={}))sK.call(t,n)&&gF(e,n,t[n]);if(nE)for(var n of nE(t))oK.call(t,n)&&gF(e,n,t[n]);return e},dve=(e,t)=>{var n={};for(var r in e)sK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nE)for(var r of nE(e))t.indexOf(r)<0&&oK.call(e,r)&&(n[r]=e[r]);return n};const hve={variant:"text"},aK=T.forwardRef((e,t)=>{const n=ft("Text",hve,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,classNames:g,styles:_,unstyled:v,span:E}=n,S=dve(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:w,cx:x}=lve({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:v,name:"Text"});return N.createElement(ut,fve({ref:t,className:x(w.root,{[w.gradient]:l==="gradient"},r),component:E?"span":"div"},S))});aK.displayName="@mantine/core/Text";const yt=aK;var pve=lt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const mve=pve;var gve=Object.defineProperty,rE=Object.getOwnPropertySymbols,uK=Object.prototype.hasOwnProperty,lK=Object.prototype.propertyIsEnumerable,yF=(e,t,n)=>t in e?gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_F=(e,t)=>{for(var n in t||(t={}))uK.call(t,n)&&yF(e,n,t[n]);if(rE)for(var n of rE(t))lK.call(t,n)&&yF(e,n,t[n]);return e},yve=(e,t)=>{var n={};for(var r in e)uK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rE)for(var r of rE(e))t.indexOf(r)<0&&lK.call(e,r)&&(n[r]=e[r]);return n};const _ve={},cK=T.forwardRef((e,t)=>{const n=ft("Anchor",_ve,e),{component:r,className:i,unstyled:s}=n,o=yve(n,["component","className","unstyled"]),{classes:a,cx:u}=mve(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return N.createElement(yt,_F(_F({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});cK.displayName="@mantine/core/Anchor";const fK=cK,dK=T.createContext({}),vve=dK.Provider;function hK(){return T.useContext(dK)}function Mx(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var bve=Object.defineProperty,wve=Object.defineProperties,Eve=Object.getOwnPropertyDescriptors,vF=Object.getOwnPropertySymbols,Tve=Object.prototype.hasOwnProperty,Sve=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?bve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y1=(e,t)=>{for(var n in t||(t={}))Tve.call(t,n)&&bF(e,n,t[n]);if(vF)for(var n of vF(t))Sve.call(t,n)&&bF(e,n,t[n]);return e},wF=(e,t)=>wve(e,Eve(t)),xve=lt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?Mx(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:wF(y1(y1(wF(y1(y1({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const Ive=xve;var Ave=Object.defineProperty,iE=Object.getOwnPropertySymbols,pK=Object.prototype.hasOwnProperty,mK=Object.prototype.propertyIsEnumerable,EF=(e,t,n)=>t in e?Ave(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TF=(e,t)=>{for(var n in t||(t={}))pK.call(t,n)&&EF(e,n,t[n]);if(iE)for(var n of iE(t))mK.call(t,n)&&EF(e,n,t[n]);return e},Cve=(e,t)=>{var n={};for(var r in e)pK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&mK.call(e,r)&&(n[r]=e[r]);return n};const kD=T.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=Po("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,_=Cve(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const v=hK(),{classes:E,cx:S,theme:w}=Ive({width:r,height:i,fixed:v.fixed||s,position:o,hiddenBreakpoint:u,zIndex:v.zIndex||a,section:m,withBorder:c},{classNames:d,styles:h,name:y,unstyled:g}),x=Mx(r,w).reduce((I,[M,C])=>(I[`@media (min-width: ${M}px)`]={[`--mantine-${m}-width`]:`${C}px`},I),{});return N.createElement(ut,TF({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:S(E.root,f)},_),p,N.createElement(pG,{styles:()=>({":root":TF({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});kD.displayName="@mantine/core/HorizontalSection";var Ove=Object.defineProperty,sE=Object.getOwnPropertySymbols,gK=Object.prototype.hasOwnProperty,yK=Object.prototype.propertyIsEnumerable,SF=(e,t,n)=>t in e?Ove(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pve=(e,t)=>{for(var n in t||(t={}))gK.call(t,n)&&SF(e,n,t[n]);if(sE)for(var n of sE(t))yK.call(t,n)&&SF(e,n,t[n]);return e},Rve=(e,t)=>{var n={};for(var r in e)gK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&yK.call(e,r)&&(n[r]=e[r]);return n};const _K=T.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=Rve(n,["children","grow","sx"]);return N.createElement(ut,Pve({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Gd(s)]},o),r)});_K.displayName="@mantine/core/Section";const vK=_K;var kve=Object.defineProperty,xF=Object.getOwnPropertySymbols,Nve=Object.prototype.hasOwnProperty,Dve=Object.prototype.propertyIsEnumerable,IF=(e,t,n)=>t in e?kve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ve=(e,t)=>{for(var n in t||(t={}))Nve.call(t,n)&&IF(e,n,t[n]);if(xF)for(var n of xF(t))Dve.call(t,n)&&IF(e,n,t[n]);return e};const Lve={fixed:!1,position:{top:0,left:0},zIndex:Po("app"),hiddenBreakpoint:"md",hidden:!1},Q0=T.forwardRef((e,t)=>{const n=ft("Navbar",Lve,e);return N.createElement(kD,$ve({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Q0.Section=vK;Q0.displayName="@mantine/core/Navbar";var Mve=Object.defineProperty,Fve=Object.defineProperties,Bve=Object.getOwnPropertyDescriptors,AF=Object.getOwnPropertySymbols,jve=Object.prototype.hasOwnProperty,Uve=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?Mve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$C=(e,t)=>{for(var n in t||(t={}))jve.call(t,n)&&CF(e,n,t[n]);if(AF)for(var n of AF(t))Uve.call(t,n)&&CF(e,n,t[n]);return e},OF=(e,t)=>Fve(e,Bve(t)),Vve=lt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?Mx(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:OF($C(OF($C($C({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const zve=Vve;var Hve=Object.defineProperty,oE=Object.getOwnPropertySymbols,bK=Object.prototype.hasOwnProperty,wK=Object.prototype.propertyIsEnumerable,PF=(e,t,n)=>t in e?Hve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RF=(e,t)=>{for(var n in t||(t={}))bK.call(t,n)&&PF(e,n,t[n]);if(oE)for(var n of oE(t))wK.call(t,n)&&PF(e,n,t[n]);return e},qve=(e,t)=>{var n={};for(var r in e)bK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oE)for(var r of oE(e))t.indexOf(r)<0&&wK.call(e,r)&&(n[r]=e[r]);return n};const EK=T.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=Po("app"),section:d,unstyled:h,__staticSelector:p}=n,m=qve(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=hK(),{classes:g,cx:_,theme:v}=zve({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),E=typeof a=="object"&&a!==null?Mx(a,v).reduce((S,[w,x])=>(S[`@media (min-width: ${w}px)`]={[`--mantine-${d}-height`]:`${x}px`},S),{}):null;return N.createElement(ut,RF({component:d==="header"?"header":"footer",className:_(g.root,i),ref:t},m),r,N.createElement(pG,{styles:()=>({":root":RF({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},E)})}))});EK.displayName="@mantine/core/VerticalSection";var Wve=Object.defineProperty,Yve=Object.defineProperties,Gve=Object.getOwnPropertyDescriptors,kF=Object.getOwnPropertySymbols,Kve=Object.prototype.hasOwnProperty,Qve=Object.prototype.propertyIsEnumerable,NF=(e,t,n)=>t in e?Wve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xve=(e,t)=>{for(var n in t||(t={}))Kve.call(t,n)&&NF(e,n,t[n]);if(kF)for(var n of kF(t))Qve.call(t,n)&&NF(e,n,t[n]);return e},Jve=(e,t)=>Yve(e,Gve(t));const Zve={fixed:!1,position:{top:0,left:0,right:0},zIndex:Po("app")},TK=T.forwardRef((e,t)=>{const n=ft("Header",Zve,e);return N.createElement(EK,Jve(Xve({section:"header",__staticSelector:"Header"},n),{ref:t}))});TK.displayName="@mantine/core/Header";var e1e=Object.defineProperty,DF=Object.getOwnPropertySymbols,t1e=Object.prototype.hasOwnProperty,n1e=Object.prototype.propertyIsEnumerable,$F=(e,t,n)=>t in e?e1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r1e=(e,t)=>{for(var n in t||(t={}))t1e.call(t,n)&&$F(e,n,t[n]);if(DF)for(var n of DF(t))n1e.call(t,n)&&$F(e,n,t[n]);return e};const i1e={fixed:!1,position:{top:0,right:0},zIndex:Po("app"),hiddenBreakpoint:"md",hidden:!1},ND=T.forwardRef((e,t)=>{const n=ft("Aside",i1e,e);return N.createElement(kD,r1e({section:"aside",__staticSelector:"Aside",ref:t},n))});ND.Section=vK;ND.displayName="@mantine/core/Aside";var s1e=Object.defineProperty,LF=Object.getOwnPropertySymbols,o1e=Object.prototype.hasOwnProperty,a1e=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?s1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u1e=(e,t)=>{for(var n in t||(t={}))o1e.call(t,n)&&MF(e,n,t[n]);if(LF)for(var n of LF(t))a1e.call(t,n)&&MF(e,n,t[n]);return e};function l1e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var c1e=lt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:u1e({flex:1,width:"100vw",boxSizing:"border-box"},l1e(t,e))}));const f1e=c1e;var d1e=Object.defineProperty,aE=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,xK=Object.prototype.propertyIsEnumerable,FF=(e,t,n)=>t in e?d1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h1e=(e,t)=>{for(var n in t||(t={}))SK.call(t,n)&&FF(e,n,t[n]);if(aE)for(var n of aE(t))xK.call(t,n)&&FF(e,n,t[n]);return e},p1e=(e,t)=>{var n={};for(var r in e)SK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aE)for(var r of aE(e))t.indexOf(r)<0&&xK.call(e,r)&&(n[r]=e[r]);return n};const m1e={fixed:!0,zIndex:Po("app"),padding:"md"},IK=T.forwardRef((e,t)=>{const n=ft("AppShell",m1e,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g}=n,_=p1e(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:v,cx:E}=f1e({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?N.createElement(N.Fragment,null,r):N.createElement(vve,{value:{fixed:u,zIndex:l}},N.createElement(ut,h1e({className:E(v.root,h),ref:t},_),s,N.createElement("div",{className:v.body},i,N.createElement("main",{className:v.main},r),a),o))});IK.displayName="@mantine/core/AppShell";const _1={xs:1,sm:2,md:3,lg:4,xl:5};function v1(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var g1e=lt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:_1})}px ${n} ${v1(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:_1})}px ${n} ${v1(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:_1}),borderTopColor:v1(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:_1}),borderLeftColor:v1(e,r),borderLeftStyle:n}}));const y1e=g1e;var _1e=Object.defineProperty,v1e=Object.defineProperties,b1e=Object.getOwnPropertyDescriptors,uE=Object.getOwnPropertySymbols,AK=Object.prototype.hasOwnProperty,CK=Object.prototype.propertyIsEnumerable,BF=(e,t,n)=>t in e?_1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jF=(e,t)=>{for(var n in t||(t={}))AK.call(t,n)&&BF(e,n,t[n]);if(uE)for(var n of uE(t))CK.call(t,n)&&BF(e,n,t[n]);return e},w1e=(e,t)=>v1e(e,b1e(t)),E1e=(e,t)=>{var n={};for(var r in e)AK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uE)for(var r of uE(e))t.indexOf(r)<0&&CK.call(e,r)&&(n[r]=e[r]);return n};const T1e={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},qy=T.forwardRef((e,t)=>{const n=ft("Divider",T1e,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=E1e(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=y1e({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",_=s==="horizontal",v=!!a&&_,E=!(l!=null&&l.color);return N.createElement(ut,jF({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:_,[m.withLabel]:v},r),role:"separator"},p),v&&N.createElement(yt,w1e(jF({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:E})}),a))});qy.displayName="@mantine/core/Divider";var S1e=Object.defineProperty,x1e=Object.defineProperties,I1e=Object.getOwnPropertyDescriptors,UF=Object.getOwnPropertySymbols,A1e=Object.prototype.hasOwnProperty,C1e=Object.prototype.propertyIsEnumerable,VF=(e,t,n)=>t in e?S1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zF=(e,t)=>{for(var n in t||(t={}))A1e.call(t,n)&&VF(e,n,t[n]);if(UF)for(var n of UF(t))C1e.call(t,n)&&VF(e,n,t[n]);return e},O1e=(e,t)=>x1e(e,I1e(t)),P1e=lt((e,{size:t})=>({item:O1e(zF({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":zF({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const R1e=P1e;var k1e=Object.defineProperty,HF=Object.getOwnPropertySymbols,N1e=Object.prototype.hasOwnProperty,D1e=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?k1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$1e=(e,t)=>{for(var n in t||(t={}))N1e.call(t,n)&&qF(e,n,t[n]);if(HF)for(var n of HF(t))D1e.call(t,n)&&qF(e,n,t[n]);return e};function DD({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=R1e({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],_=[];let v=null;const E=(w,x)=>{const I=typeof i=="function"?i(w.value):!1;return N.createElement(c,$1e({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===x||void 0,"data-selected":!w.disabled&&I||void 0,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:M=>{l&&l.current&&(l.current[w.value]=M)},onMouseDown:w.disabled?null:M=>{M.preventDefault(),u(w)},disabled:w.disabled},w))};let S=null;if(e.forEach((w,x)=>{w.creatable?v=x:w.group?(S!==w.group&&(S=w.group,_.push(N.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},N.createElement(qy,{classNames:{label:y.separatorLabel},label:w.group})))),_.push(E(w,x))):g.push(E(w,x))}),h){const w=e[v];g.push(N.createElement("div",{key:uye(),className:y.item,"data-hovered":t===v||void 0,onMouseEnter:()=>a(v),onMouseDown:x=>{x.preventDefault(),u(w)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[w.value]=x)}},p))}return _.length>0&&g.length>0&&g.unshift(N.createElement("div",{className:y.separator,key:"empty-group-separator"},N.createElement(qy,null))),_.length>0||g.length>0?N.createElement(N.Fragment,null,_,g):N.createElement(yt,{size:f,unstyled:m,className:y.nothingFound},d)}DD.displayName="@mantine/core/SelectItems";var L1e=Object.defineProperty,lE=Object.getOwnPropertySymbols,OK=Object.prototype.hasOwnProperty,PK=Object.prototype.propertyIsEnumerable,WF=(e,t,n)=>t in e?L1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M1e=(e,t)=>{for(var n in t||(t={}))OK.call(t,n)&&WF(e,n,t[n]);if(lE)for(var n of lE(t))PK.call(t,n)&&WF(e,n,t[n]);return e},F1e=(e,t)=>{var n={};for(var r in e)OK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&PK.call(e,r)&&(n[r]=e[r]);return n};const $D=T.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=F1e(n,["label","value"]);return N.createElement("div",M1e({ref:t},s),r||i)});$D.displayName="@mantine/core/DefaultItem";function B1e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function RK(...e){return t=>e.forEach(n=>B1e(n,t))}function _h(...e){return T.useCallback(RK(...e),e)}const kK=T.forwardRef((e,t)=>{const{children:n,...r}=e,i=T.Children.toArray(n),s=i.find(U1e);if(s){const o=s.props.children,a=i.map(u=>u===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:u);return T.createElement(Q2,hr({},r,{ref:t}),T.isValidElement(o)?T.cloneElement(o,void 0,a):null)}return T.createElement(Q2,hr({},r,{ref:t}),n)});kK.displayName="Slot";const Q2=T.forwardRef((e,t)=>{const{children:n,...r}=e;return T.isValidElement(n)?T.cloneElement(n,{...V1e(r,n.props),ref:RK(t,n.ref)}):T.Children.count(n)>1?T.Children.only(null):null});Q2.displayName="SlotClone";const j1e=({children:e})=>T.createElement(T.Fragment,null,e);function U1e(e){return T.isValidElement(e)&&e.type===j1e}function V1e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const z1e=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],J_=z1e.reduce((e,t)=>{const n=T.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?kK:t;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),T.createElement(a,hr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),X2=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{};function H1e(e,t){return T.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Z_=e=>{const{present:t,children:n}=e,r=q1e(t),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=_h(r.ref,i.ref);return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Z_.displayName="Presence";function q1e(e){const[t,n]=T.useState(),r=T.useRef({}),i=T.useRef(e),s=T.useRef("none"),o=e?"mounted":"unmounted",[a,u]=H1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const l=b1(r.current);s.current=a==="mounted"?l:"none"},[a]),X2(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=b1(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),X2(()=>{if(t){const l=f=>{const h=b1(r.current).includes(f.animationName);f.target===t&&h&&gh.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=b1(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function b1(e){return(e==null?void 0:e.animationName)||"none"}function W1e(e,t=[]){let n=[];function r(s,o){const a=T.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=T.useMemo(()=>p,Object.values(p));return T.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=T.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return T.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,Y1e(i,...t)]}function Y1e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ud(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const G1e=T.createContext(void 0);function K1e(e){const t=T.useContext(G1e);return e||t||"ltr"}function Q1e(e,[t,n]){return Math.min(n,Math.max(t,e))}function $d(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function X1e(e,t){return T.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const NK="ScrollArea",[DK,lht]=W1e(NK),[J1e,oa]=DK(NK),Z1e=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=T.useState(null),[l,c]=T.useState(null),[f,d]=T.useState(null),[h,p]=T.useState(null),[m,y]=T.useState(null),[g,_]=T.useState(0),[v,E]=T.useState(0),[S,w]=T.useState(!1),[x,I]=T.useState(!1),M=_h(t,D=>u(D)),C=K1e(i);return T.createElement(J1e,{scope:n,type:r,dir:C,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:w,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:E},T.createElement(J_.div,hr({dir:C},o,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})))}),ebe="ScrollAreaViewport",tbe=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=oa(ebe,n),o=T.useRef(null),a=_h(t,o,s.onViewportChange);return T.createElement(T.Fragment,null,T.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),T.createElement(J_.div,hr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),T.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),ic="ScrollAreaScrollbar",nbe=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oa(ic,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return T.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?T.createElement(rbe,hr({},r,{ref:t,forceMount:n})):i.type==="scroll"?T.createElement(ibe,hr({},r,{ref:t,forceMount:n})):i.type==="auto"?T.createElement($K,hr({},r,{ref:t,forceMount:n})):i.type==="always"?T.createElement(LD,hr({},r,{ref:t})):null}),rbe=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oa(ic,e.__scopeScrollArea),[s,o]=T.useState(!1);return T.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),T.createElement(Z_,{present:n||s},T.createElement($K,hr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),ibe=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oa(ic,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Bx(()=>u("SCROLL_END"),100),[a,u]=X1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),T.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),T.createElement(Z_,{present:n||a!=="hidden"},T.createElement(LD,hr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:$d(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:$d(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),$K=T.forwardRef((e,t)=>{const n=oa(ic,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=T.useState(!1),a=e.orientation==="horizontal",u=Bx(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return dm(n.viewport,u),dm(n.content,u),T.createElement(Z_,{present:r||s},T.createElement(LD,hr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),LD=T.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=oa(ic,e.__scopeScrollArea),s=T.useRef(null),o=T.useRef(0),[a,u]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=BK(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return dbe(d,o.current,a,h)}return n==="horizontal"?T.createElement(sbe,hr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=YF(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?T.createElement(obe,hr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=YF(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),sbe=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=oa(ic,e.__scopeScrollArea),[o,a]=T.useState(),u=T.useRef(null),l=_h(t,u,s.onScrollbarXChange);return T.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),T.createElement(MK,hr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fx(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),UK(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:cE(o.paddingLeft),paddingEnd:cE(o.paddingRight)}})}}))}),obe=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=oa(ic,e.__scopeScrollArea),[o,a]=T.useState(),u=T.useRef(null),l=_h(t,u,s.onScrollbarYChange);return T.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),T.createElement(MK,hr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fx(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),UK(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:cE(o.paddingTop),paddingEnd:cE(o.paddingBottom)}})}}))}),[abe,LK]=DK(ic),MK=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=oa(ic,n),[p,m]=T.useState(null),y=_h(t,M=>m(M)),g=T.useRef(null),_=T.useRef(""),v=h.viewport,E=r.content-r.viewport,S=ud(c),w=ud(u),x=Bx(f,10);function I(M){if(g.current){const C=M.clientX-g.current.left,D=M.clientY-g.current.top;l({x:C,y:D})}}return T.useEffect(()=>{const M=C=>{const D=C.target;(p==null?void 0:p.contains(D))&&S(C,E)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[v,p,E,S]),T.useEffect(w,[r,w]),dm(p,x),dm(h.content,x),T.createElement(abe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:ud(s),onThumbPointerUp:ud(o),onThumbPositionChange:w,onThumbPointerDown:ud(a)},T.createElement(J_.div,hr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:$d(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(M))}),onPointerMove:$d(e.onPointerMove,I),onPointerUp:$d(e.onPointerUp,M=>{M.target.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,g.current=null})})))}),J2="ScrollAreaThumb",ube=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=LK(J2,e.__scopeScrollArea);return T.createElement(Z_,{present:n||i.hasThumb},T.createElement(lbe,hr({ref:t},r)))}),lbe=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=oa(J2,n),o=LK(J2,n),{onThumbPositionChange:a}=o,u=_h(t,f=>o.onThumbChange(f)),l=T.useRef(),c=Bx(()=>{l.current&&(l.current(),l.current=void 0)},100);return T.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=hbe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),T.createElement(J_.div,hr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:$d(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:$d(e.onPointerUp,o.onThumbPointerUp)}))}),FK="ScrollAreaCorner",cbe=T.forwardRef((e,t)=>{const n=oa(FK,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?T.createElement(fbe,hr({},e,{ref:t})):null}),fbe=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=oa(FK,n),[s,o]=T.useState(0),[a,u]=T.useState(0),l=!!(s&&a);return dm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),dm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?T.createElement(J_.div,hr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function cE(e){return e?parseInt(e,10):0}function BK(e,t){const n=e/t;return isNaN(n)?0:n}function Fx(e){const t=BK(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function dbe(e,t,n,r="ltr"){const i=Fx(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return jK([u,l],f)(e)}function YF(e,t,n="ltr"){const r=Fx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=Q1e(e,u);return jK([0,o],[0,a])(l)}function jK(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function UK(e,t){return e>0&&e<t}const hbe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Bx(e,t){const n=ud(e),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function dm(e,t){const n=ud(t);X2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const pbe=Z1e,mbe=tbe,GF=nbe,KF=ube,gbe=cbe;var ybe=lt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const _be=ybe;var vbe=Object.defineProperty,bbe=Object.defineProperties,wbe=Object.getOwnPropertyDescriptors,fE=Object.getOwnPropertySymbols,VK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,QF=(e,t,n)=>t in e?vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HK=(e,t)=>{for(var n in t||(t={}))VK.call(t,n)&&QF(e,n,t[n]);if(fE)for(var n of fE(t))zK.call(t,n)&&QF(e,n,t[n]);return e},Ebe=(e,t)=>bbe(e,wbe(t)),qK=(e,t)=>{var n={};for(var r in e)VK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&zK.call(e,r)&&(n[r]=e[r]);return n};const WK={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},jx=T.forwardRef((e,t)=>{const n=ft("ScrollArea",WK,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,m=qK(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,g]=T.useState(!1),_=Bi(),{classes:v,cx:E}=_be({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return N.createElement(pbe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},N.createElement(ut,HK({className:E(v.root,i)},m),N.createElement(mbe,{className:v.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:S})=>h({x:S.scrollLeft,y:S.scrollTop}):void 0},r),N.createElement(GF,{orientation:"horizontal",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},N.createElement(KF,{className:v.thumb})),N.createElement(GF,{orientation:"vertical",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},N.createElement(KF,{className:v.thumb})),N.createElement(gbe,{className:v.corner})))}),YK=T.forwardRef((e,t)=>{const n=ft("ScrollAreaAutosize",WK,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=qK(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return N.createElement(ut,Ebe(HK({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Gd(m)]}),N.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},N.createElement(jx,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});YK.displayName="@mantine/core/ScrollAreaAutosize";jx.displayName="@mantine/core/ScrollArea";jx.Autosize=YK;const MD=jx;var Tbe=Object.defineProperty,Sbe=Object.defineProperties,xbe=Object.getOwnPropertyDescriptors,dE=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JF=(e,t)=>{for(var n in t||(t={}))GK.call(t,n)&&XF(e,n,t[n]);if(dE)for(var n of dE(t))KK.call(t,n)&&XF(e,n,t[n]);return e},Ibe=(e,t)=>Sbe(e,xbe(t)),Abe=(e,t)=>{var n={};for(var r in e)GK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&KK.call(e,r)&&(n[r]=e[r]);return n};const Ux=T.forwardRef((e,t)=>{var n=e,{style:r}=n,i=Abe(n,["style"]);return N.createElement(MD,Ibe(JF({},i),{style:JF({width:"100%"},r),viewportRef:t}),i.children)});Ux.displayName="@mantine/core/SelectScrollArea";var Cbe=lt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Obe=Cbe;function Bl(e){return e.split("-")[0]}function ev(e){return e.split("-")[1]}function vh(e){return["top","bottom"].includes(Bl(e))?"x":"y"}function FD(e){return e==="y"?"height":"width"}function ZF(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=vh(t),u=FD(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(Bl(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(ev(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const Pbe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=ZF(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:_,y:v,data:E,reset:S}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=v??f,h={...h,[y]:{...h[y],...E}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:f}=ZF(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function BD(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Wy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function jD(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=BD(h),m=a[d?f==="floating"?"reference":"floating":f],y=Wy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),g=Wy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-g.top+p.top,bottom:g.bottom-y.bottom+p.bottom,left:y.left-g.left+p.left,right:g.right-y.right+p.right}}const QK=Math.min,Ic=Math.max;function Z2(e,t,n){return Ic(e,QK(t,n))}const e8=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=BD(r),c={x:i,y:s},f=vh(o),d=ev(o),h=FD(f),p=await u.getDimensions(n),m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],v=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let E=v?f==="y"?v.clientHeight||0:v.clientWidth||0:0;E===0&&(E=a.floating[h]);const S=g/2-_/2,w=l[m],x=E-p[h]-l[y],I=E/2-p[h]/2+S,M=Z2(w,I,x),C=(d==="start"?l[m]:l[y])>0&&I!==M&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(C?I<w?w-I:x-I:0),data:{[f]:M,centerOffset:I-M}}}}),Rbe={left:"right",right:"left",bottom:"top",top:"bottom"};function hE(e){return e.replace(/left|right|bottom|top/g,t=>Rbe[t])}function kbe(e,t,n){n===void 0&&(n=!1);const r=ev(e),i=vh(e),s=FD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=hE(o)),{main:o,cross:hE(o)}}const Nbe={start:"end",end:"start"};function t8(e){return e.replace(/start|end/g,t=>Nbe[t])}const Dbe=["top","right","bottom","left"];Dbe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const XK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,m=Bl(r),y=f||(m===o||!h?[hE(o)]:function(I){const M=hE(I);return[t8(I),M,t8(M)]}(o)),g=[o,...y],_=await jD(t,p),v=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&v.push(_[m]),c){const{main:I,cross:M}=kbe(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));v.push(_[I],_[M])}if(E=[...E,{placement:r,overflows:v}],!v.every(I=>I<=0)){var S,w;const I=((S=(w=i.flip)==null?void 0:w.index)!=null?S:0)+1,M=g[I];if(M)return{data:{index:I,overflows:E},reset:{placement:M}};let C="bottom";switch(d){case"bestFit":{var x;const D=(x=E.map(q=>[q,q.overflows.filter(W=>W>0).reduce((W,U)=>W+U,0)]).sort((q,W)=>q[1]-W[1])[0])==null?void 0:x[0].placement;D&&(C=D);break}case"initialPlacement":C=o}if(r!==C)return{reset:{placement:C}}}return{}}}},JK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=Bl(a),d=ev(a),h=vh(a)==="x",p=["left","top"].includes(f)?-1:1,m=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:g,crossAxis:_,alignmentAxis:v}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof v=="number"&&(_=d==="end"?-1*v:v),h?{x:_*m,y:g*p}:{x:g*p,y:_*m}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function ZK(e){return e==="x"?"y":"x"}const UD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...u}=e,l={x:n,y:r},c=await jD(t,u),f=vh(Bl(i)),d=ZK(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=Z2(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=Z2(p+c[d==="y"?"top":"left"],p,p-c[y])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},$be=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=vh(i),d=ZK(f);let h=c[f],p=c[d];const m=typeof a=="function"?a(t):a,y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const S=f==="y"?"height":"width",w=s.reference[f]-s.floating[S]+y.mainAxis,x=s.reference[f]+s.reference[S]-y.mainAxis;h<w?h=w:h>x&&(h=x)}if(l){var g,_,v,E;const S=f==="y"?"width":"height",w=["top","left"].includes(Bl(i)),x=s.reference[d]-s.floating[S]+(w&&(g=(_=o.offset)==null?void 0:_[d])!=null?g:0)+(w?0:y.crossAxis),I=s.reference[d]+s.reference[S]+(w?0:(v=(E=o.offset)==null?void 0:E[d])!=null?v:0)-(w?y.crossAxis:0);p<x?p=x:p>I&&(p=I)}return{[f]:h,[d]:p}}}},Lbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await jD(t,a),l=Bl(n),c=ev(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=Ic(u.left,0),p=Ic(u.right,0),m=Ic(u.top,0),y=Ic(u.bottom,0),g={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(m!==0||y!==0?m+y:Ic(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Ic(u.left,u.right)):u[d])};await o({...t,...g});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},eQ=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=Wy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=BD(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var m;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(m=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?m:f;if(d.length>=2){if(vh(r)==="x"){const w=d[0],x=d[d.length-1],I=Bl(r)==="top",M=w.top,C=x.bottom,D=I?w.left:x.left,q=I?w.right:x.right;return{top:M,bottom:C,left:D,right:q,width:q-D,height:C-M,x:D,y:M}}const y=Bl(r)==="left",g=Ic(...d.map(w=>w.right)),_=QK(...d.map(w=>w.left)),v=d.filter(w=>y?w.left===_:w.right===g),E=v[0].top,S=v[v.length-1].bottom;return{top:E,bottom:S,left:_,right:g,width:g-_,height:S-E,x:_,y:E}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function tQ(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function sc(e){if(e==null)return window;if(!tQ(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function pf(e){return sc(e).getComputedStyle(e)}function mf(e){return tQ(e)?"":e?(e.nodeName||"").toLowerCase():""}function nQ(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function jl(e){return e instanceof sc(e).HTMLElement}function Al(e){return e instanceof sc(e).Element}function n8(e){return typeof ShadowRoot>"u"?!1:e instanceof sc(e).ShadowRoot||e instanceof ShadowRoot}function Vx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pf(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Mbe(e){return["table","td","th"].includes(mf(e))}function eR(e){const t=/firefox/i.test(nQ()),n=pf(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function rQ(){return!/^((?!chrome|android).)*safari/i.test(nQ())}function VD(e){return["html","body","#document"].includes(mf(e))}const r8=Math.min,X0=Math.max,pE=Math.round;function Cl(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&jl(e)&&(u=e.offsetWidth>0&&pE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&pE(a.height)/e.offsetHeight||1);const c=Al(e)?sc(e):window,f=!rQ()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,m=a.height/l;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function tf(e){return(t=e,(t instanceof sc(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function zx(e){return Al(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function iQ(e){return Cl(tf(e)).left+zx(e).scrollLeft}function Fbe(e,t,n){const r=jl(t),i=tf(t),s=Cl(e,r&&function(u){const l=Cl(u);return pE(l.width)!==u.offsetWidth||pE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((mf(t)!=="body"||Vx(i))&&(o=zx(t)),jl(t)){const u=Cl(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=iQ(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function mE(e){if(mf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(n8(e)?e.host:null)||tf(e);return n8(t)?t.host:t}function i8(e){return jl(e)&&pf(e).position!=="fixed"?e.offsetParent:null}function s8(e){const t=sc(e);let n=i8(e);for(;n&&Mbe(n)&&pf(n).position==="static";)n=i8(n);return n&&(mf(n)==="html"||mf(n)==="body"&&pf(n).position==="static"&&!eR(n))?t:n||function(r){let i=mE(r);for(;jl(i)&&!VD(i);){if(eR(i))return i;i=mE(i)}return null}(e)||t}function o8(e){if(jl(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Cl(e);return{width:t.width,height:t.height}}function sQ(e){const t=mE(e);return VD(t)?e.ownerDocument.body:jl(t)&&Vx(t)?t:sQ(t)}function Ol(e,t){var n;t===void 0&&(t=[]);const r=sQ(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=sc(r),o=i?[s].concat(s.visualViewport||[],Vx(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Ol(o))}function a8(e,t,n){return t==="viewport"?Wy(function(r,i){const s=sc(r),o=tf(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=rQ();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):Al(t)?function(r,i){const s=Cl(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):Wy(function(r){var i;const s=tf(r),o=zx(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=X0(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=X0(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+iQ(r);const f=-o.scrollTop;return pf(a||s).direction==="rtl"&&(c+=X0(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(tf(e)))}const Bbe={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=Ol(l).filter(h=>Al(h)&&mf(h)!=="body"),f=l,d=null;for(;Al(f)&&!VD(f);){const h=pf(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!eR(f)?c=c.filter(p=>p!==f):d=h,f=mE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=a8(t,c,i);return l.top=X0(f.top,l.top),l.right=r8(f.right,l.right),l.bottom=r8(f.bottom,l.bottom),l.left=X0(f.left,l.left),l},a8(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=jl(n),s=tf(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((mf(n)!=="body"||Vx(s))&&(o=zx(n)),jl(n))){const u=Cl(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:Al,getDimensions:o8,getOffsetParent:s8,getDocumentElement:tf,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Fbe(t,s8(n),r),floating:{...o8(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>pf(e).direction==="rtl"};function jbe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...Al(e)?Ol(e):e.contextElement?Ol(e.contextElement):[],...Ol(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),Al(e)&&!a&&f.observe(e),Al(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?Cl(e):null;return a&&function h(){const p=Cl(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Ube=(e,t,n)=>Pbe(e,t,{platform:Bbe,...n});var tR=typeof document<"u"?T.useLayoutEffect:T.useEffect;function gE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!gE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!gE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Vbe(e){const t=T.useRef(e);return tR(()=>{t.current=e}),t}function zbe(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=T.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=T.useState(t);gE(a,t)||u(t);const l=T.useRef(null),c=T.useRef(null),f=T.useRef(null),d=T.useRef(s),h=Vbe(i),p=T.useCallback(()=>{!l.current||!c.current||Ube(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(E=>{m.current&&!gE(d.current,E)&&(d.current=E,gh.flushSync(()=>{o(E)}))})},[a,n,r]);tR(()=>{m.current&&p()},[p]);const m=T.useRef(!1);tR(()=>(m.current=!0,()=>{m.current=!1}),[]);const y=T.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const E=h.current(l.current,c.current,p);f.current=E}else p()},[p,h]),g=T.useCallback(E=>{l.current=E,y()},[y]),_=T.useCallback(E=>{c.current=E,y()},[y]),v=T.useMemo(()=>({reference:l,floating:c}),[]);return T.useMemo(()=>({...s,update:p,refs:v,reference:g,floating:_}),[s,p,v,g,_])}const oQ=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?e8({element:t.current,padding:n}).fn(i):{}:t?e8({element:t,padding:n}).fn(i):{}}}};var hm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Hbe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let LC=!1,qbe=0;const u8=()=>"floating-ui-"+qbe++;function Wbe(){const[e,t]=T.useState(()=>LC?u8():void 0);return hm(()=>{e==null&&t(u8())},[]),T.useEffect(()=>{LC||(LC=!0)},[]),e}const l8=Vd.useId,c8=l8??Wbe,Ybe=T.createContext(null),Gbe=T.createContext(null),aQ=()=>{var e,t;return(e=(t=T.useContext(Ybe))==null?void 0:t.id)!=null?e:null},zD=()=>T.useContext(Gbe);function kc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function uQ(e){var t;return(t=kc(e).defaultView)!=null?t:window}function vd(e){return e?e instanceof uQ(e).Element:!1}function Kbe(e){return e?e instanceof uQ(e).HTMLElement:!1}const f8=Vd.useInsertionEffect;function Qbe(e){const t=T.useRef(()=>{});return f8?f8(()=>{t.current=e}):t.current=e,T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function HD(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=T.useState(null),c=zD(),f=T.useRef(null),d=T.useRef({}),h=T.useState(()=>Hbe())[0],p=zbe({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),m=Qbe(n),y=T.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),g=T.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:m,_:{domReference:u}}),[p,a,h,t,m,y,u]);hm(()=>{const E=c==null?void 0:c.nodesRef.current.find(S=>S.id===a);E&&(E.context=g)});const{reference:_}=p,v=T.useCallback(E=>{(vd(E)||E===null)&&(g.refs.domReference.current=E,l(E)),_(E)},[_,g.refs]);return T.useMemo(()=>({...p,context:g,refs:y,reference:v}),[p,y,g,v])}function MC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const Xbe=function(e){e===void 0&&(e=[]);const t=e,n=T.useCallback(s=>MC(s,e,"reference"),t),r=T.useCallback(s=>MC(s,e,"floating"),t),i=T.useCallback(s=>MC(s,e,"item"),t);return T.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function FC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function Jbe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function d8(e){const t=T.useRef(e);return hm(()=>{t.current=e}),t}function Zbe(e){const t=T.useRef();return hm(()=>{t.current=e},[e]),t.current}function Db(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const ewe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=zD(),m=aQ(),y=d8(i),g=d8(r),_=Zbe(u),v=T.useRef(),E=T.useRef(),S=T.useRef(),w=T.useRef(),x=T.useRef(!0),I=T.useRef(!1),M=T.useCallback(()=>{var W;const U=(W=c.current.openEvent)==null?void 0:W.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[c]);T.useEffect(()=>{if(!n)return;function W(){clearTimeout(E.current),clearTimeout(w.current),x.current=!0}return f.on("dismiss",W),()=>{f.off("dismiss",W)}},[n,f,d]),T.useEffect(()=>{if(!n||!y.current)return;function W(){M()&&l(!1)}const U=kc(d.floating.current).documentElement;return U.addEventListener("mouseleave",W),()=>{U.removeEventListener("mouseleave",W)}},[d,l,n,y,c,M]);const C=T.useCallback(function(W){W===void 0&&(W=!0);const U=Db(g.current,"close",v.current);U&&!S.current?(clearTimeout(E.current),E.current=setTimeout(()=>l(!1),U)):W&&(clearTimeout(E.current),l(!1))},[g,l]),D=T.useCallback(()=>{S.current&&(kc(d.floating.current).removeEventListener("pointermove",S.current),S.current=void 0)},[d]),q=T.useCallback(()=>{kc(d.floating.current).body.style.pointerEvents="",I.current=!1},[d]);return T.useEffect(()=>{if(!n)return;function W(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function U(ie){if(clearTimeout(E.current),x.current=!1,s&&v.current!=="mouse"||o>0&&Db(g.current,"open")===0)return;c.current.openEvent=ie;const K=Db(g.current,"open",v.current);K?E.current=setTimeout(()=>{l(!0)},K):l(!0)}function de(ie){if(W())return;const K=kc(d.floating.current);if(clearTimeout(w.current),y.current){clearTimeout(E.current),S.current&&K.removeEventListener("pointermove",S.current),S.current=y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,onClose(){q(),D(),C()}}),K.addEventListener("pointermove",S.current);return}C()}function ae(ie){W()||y.current==null||y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,leave:!0,onClose(){q(),D(),C()}})(ie)}const pe=d.floating.current,ee=d.domReference.current;if(vd(ee))return u&&ee.addEventListener("mouseleave",ae),pe==null||pe.addEventListener("mouseleave",ae),a&&ee.addEventListener("mousemove",U,{once:!0}),ee.addEventListener("mouseenter",U),ee.addEventListener("mouseleave",de),()=>{u&&ee.removeEventListener("mouseleave",ae),pe==null||pe.removeEventListener("mouseleave",ae),a&&ee.removeEventListener("mousemove",U),ee.removeEventListener("mouseenter",U),ee.removeEventListener("mouseleave",de)}},[h.domReference,n,e,s,o,a,C,D,q,l,u,p,d,g,y,c]),hm(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&M()){kc(d.floating.current).body.style.pointerEvents="none",I.current=!0;const de=d.domReference.current,ae=d.floating.current;if(vd(de)&&ae){var W,U;const pe=p==null||(W=p.nodesRef.current.find(ee=>ee.id===m))==null||(U=W.context)==null?void 0:U.refs.floating.current;return pe&&(pe.style.pointerEvents=""),de.style.pointerEvents="auto",ae.style.pointerEvents="auto",()=>{de.style.pointerEvents="",ae.style.pointerEvents=""}}}},[n,u,m,d,p,y,c,M]),hm(()=>{_&&!u&&(v.current=void 0,D(),q())}),T.useEffect(()=>()=>{D(),clearTimeout(E.current),clearTimeout(w.current),I.current&&q()},[n,D,q]),T.useMemo(()=>{if(!n)return{};function W(U){v.current=U.pointerType}return{reference:{onPointerDown:W,onPointerEnter:W,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){C(!1)}}}},[n,o,u,l,C])},lQ=T.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),cQ=()=>T.useContext(lQ),twe=e=>{let{children:t,delay:n}=e;const[r,i]=T.useState({delay:n,initialDelay:n,currentId:null}),s=T.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return T.createElement(lQ.Provider,{value:T.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},nwe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=cQ();T.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:Db(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),T.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},rwe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=c8(),o=c8();return T.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function BC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const iwe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},swe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},owe=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const m=zD(),y=aQ()!=null,g=T.useRef(!1);return T.useEffect(()=>{if(!n||!a)return;function _(x){if(x.key==="Escape"){if(!p&&m&&FC(m.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function v(x){const I=g.current;if(g.current=!1,I)return;const M=Jbe(x);if(vd(M)&&i.floating.current){var C;const q=(C=i.floating.current.ownerDocument.defaultView)!=null?C:window,W=M.scrollWidth>M.clientWidth,U=M.scrollHeight>M.clientHeight;let de=U&&x.offsetX>M.clientWidth;if(U&&q.getComputedStyle(M).direction==="rtl"&&(de=x.offsetX<=M.offsetWidth-M.clientWidth),de||W&&x.offsetY>M.clientHeight)return}const D=m&&FC(m.nodesRef.current,o).some(q=>{var W;return BC(x,(W=q.context)==null?void 0:W.refs.floating.current)});BC(x,i.floating.current)||BC(x,i.domReference.current)||D||!p&&m&&FC(m.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function E(){r(!1)}const S=kc(i.floating.current);u&&S.addEventListener("keydown",_),l&&S.addEventListener(c,v);let w=[];return h&&(vd(i.domReference.current)&&(w=Ol(i.domReference.current)),vd(i.floating.current)&&(w=w.concat(Ol(i.floating.current))),!vd(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(w=w.concat(Ol(i.reference.current.contextElement)))),w=w.filter(x=>{var I;return x!==((I=S.defaultView)==null?void 0:I.visualViewport)}),w.forEach(x=>{x.addEventListener("scroll",E,{passive:!0})}),()=>{u&&S.removeEventListener("keydown",_),l&&S.removeEventListener(c,v),w.forEach(x=>{x.removeEventListener("scroll",E)})}},[u,l,c,s,m,o,n,r,h,a,p,i,y]),T.useEffect(()=>{g.current=!1},[l,c]),T.useMemo(()=>a?{reference:{[iwe[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[swe[c]]:()=>{g.current=!0}}}:{},[a,s,f,c,d,r])},awe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=T.useRef(""),c=T.useRef(!1),f=T.useRef();return T.useEffect(()=>{var d;if(!a)return;const p=(d=kc(s.floating.current).defaultView)!=null?d:window;function m(){!n&&Kbe(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",m),()=>{p.removeEventListener("blur",m)}},[s,n,a]),T.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),T.useEffect(()=>()=>{clearTimeout(f.current)},[]),T.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,m;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((m=i.current.openEvent)==null?void 0:m.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,m;(p=s.floating.current)!=null&&p.contains(h)||(m=s.domReference.current)!=null&&m.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function fQ({opened:e,floating:t,positionDependencies:n}){const[r,i]=T.useState(0);T.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return jbe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),ys(()=>{t.update()},n),ys(()=>{i(s=>s+1)},[e])}function uwe(e){const t=[JK(e.offset)];return e.middlewares.shift&&t.push(UD({limiter:$be()})),e.middlewares.flip&&t.push(XK()),e.middlewares.inline&&t.push(eQ()),t.push(oQ({element:e.arrowRef})),t}function lwe(e){const[t,n]=ta({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=HD({placement:e.position,middleware:[...uwe(e),...e.width==="target"?[Lbe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return fQ({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ys(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const dQ={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[cwe,hQ]=BY(dQ.context);var fwe=Object.defineProperty,dwe=Object.defineProperties,hwe=Object.getOwnPropertyDescriptors,yE=Object.getOwnPropertySymbols,pQ=Object.prototype.hasOwnProperty,mQ=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w1=(e,t)=>{for(var n in t||(t={}))pQ.call(t,n)&&h8(e,n,t[n]);if(yE)for(var n of yE(t))mQ.call(t,n)&&h8(e,n,t[n]);return e},pwe=(e,t)=>dwe(e,hwe(t)),mwe=(e,t)=>{var n={};for(var r in e)pQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&mQ.call(e,r)&&(n[r]=e[r]);return n};const gQ=T.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=mwe(n,["children","refProp","popupType"]);if(!Y_(r))throw new Error(dQ.children);const a=o,u=hQ(),l=sa(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return T.cloneElement(r,w1(pwe(w1(w1(w1({},a),c),u.targetProps),{className:VY(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});gQ.displayName="@mantine/core/PopoverTarget";var gwe=lt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const ywe=gwe;var _we=Object.defineProperty,p8=Object.getOwnPropertySymbols,vwe=Object.prototype.hasOwnProperty,bwe=Object.prototype.propertyIsEnumerable,m8=(e,t,n)=>t in e?_we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fh=(e,t)=>{for(var n in t||(t={}))vwe.call(t,n)&&m8(e,n,t[n]);if(p8)for(var n of p8(t))bwe.call(t,n)&&m8(e,n,t[n]);return e};const g8={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function yQ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in p1?Fh(Fh(Fh({transitionProperty:p1[e].transitionProperty},i),p1[e].common),p1[e][g8[t]]):null:Fh(Fh(Fh({transitionProperty:e.transitionProperty},i),e.common),e[g8[t]])}function _Q({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Bi(),l=Dx(),c=u.respectReducedMotion?l:!1,[f,d]=T.useState(r?"entered":"exited");let h=c?0:e;const p=T.useRef(-1),m=y=>{const g=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const v=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(v),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return ys(()=>{m(r)},[r]),T.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function Hx({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=_Q({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?N.createElement(N.Fragment,null,i({})):null:f==="exited"?null:N.createElement(N.Fragment,null,i(yQ({transition:e,duration:c,state:f,timingFunction:d})))}Hx.displayName="@mantine/core/Transition";function vQ({children:e,active:t=!0,refProp:n="ref"}){const r=vG(t),i=sa(r,e==null?void 0:e.ref);return Y_(e)?T.cloneElement(e,{[n]:i}):e}vQ.displayName="@mantine/core/FocusTrap";var wwe=Object.defineProperty,Ewe=Object.defineProperties,Twe=Object.getOwnPropertyDescriptors,y8=Object.getOwnPropertySymbols,Swe=Object.prototype.hasOwnProperty,xwe=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mc=(e,t)=>{for(var n in t||(t={}))Swe.call(t,n)&&_8(e,n,t[n]);if(y8)for(var n of y8(t))xwe.call(t,n)&&_8(e,n,t[n]);return e},E1=(e,t)=>Ewe(e,Twe(t));function v8(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function b8(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Iwe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Awe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[Iwe[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?E1(mc(mc({},c),v8(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?E1(mc(mc({},c),v8(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?E1(mc(mc({},c),b8(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?E1(mc(mc({},c),b8(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var Cwe=Object.defineProperty,Owe=Object.defineProperties,Pwe=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rwe=(e,t)=>{for(var n in t||(t={}))bQ.call(t,n)&&w8(e,n,t[n]);if(_E)for(var n of _E(t))wQ.call(t,n)&&w8(e,n,t[n]);return e},kwe=(e,t)=>Owe(e,Pwe(t)),Nwe=(e,t)=>{var n={};for(var r in e)bQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_E)for(var r of _E(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};const qD=T.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=Nwe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=Bi();return u?N.createElement("div",kwe(Rwe({},f),{ref:t,style:Awe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});qD.displayName="@mantine/core/FloatingArrow";var Dwe=Object.defineProperty,$we=Object.defineProperties,Lwe=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,EQ=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?Dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1=(e,t)=>{for(var n in t||(t={}))EQ.call(t,n)&&E8(e,n,t[n]);if(vE)for(var n of vE(t))TQ.call(t,n)&&E8(e,n,t[n]);return e},T8=(e,t)=>$we(e,Lwe(t)),Mwe=(e,t)=>{var n={};for(var r in e)EQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vE)for(var r of vE(e))t.indexOf(r)<0&&TQ.call(e,r)&&(n[r]=e[r]);return n};function SQ(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=Mwe(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=Q_(),f=hQ(),{classes:d,cx:h}=ywe({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=mG({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:N.createElement(X_,{withinPortal:f.withinPortal},N.createElement(Hx,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var g,_;return N.createElement(vQ,{active:f.trapFocus},N.createElement(ut,T1(T8(T1({},m),{tabIndex:-1,ref:f.floating,style:T8(T1(T1({},n),y),{zIndex:f.zIndex,top:(g=f.y)!=null?g:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:Tme(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,N.createElement(qD,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}SQ.displayName="@mantine/core/PopoverDropdown";function xQ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var S8=Object.getOwnPropertySymbols,Fwe=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,jwe=(e,t)=>{var n={};for(var r in e)Fwe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&S8)for(var r of S8(e))t.indexOf(r)<0&&Bwe.call(e,r)&&(n[r]=e[r]);return n};const Uwe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Po("popover"),__staticSelector:"Popover",width:"max-content"};function Xo(e){var t,n,r,i,s,o;const a=T.useRef(null),u=ft("Popover",Uwe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:_,withArrow:v,arrowSize:E,arrowOffset:S,arrowRadius:w,unstyled:x,classNames:I,styles:M,closeOnClickOutside:C,withinPortal:D,closeOnEscape:q,clickOutsideEvents:W,trapFocus:U,onClose:de,onOpen:ae,onChange:pe,zIndex:ee,radius:ie,shadow:K,id:A,defaultOpened:O,exitTransitionDuration:z,__staticSelector:k,withRoles:R,disabled:Y,returnFocus:se}=u,ue=jwe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[he,fe]=T.useState(null),[Se,me]=T.useState(null),Je=Yu(A),Ge=Bi(),qe=lwe({middlewares:_,width:g,position:xQ(Ge.dir,c),offset:f+(v?E/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:O,onChange:pe,onOpen:ae,onClose:de});E0e(()=>C&&qe.onClose(),W,[he,Se]);const Le=T.useCallback(Ve=>{fe(Ve),qe.floating.reference(Ve)},[qe.floating.reference]),Ae=T.useCallback(Ve=>{me(Ve),qe.floating.floating(Ve)},[qe.floating.floating]);return N.createElement(dG,{classNames:I,styles:M,unstyled:x,staticSelector:k},N.createElement(cwe,{value:{returnFocus:se,disabled:Y,controlled:qe.controlled,reference:Le,floating:Ae,x:qe.floating.x,y:qe.floating.y,arrowX:(r=(n=(t=qe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=qe.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:qe.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:z,width:g,withArrow:v,arrowSize:E,arrowOffset:S,arrowRadius:w,placement:qe.floating.placement,trapFocus:U,withinPortal:D,zIndex:ee,radius:ie,shadow:K,closeOnEscape:q,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${Je}-target`,getDropdownId:()=>`${Je}-dropdown`,withRoles:R,targetProps:ue}},l))}Xo.Target=gQ;Xo.Dropdown=SQ;Xo.displayName="@mantine/core/Popover";var Vwe=Object.defineProperty,bE=Object.getOwnPropertySymbols,IQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?Vwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zwe=(e,t)=>{for(var n in t||(t={}))IQ.call(t,n)&&x8(e,n,t[n]);if(bE)for(var n of bE(t))AQ.call(t,n)&&x8(e,n,t[n]);return e},Hwe=(e,t)=>{var n={};for(var r in e)IQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bE)for(var r of bE(e))t.indexOf(r)<0&&AQ.call(e,r)&&(n[r]=e[r]);return n};function qwe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=Hwe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=Obe(null,{name:u,styles:l,classNames:c,unstyled:f});return N.createElement(Xo.Dropdown,zwe({p:0,onMouseDown:p=>p.preventDefault()},d),N.createElement("div",{style:{maxHeight:i,display:"flex"}},N.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==Ux?"auto":void 0},"data-combobox-popover":!0,ref:a},N.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function nf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return N.createElement(Xo,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}nf.Target=Xo.Target;nf.Dropdown=qwe;var Wwe=Object.defineProperty,Ywe=Object.defineProperties,Gwe=Object.getOwnPropertyDescriptors,wE=Object.getOwnPropertySymbols,CQ=Object.prototype.hasOwnProperty,OQ=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?Wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jC=(e,t)=>{for(var n in t||(t={}))CQ.call(t,n)&&I8(e,n,t[n]);if(wE)for(var n of wE(t))OQ.call(t,n)&&I8(e,n,t[n]);return e},Kwe=(e,t)=>Ywe(e,Gwe(t)),Qwe=(e,t)=>{var n={};for(var r in e)CQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wE)for(var r of wE(e))t.indexOf(r)<0&&OQ.call(e,r)&&(n[r]=e[r]);return n};function PQ(e,t,n){const r=ft(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:_,size:v,style:E,inputContainer:S,inputWrapperOrder:w,withAsterisk:x}=r,I=Qwe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),M=Yu(_),{systemStyles:C,rest:D}=Ff(I);return Kwe(jC({},D),{classNames:u,styles:l,unstyled:f,wrapperProps:jC(jC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:M,size:v,style:E,inputContainer:S,inputWrapperOrder:w,withAsterisk:x},g),C),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:M,size:v,__staticSelector:d,invalid:!!o}})}var Xwe=lt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const Jwe=Xwe;var Zwe=Object.defineProperty,EE=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,kQ=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?Zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eEe=(e,t)=>{for(var n in t||(t={}))RQ.call(t,n)&&A8(e,n,t[n]);if(EE)for(var n of EE(t))kQ.call(t,n)&&A8(e,n,t[n]);return e},tEe=(e,t)=>{var n={};for(var r in e)RQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EE)for(var r of EE(e))t.indexOf(r)<0&&kQ.call(e,r)&&(n[r]=e[r]);return n};const WD=T.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=tEe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:m}=Jwe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return N.createElement(ut,eEe({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&N.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});WD.displayName="@mantine/core/InputLabel";var nEe=lt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const rEe=nEe;var iEe=Object.defineProperty,TE=Object.getOwnPropertySymbols,NQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?iEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sEe=(e,t)=>{for(var n in t||(t={}))NQ.call(t,n)&&C8(e,n,t[n]);if(TE)for(var n of TE(t))DQ.call(t,n)&&C8(e,n,t[n]);return e},oEe=(e,t)=>{var n={};for(var r in e)NQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TE)for(var r of TE(e))t.indexOf(r)<0&&DQ.call(e,r)&&(n[r]=e[r]);return n};const YD=T.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=oEe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=rEe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(yt,sEe({className:d(f.error,i),ref:t,role:"alert"},c),r)});YD.displayName="@mantine/core/InputError";var aEe=lt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const uEe=aEe;var lEe=Object.defineProperty,SE=Object.getOwnPropertySymbols,$Q=Object.prototype.hasOwnProperty,LQ=Object.prototype.propertyIsEnumerable,O8=(e,t,n)=>t in e?lEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cEe=(e,t)=>{for(var n in t||(t={}))$Q.call(t,n)&&O8(e,n,t[n]);if(SE)for(var n of SE(t))LQ.call(t,n)&&O8(e,n,t[n]);return e},fEe=(e,t)=>{var n={};for(var r in e)$Q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SE)for(var r of SE(e))t.indexOf(r)<0&&LQ.call(e,r)&&(n[r]=e[r]);return n};const GD=T.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=fEe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=uEe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(yt,cEe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});GD.displayName="@mantine/core/InputDescription";const MQ=T.createContext({offsetBottom:!1,offsetTop:!1}),dEe=MQ.Provider,hEe=()=>T.useContext(MQ);function pEe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var mEe=Object.defineProperty,gEe=Object.defineProperties,yEe=Object.getOwnPropertyDescriptors,P8=Object.getOwnPropertySymbols,_Ee=Object.prototype.hasOwnProperty,vEe=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?mEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bEe=(e,t)=>{for(var n in t||(t={}))_Ee.call(t,n)&&R8(e,n,t[n]);if(P8)for(var n of P8(t))vEe.call(t,n)&&R8(e,n,t[n]);return e},wEe=(e,t)=>gEe(e,yEe(t)),EEe=lt(e=>({root:wEe(bEe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const TEe=EEe;var SEe=Object.defineProperty,xEe=Object.defineProperties,IEe=Object.getOwnPropertyDescriptors,xE=Object.getOwnPropertySymbols,FQ=Object.prototype.hasOwnProperty,BQ=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?SEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qf=(e,t)=>{for(var n in t||(t={}))FQ.call(t,n)&&k8(e,n,t[n]);if(xE)for(var n of xE(t))BQ.call(t,n)&&k8(e,n,t[n]);return e},N8=(e,t)=>xEe(e,IEe(t)),AEe=(e,t)=>{var n={};for(var r in e)FQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&BQ.call(e,r)&&(n[r]=e[r]);return n};const CEe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},jQ=T.forwardRef((e,t)=>{const n=ft("InputWrapper",CEe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:_,unstyled:v,inputWrapperOrder:E,withAsterisk:S}=n,w=AEe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:I}=TEe(null,{classNames:p,styles:m,name:["InputWrapper",_],unstyled:v}),M={classNames:p,styles:m,unstyled:v,size:y,__staticSelector:_},C=typeof S=="boolean"?S:o,D=i&&N.createElement(WD,Qf(Qf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:C},M),f),i),q=l&&N.createElement(GD,N8(Qf(Qf({key:"description"},d),M),{size:(d==null?void 0:d.size)||M.size}),l),W=N.createElement(T.Fragment,{key:"input"},g(s)),U=typeof u!="boolean"&&u&&N.createElement(YD,N8(Qf(Qf({},h),M),{size:(h==null?void 0:h.size)||M.size,key:"error"}),u),de=E.map(ae=>{switch(ae){case"label":return D;case"input":return W;case"description":return q;case"error":return U;default:return null}});return N.createElement(dEe,{value:pEe(E,{hasDescription:!!q,hasError:!!U})},N.createElement(ut,Qf({className:I(x.root,r),ref:t},w),de))});jQ.displayName="@mantine/core/InputWrapper";var OEe=Object.defineProperty,PEe=Object.defineProperties,REe=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,kEe=Object.prototype.hasOwnProperty,NEe=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?OEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UC=(e,t)=>{for(var n in t||(t={}))kEe.call(t,n)&&$8(e,n,t[n]);if(D8)for(var n of D8(t))NEe.call(t,n)&&$8(e,n,t[n]);return e},L8=(e,t)=>PEe(e,REe(t));const Ds={xs:30,sm:36,md:42,lg:50,xl:60};function DEe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var $Ee=lt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Ds}),paddingLeft:e.fn.size({size:t,sizes:Ds})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Ds})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:UC(L8(UC(L8(UC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Ds}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Ds})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),DEe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Ds})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Ds}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const LEe=$Ee;var MEe=Object.defineProperty,FEe=Object.defineProperties,BEe=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,VQ=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S1=(e,t)=>{for(var n in t||(t={}))UQ.call(t,n)&&M8(e,n,t[n]);if(IE)for(var n of IE(t))VQ.call(t,n)&&M8(e,n,t[n]);return e},F8=(e,t)=>FEe(e,BEe(t)),jEe=(e,t)=>{var n={};for(var r in e)UQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&VQ.call(e,r)&&(n[r]=e[r]);return n};const UEe={rightSectionWidth:36,size:"sm",variant:"default"},Zm=T.forwardRef((e,t)=>{const n=ft("Input",UEe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:_,__staticSelector:v,multiline:E,sx:S,unstyled:w,pointer:x}=n,I=jEe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:M,offsetTop:C}=hEe(),{classes:D,cx:q}=LEe({radius:p,size:m,multiline:E,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:M,offsetTop:C,pointer:x},{classNames:g,styles:_,name:["Input",v],unstyled:w}),{systemStyles:W,rest:U}=Ff(I);return N.createElement(ut,S1(S1({className:q(D.wrapper,r),sx:S,style:l},W),y),u&&N.createElement("div",{className:D.icon},u),N.createElement(ut,F8(S1({component:"input"},U),{ref:t,required:s,"aria-invalid":i,disabled:o,className:q(D[`${a}Variant`],D.input,{[D.withIcon]:u,[D.invalid]:i,[D.disabled]:o})})),d&&N.createElement("div",F8(S1({},h),{className:D.rightSection}),d))});Zm.displayName="@mantine/core/Input";Zm.Wrapper=jQ;Zm.Label=WD;Zm.Description=GD;Zm.Error=YD;const Ks=Zm;var VEe=Object.defineProperty,zEe=Object.defineProperties,HEe=Object.getOwnPropertyDescriptors,B8=Object.getOwnPropertySymbols,qEe=Object.prototype.hasOwnProperty,WEe=Object.prototype.propertyIsEnumerable,j8=(e,t,n)=>t in e?VEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VC=(e,t)=>{for(var n in t||(t={}))qEe.call(t,n)&&j8(e,n,t[n]);if(B8)for(var n of B8(t))WEe.call(t,n)&&j8(e,n,t[n]);return e},YEe=(e,t)=>zEe(e,HEe(t));const zC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},GEe={xs:4,sm:4,md:6,lg:8,xl:10};function KEe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:GEe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var QEe=lt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in zC?zC[n]:zC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:VC(YEe(VC(VC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),KEe({theme:e,variant:o,color:t,size:n,gradient:i}))}});const XEe=QEe;var JEe=Object.defineProperty,AE=Object.getOwnPropertySymbols,zQ=Object.prototype.hasOwnProperty,HQ=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?JEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZEe=(e,t)=>{for(var n in t||(t={}))zQ.call(t,n)&&U8(e,n,t[n]);if(AE)for(var n of AE(t))HQ.call(t,n)&&U8(e,n,t[n]);return e},eTe=(e,t)=>{var n={};for(var r in e)zQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&HQ.call(e,r)&&(n[r]=e[r]);return n};const tTe={variant:"light",size:"md",radius:"xl"},qQ=T.forwardRef((e,t)=>{const n=ft("Badge",tTe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=eTe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:_}=XEe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return N.createElement(ut,ZEe({className:_(g.root,r),ref:t},y),l&&N.createElement("span",{className:g.leftSection},l),N.createElement("span",{className:g.inner},a),c&&N.createElement("span",{className:g.rightSection},c))});qQ.displayName="@mantine/core/Badge";const nTe=qQ;var rTe=lt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const iTe=rTe;var sTe=Object.defineProperty,CE=Object.getOwnPropertySymbols,WQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?sTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oTe=(e,t)=>{for(var n in t||(t={}))WQ.call(t,n)&&V8(e,n,t[n]);if(CE)for(var n of CE(t))YQ.call(t,n)&&V8(e,n,t[n]);return e},aTe=(e,t)=>{var n={};for(var r in e)WQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&YQ.call(e,r)&&(n[r]=e[r]);return n};const uTe={orientation:"horizontal",buttonBorderWidth:1},GQ=T.forwardRef((e,t)=>{const n=ft("ButtonGroup",uTe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=aTe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=iTe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return N.createElement(ut,oTe({className:l(u.root,r),ref:t},a))});GQ.displayName="@mantine/core/ButtonGroup";var lTe=Object.defineProperty,cTe=Object.defineProperties,fTe=Object.getOwnPropertyDescriptors,z8=Object.getOwnPropertySymbols,dTe=Object.prototype.hasOwnProperty,hTe=Object.prototype.propertyIsEnumerable,H8=(e,t,n)=>t in e?lTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ld=(e,t)=>{for(var n in t||(t={}))dTe.call(t,n)&&H8(e,n,t[n]);if(z8)for(var n of z8(t))hTe.call(t,n)&&H8(e,n,t[n]);return e},nR=(e,t)=>cTe(e,fTe(t));const rR={xs:{height:Ds.xs,paddingLeft:14,paddingRight:14},sm:{height:Ds.sm,paddingLeft:18,paddingRight:18},md:{height:Ds.md,paddingLeft:22,paddingRight:22},lg:{height:Ds.lg,paddingLeft:26,paddingRight:26},xl:{height:Ds.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function pTe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return rR[`compact-${t}`];const i=rR[t];return nR(ld({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const mTe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function gTe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:ld({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var yTe=lt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:nR(ld(nR(ld(ld(ld(ld({},pTe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),mTe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),gTe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const _Te=yTe;var vTe=Object.defineProperty,OE=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?vTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W8=(e,t)=>{for(var n in t||(t={}))KQ.call(t,n)&&q8(e,n,t[n]);if(OE)for(var n of OE(t))QQ.call(t,n)&&q8(e,n,t[n]);return e},bTe=(e,t)=>{var n={};for(var r in e)KQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&QQ.call(e,r)&&(n[r]=e[r]);return n};const wTe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},KD=T.forwardRef((e,t)=>{const n=ft("Button",wTe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:_,gradient:v,classNames:E,styles:S,unstyled:w}=n,x=bTe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:M,theme:C}=_Te({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:v,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:E,styles:S}),D=C.fn.variant({color:s,variant:d}),q=N.createElement(yh,W8({color:D.color,size:C.fn.size({size:i,sizes:rR}).height/2},_));return N.createElement($x,W8({className:M(I.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},x),N.createElement("div",{className:I.inner},(l||y&&g==="left")&&N.createElement("span",{className:M(I.icon,I.leftIcon)},y&&g==="left"?q:l),y&&g==="center"&&N.createElement("span",{className:I.centerLoader},q),N.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&N.createElement("span",{className:M(I.icon,I.rightIcon)},y&&g==="right"?q:c)))});KD.displayName="@mantine/core/Button";KD.Group=GQ;const Jo=KD;var ETe=lt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const TTe=ETe;var STe=Object.defineProperty,PE=Object.getOwnPropertySymbols,XQ=Object.prototype.hasOwnProperty,JQ=Object.prototype.propertyIsEnumerable,Y8=(e,t,n)=>t in e?STe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xTe=(e,t)=>{for(var n in t||(t={}))XQ.call(t,n)&&Y8(e,n,t[n]);if(PE)for(var n of PE(t))JQ.call(t,n)&&Y8(e,n,t[n]);return e},ITe=(e,t)=>{var n={};for(var r in e)XQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&JQ.call(e,r)&&(n[r]=e[r]);return n};const ATe={},ZQ=T.forwardRef((e,t)=>{const n=ft("Paper",ATe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=ITe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=TTe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return N.createElement(ut,xTe({className:f(c.root,r),ref:t},l),i)});ZQ.displayName="@mantine/core/Paper";const eX=ZQ,tX=T.createContext({padding:0}),CTe=tX.Provider,OTe=()=>T.useContext(tX).padding;var PTe=lt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const RTe=PTe;var kTe=Object.defineProperty,RE=Object.getOwnPropertySymbols,nX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?kTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NTe=(e,t)=>{for(var n in t||(t={}))nX.call(t,n)&&G8(e,n,t[n]);if(RE)for(var n of RE(t))rX.call(t,n)&&G8(e,n,t[n]);return e},DTe=(e,t)=>{var n={};for(var r in e)nX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&rX.call(e,r)&&(n[r]=e[r]);return n};const iX=T.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=DTe(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=RTe({padding:OTe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return N.createElement(ut,NTe({className:l(u.cardSection,r),ref:t},a))});iX.displayName="@mantine/core/CardSection";const sX=iX;var $Te=lt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const LTe=$Te;var MTe=Object.defineProperty,kE=Object.getOwnPropertySymbols,oX=Object.prototype.hasOwnProperty,aX=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?MTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FTe=(e,t)=>{for(var n in t||(t={}))oX.call(t,n)&&K8(e,n,t[n]);if(kE)for(var n of kE(t))aX.call(t,n)&&K8(e,n,t[n]);return e},BTe=(e,t)=>{var n={};for(var r in e)oX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&aX.call(e,r)&&(n[r]=e[r]);return n};const jTe={p:"md"},QD=T.forwardRef((e,t)=>{const n=ft("Card",jTe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=BTe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=LTe(null,{name:"Card",unstyled:a}),f=T.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===sX?T.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return N.createElement(CTe,{value:{padding:i}},N.createElement(eX,FTe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});QD.Section=sX;QD.displayName="@mantine/core/Card";const UTe=QD;var VTe=Object.defineProperty,NE=Object.getOwnPropertySymbols,uX=Object.prototype.hasOwnProperty,lX=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?VTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zTe=(e,t)=>{for(var n in t||(t={}))uX.call(t,n)&&Q8(e,n,t[n]);if(NE)for(var n of NE(t))lX.call(t,n)&&Q8(e,n,t[n]);return e},HTe=(e,t)=>{var n={};for(var r in e)uX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&lX.call(e,r)&&(n[r]=e[r]);return n};const cX=T.forwardRef((e,t)=>{const n=ft("Center",{},e),{inline:r,sx:i}=n,s=HTe(n,["inline","sx"]);return N.createElement(ut,zTe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Gd(i)]},s))});cX.displayName="@mantine/core/Center";const Kd=cX,fX=T.createContext(null),qTe=fX.Provider,WTe=()=>T.useContext(fX);function YTe(e){return T.Children.toArray(e).filter(Boolean)}const GTe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var KTe=lt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:GTe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const QTe=KTe;var XTe=Object.defineProperty,DE=Object.getOwnPropertySymbols,dX=Object.prototype.hasOwnProperty,hX=Object.prototype.propertyIsEnumerable,X8=(e,t,n)=>t in e?XTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JTe=(e,t)=>{for(var n in t||(t={}))dX.call(t,n)&&X8(e,n,t[n]);if(DE)for(var n of DE(t))hX.call(t,n)&&X8(e,n,t[n]);return e},ZTe=(e,t)=>{var n={};for(var r in e)dX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&hX.call(e,r)&&(n[r]=e[r]);return n};const eSe={position:"left",spacing:"md"},na=T.forwardRef((e,t)=>{const n=ft("Group",eSe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=ZTe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=YTe(o),{classes:h,cx:p}=QTe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return N.createElement(ut,JTe({className:p(h.root,r),ref:t},f),d)});na.displayName="@mantine/core/Group";var tSe=lt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const nSe=tSe;var rSe=Object.defineProperty,$E=Object.getOwnPropertySymbols,pX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?rSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iSe=(e,t)=>{for(var n in t||(t={}))pX.call(t,n)&&J8(e,n,t[n]);if($E)for(var n of $E(t))mX.call(t,n)&&J8(e,n,t[n]);return e},sSe=(e,t)=>{var n={};for(var r in e)pX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&mX.call(e,r)&&(n[r]=e[r]);return n};const oSe={spacing:"md",align:"stretch",justify:"top"},vu=T.forwardRef((e,t)=>{const n=ft("Stack",oSe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=sSe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=nSe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return N.createElement(ut,iSe({className:c(l.root,i),ref:t},u))});vu.displayName="@mantine/core/Stack";function gX({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?N.createElement(na,{pt:t,spacing:e,role:i,unstyled:s},r):N.createElement(vu,{pt:t,spacing:e,role:i,unstyled:s},r)}var aSe=Object.defineProperty,LE=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,_X=Object.prototype.propertyIsEnumerable,Z8=(e,t,n)=>t in e?aSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e9=(e,t)=>{for(var n in t||(t={}))yX.call(t,n)&&Z8(e,n,t[n]);if(LE)for(var n of LE(t))_X.call(t,n)&&Z8(e,n,t[n]);return e},uSe=(e,t)=>{var n={};for(var r in e)yX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&_X.call(e,r)&&(n[r]=e[r]);return n};const lSe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},vX=T.forwardRef((e,t)=>{const n=ft("CheckboxGroup",lSe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=uSe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=ta({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(_=>_!==g):[...h,g])};return N.createElement(qTe,{value:{value:h,onChange:m,size:l}},N.createElement(Ks.Wrapper,e9(e9({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),N.createElement(gX,{spacing:u,orientation:a,offset:f},r)))});vX.displayName="@mantine/core/CheckboxGroup";var cSe=Object.defineProperty,ME=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,t9=(e,t,n)=>t in e?cSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iR=(e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&t9(e,n,t[n]);if(ME)for(var n of ME(t))wX.call(t,n)&&t9(e,n,t[n]);return e},fSe=(e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&wX.call(e,r)&&(n[r]=e[r]);return n};function dSe(e){return N.createElement("svg",iR({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function hSe(e){var t=e,{indeterminate:n}=t,r=fSe(t,["indeterminate"]);return n?N.createElement("svg",iR({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),N.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):N.createElement(dSe,iR({},r))}var pSe=Object.defineProperty,mSe=Object.defineProperties,gSe=Object.getOwnPropertyDescriptors,n9=Object.getOwnPropertySymbols,ySe=Object.prototype.hasOwnProperty,_Se=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?pSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vSe=(e,t)=>{for(var n in t||(t={}))ySe.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))_Se.call(t,n)&&r9(e,n,t[n]);return e},bSe=(e,t)=>mSe(e,gSe(t));const wSe={xs:16,sm:20,md:24,lg:30,xl:36},ESe={xs:8,sm:10,md:14,lg:16,xl:20};var TSe=lt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:wSe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:ESe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:bSe(vSe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const SSe=TSe;var xSe=Object.defineProperty,ISe=Object.defineProperties,ASe=Object.getOwnPropertyDescriptors,i9=Object.getOwnPropertySymbols,CSe=Object.prototype.hasOwnProperty,OSe=Object.prototype.propertyIsEnumerable,s9=(e,t,n)=>t in e?xSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PSe=(e,t)=>{for(var n in t||(t={}))CSe.call(t,n)&&s9(e,n,t[n]);if(i9)for(var n of i9(t))OSe.call(t,n)&&s9(e,n,t[n]);return e},RSe=(e,t)=>ISe(e,ASe(t));const kSe={xs:16,sm:20,md:24,lg:30,xl:36};var NSe=lt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:RSe(PSe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:kSe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const DSe=NSe;var $Se=Object.defineProperty,FE=Object.getOwnPropertySymbols,EX=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,o9=(e,t,n)=>t in e?$Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LSe=(e,t)=>{for(var n in t||(t={}))EX.call(t,n)&&o9(e,n,t[n]);if(FE)for(var n of FE(t))TX.call(t,n)&&o9(e,n,t[n]);return e},MSe=(e,t)=>{var n={};for(var r in e)EX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&TX.call(e,r)&&(n[r]=e[r]);return n};function XD(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=MSe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=DSe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return N.createElement(ut,LSe({className:g(y.root,r)},m),N.createElement("div",{className:g(y.body)},a,N.createElement("div",{className:y.labelWrapper},u&&N.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&N.createElement(Ks.Description,{className:y.description},l),d&&d!=="boolean"&&N.createElement(Ks.Error,{className:y.error},d))))}XD.displayName="@mantine/core/InlineInput";var FSe=Object.defineProperty,BE=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,xX=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?FSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x1=(e,t)=>{for(var n in t||(t={}))SX.call(t,n)&&a9(e,n,t[n]);if(BE)for(var n of BE(t))xX.call(t,n)&&a9(e,n,t[n]);return e},BSe=(e,t)=>{var n={};for(var r in e)SX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&xX.call(e,r)&&(n[r]=e[r]);return n};const jSe={size:"sm",transitionDuration:100,icon:hSe,labelPosition:"right"},jE=T.forwardRef((e,t)=>{const n=ft("Checkbox",jSe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:_,icon:v,unstyled:E,labelPosition:S,description:w,error:x}=n,I=BSe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),M=WTe(),C=Yu(f),{systemStyles:D,rest:q}=Ff(I),{classes:W}=SSe({size:(M==null?void 0:M.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:S,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:E}),U=M?{checked:M.value.includes(q.value),onChange:M.onChange}:{};return N.createElement(XD,x1(x1({className:r,sx:s,style:i,id:C,size:(M==null?void 0:M.size)||d,labelPosition:S,label:l,description:w,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:E,"data-checked":U.checked||void 0},D),p),N.createElement("div",{className:W.inner},N.createElement("input",x1(x1({id:C,ref:t,type:"checkbox",className:W.input,checked:o,disabled:a},q),U)),N.createElement(v,{indeterminate:c,className:W.icon})))});jE.displayName="@mantine/core/Checkbox";jE.Group=vX;var USe=lt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const VSe=USe;var zSe=Object.defineProperty,UE=Object.getOwnPropertySymbols,IX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?zSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HSe=(e,t)=>{for(var n in t||(t={}))IX.call(t,n)&&u9(e,n,t[n]);if(UE)for(var n of UE(t))AX.call(t,n)&&u9(e,n,t[n]);return e},qSe=(e,t)=>{var n={};for(var r in e)IX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&AX.call(e,r)&&(n[r]=e[r]);return n};const WSe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},JD=T.forwardRef((e,t)=>{const n=ft("Container",WSe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=qSe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=VSe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return N.createElement(ut,HSe({className:c(l.root,r),ref:t},u))});JD.displayName="@mantine/core/Container";function CX({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=_Q({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?N.createElement(N.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=yQ({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return N.createElement(N.Fragment,null,i(h))}CX.displayName="@mantine/core/GroupedTransition";var YSe=lt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const GSe=YSe;var KSe=Object.defineProperty,QSe=Object.defineProperties,XSe=Object.getOwnPropertyDescriptors,VE=Object.getOwnPropertySymbols,OX=Object.prototype.hasOwnProperty,PX=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?KSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HC=(e,t)=>{for(var n in t||(t={}))OX.call(t,n)&&l9(e,n,t[n]);if(VE)for(var n of VE(t))PX.call(t,n)&&l9(e,n,t[n]);return e},JSe=(e,t)=>QSe(e,XSe(t)),ZSe=(e,t)=>{var n={};for(var r in e)OX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&PX.call(e,r)&&(n[r]=e[r]);return n};const exe={opacity:.6,color:"#fff",zIndex:Po("modal"),radius:0,blur:0},RX=T.forwardRef((e,t)=>{const n=ft("Overlay",exe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=ZSe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=GSe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>N.createElement(ut,HC({ref:t,className:p(h.root,f),sx:[_=>JSe(HC({},m),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...Gd(l)]},g));return i?N.createElement(ut,HC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Gd(l)]},d),y()):y(d)});RX.displayName="@mantine/core/Overlay";const txe=RX,nxe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var rxe=Object.defineProperty,ixe=Object.defineProperties,sxe=Object.getOwnPropertyDescriptors,zE=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,c9=(e,t,n)=>t in e?rxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oxe=(e,t)=>{for(var n in t||(t={}))kX.call(t,n)&&c9(e,n,t[n]);if(zE)for(var n of zE(t))NX.call(t,n)&&c9(e,n,t[n]);return e},axe=(e,t)=>ixe(e,sxe(t)),uxe=(e,t)=>{var n={};for(var r in e)kX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};const lxe={},Yy=T.forwardRef((e,t)=>{const n=ft("Flex",lxe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=uxe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return N.createElement(ut,axe(oxe({},f),{sx:[{display:"flex"},d=>K2({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,nxe),...Gd(c)],ref:t}))});Yy.displayName="@mantine/core/Flex";const DX=T.createContext(null),cxe=DX.Provider,fxe=()=>T.useContext(DX);var dxe=Object.defineProperty,f9=Object.getOwnPropertySymbols,hxe=Object.prototype.hasOwnProperty,pxe=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mxe=(e,t)=>{for(var n in t||(t={}))hxe.call(t,n)&&d9(e,n,t[n]);if(f9)for(var n of f9(t))pxe.call(t,n)&&d9(e,n,t[n]);return e};const ZD=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,$X=(e,t,n)=>n||e==="auto"||e==="content"?"unset":ZD(e,t),LX=(e,t)=>{if(e)return e==="auto"||t?1:0},MX=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function gxe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return ege.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:ZD(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:$X(e[a],i,s),marginLeft:MX(t[a],i),flexGrow:LX(e[a],s)},o),{})}var yxe=lt((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:v,orderLg:E,orderXl:S})=>({root:mxe({boxSizing:"border-box",flexGrow:LX(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:MX(r,l),flexBasis:ZD(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:$X(c,l,n)},gxe({sizes:{xs:f,sm:d,md:h,lg:p,xl:m},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:g,sm:_,md:v,lg:E,xl:S},theme:e,columns:l,grow:n}))}));const _xe=yxe;var vxe=Object.defineProperty,HE=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty,BX=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bxe=(e,t)=>{for(var n in t||(t={}))FX.call(t,n)&&h9(e,n,t[n]);if(HE)for(var n of HE(t))BX.call(t,n)&&h9(e,n,t[n]);return e},wxe=(e,t)=>{var n={};for(var r in e)FX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&BX.call(e,r)&&(n[r]=e[r]);return n};const Exe={};function Txe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const jX=T.forwardRef((e,t)=>{const n=ft("Grid.Col",Exe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:v,orderLg:E,orderXl:S,className:w,id:x,unstyled:I}=n,M=wxe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),C=fxe();if(!C)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const D=i||C.columns,{classes:q,cx:W}=_xe({gutter:C.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:v,orderLg:E,orderXl:S,grow:C.grow,columns:C.columns,span:D},{unstyled:I,name:"Col"});return!Txe(D)||D>C.columns?null:N.createElement(ut,bxe({className:W(q.root,w),ref:t},M),r)});jX.displayName="@mantine/core/Col";var Sxe=lt((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const xxe=Sxe;var Ixe=Object.defineProperty,qE=Object.getOwnPropertySymbols,UX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,p9=(e,t,n)=>t in e?Ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Axe=(e,t)=>{for(var n in t||(t={}))UX.call(t,n)&&p9(e,n,t[n]);if(qE)for(var n of qE(t))VX.call(t,n)&&p9(e,n,t[n]);return e},Cxe=(e,t)=>{var n={};for(var r in e)UX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&VX.call(e,r)&&(n[r]=e[r]);return n};const Oxe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},vl=T.forwardRef((e,t)=>{const n=ft("Grid",Oxe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=Cxe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=xxe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return N.createElement(cxe,{value:{gutter:r,grow:s,columns:u}},N.createElement(ut,Axe({className:p(h.root,l),ref:t},d),i))});vl.Col=jX;vl.displayName="@mantine/core/Grid";function Pxe({open:e,close:t,openDelay:n,closeDelay:r}){const i=T.useRef(-1),s=T.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return T.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var Rxe=Object.defineProperty,m9=Object.getOwnPropertySymbols,kxe=Object.prototype.hasOwnProperty,Nxe=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?Rxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dxe=(e,t)=>{for(var n in t||(t={}))kxe.call(t,n)&&g9(e,n,t[n]);if(m9)for(var n of m9(t))Nxe.call(t,n)&&g9(e,n,t[n]);return e};function $xe(e){return N.createElement("svg",Dxe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Lxe=Object.defineProperty,Mxe=Object.defineProperties,Fxe=Object.getOwnPropertyDescriptors,y9=Object.getOwnPropertySymbols,Bxe=Object.prototype.hasOwnProperty,jxe=Object.prototype.propertyIsEnumerable,_9=(e,t,n)=>t in e?Lxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v9=(e,t)=>{for(var n in t||(t={}))Bxe.call(t,n)&&_9(e,n,t[n]);if(y9)for(var n of y9(t))jxe.call(t,n)&&_9(e,n,t[n]);return e},b9=(e,t)=>Mxe(e,Fxe(t)),Uxe=lt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:b9(v9({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:b9(v9({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const Vxe=Uxe;var zxe=Object.defineProperty,WE=Object.getOwnPropertySymbols,zX=Object.prototype.hasOwnProperty,HX=Object.prototype.propertyIsEnumerable,w9=(e,t,n)=>t in e?zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qC=(e,t)=>{for(var n in t||(t={}))zX.call(t,n)&&w9(e,n,t[n]);if(WE)for(var n of WE(t))HX.call(t,n)&&w9(e,n,t[n]);return e},Hxe=(e,t)=>{var n={};for(var r in e)zX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&HX.call(e,r)&&(n[r]=e[r]);return n};const qxe={fit:"cover",width:"100%",height:"auto",radius:0},eg=T.forwardRef((e,t)=>{const n=ft("Image",qxe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:_}=n,v=Hxe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:E,cx:S}=Vxe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[w,x]=T.useState(!s),I=f&&w;return ys(()=>{x(!1)},[s]),N.createElement(ut,qC({className:S(E.root,r),ref:t,style:qC({width:a},_)},v),N.createElement("figure",{className:E.figure},N.createElement("div",{className:E.imageWrapper},N.createElement("img",qC({className:E.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:M=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(M)}},c)),I&&N.createElement("div",{className:E.placeholder,title:i},d||N.createElement("div",null,N.createElement($xe,{style:{width:40,height:40}})))),!!y&&N.createElement(yt,{component:"figcaption",size:"sm",align:"center",className:E.caption},y)))});eg.displayName="@mantine/core/Image";function Wxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Yxe=T.useLayoutEffect,Gxe=function(t){var n=T.useRef(t);return Yxe(function(){n.current=t}),n},E9=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Kxe=function(t,n){var r=T.useRef();return T.useCallback(function(i){t.current=i,r.current&&E9(r.current,null),r.current=n,n&&E9(n,i)},[n])},T9={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},S9=function(t){Object.keys(T9).forEach(function(n){t.style.setProperty(n,T9[n],"important")})},oo=null,Qxe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Xxe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),oo||(oo=document.createElement("textarea"),oo.setAttribute("tabindex","-1"),oo.setAttribute("aria-hidden","true"),S9(oo)),oo.parentNode===null&&document.body.appendChild(oo);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;oo.style[h]=o[h]}),S9(oo),oo.value=t;var u=Qxe(oo,e);oo.value="x";var l=oo.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var x9=function(){},Jxe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Zxe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],eIe=!!document.documentElement.currentStyle,tIe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Jxe(Zxe,n),i=r.boxSizing;if(i==="")return null;eIe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},nIe=function(t){var n=Gxe(t);T.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},rIe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?x9:o,u=t.onHeightChange,l=u===void 0?x9:u,c=Wxe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=T.useRef(null),h=Kxe(d,n),p=T.useRef(0),m=T.useRef(),y=function(){var v=d.current,E=r&&m.current?m.current:tIe(v);if(E){m.current=E;var S=Xxe(E,v.value||v.placeholder||"x",s,i),w=S[0],x=S[1];p.current!==w&&(p.current=w,v.style.setProperty("height",w+"px","important"),l(w,{rowHeight:x}))}},g=function(v){f||y(),a(v)};return T.useLayoutEffect(y),nIe(y),T.createElement("textarea",hr({},c,{onChange:g,ref:h}))},iIe=T.forwardRef(rIe);const sIe=iIe;var oIe=lt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const aIe=oIe;var uIe=Object.defineProperty,lIe=Object.defineProperties,cIe=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?uIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bh=(e,t)=>{for(var n in t||(t={}))qX.call(t,n)&&I9(e,n,t[n]);if(YE)for(var n of YE(t))WX.call(t,n)&&I9(e,n,t[n]);return e},WC=(e,t)=>lIe(e,cIe(t)),fIe=(e,t)=>{var n={};for(var r in e)qX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&WX.call(e,r)&&(n[r]=e[r]);return n};const dIe={autosize:!1,size:"sm",__staticSelector:"Textarea"},YX=T.forwardRef((e,t)=>{const n=ft("Textarea",dIe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:v,descriptionProps:E,labelProps:S,inputWrapperOrder:w,inputContainer:x,unstyled:I,withAsterisk:M}=n,C=fIe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),D=Yu(l),{classes:q,cx:W}=aIe(),{systemStyles:U,rest:de}=Ff(C),ae=Bh({required:f,ref:t,invalid:!!a,id:D,classNames:WC(Bh({},p),{input:W(q.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:I},de);return N.createElement(Ks.Wrapper,Bh(Bh({label:o,error:a,id:D,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:v,labelProps:S,descriptionProps:E,inputContainer:x,inputWrapperOrder:w,unstyled:I,withAsterisk:M},U),h),r?N.createElement(Ks,WC(Bh({},ae),{component:sIe,maxRows:i,minRows:s})):N.createElement(Ks,WC(Bh({},ae),{component:"textarea",rows:s})))});YX.displayName="@mantine/core/Textarea";const GX=T.createContext(null);function hIe(){return T.useContext(GX)||{}}var pIe=lt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const mIe=pIe;var gIe=Object.defineProperty,GE=Object.getOwnPropertySymbols,KX=Object.prototype.hasOwnProperty,QX=Object.prototype.propertyIsEnumerable,A9=(e,t,n)=>t in e?gIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yIe=(e,t)=>{for(var n in t||(t={}))KX.call(t,n)&&A9(e,n,t[n]);if(GE)for(var n of GE(t))QX.call(t,n)&&A9(e,n,t[n]);return e},_Ie=(e,t)=>{var n={};for(var r in e)KX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&QX.call(e,r)&&(n[r]=e[r]);return n};function XX(e){var t=e,{className:n,children:r,icon:i}=t,s=_Ie(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=hIe(),{classNames:d,styles:h,unstyled:p}=Q_(),m=i||o,{classes:y,cx:g}=mIe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return N.createElement(ut,yIe({component:"li",className:g(y.item,{[y.withIcon]:m},n)},s),N.createElement("div",{className:y.itemWrapper},m&&N.createElement("span",{className:y.itemIcon},m),N.createElement("span",null,r)))}XX.displayName="@mantine/core/ListItem";var vIe=Object.defineProperty,bIe=Object.defineProperties,wIe=Object.getOwnPropertyDescriptors,C9=Object.getOwnPropertySymbols,EIe=Object.prototype.hasOwnProperty,TIe=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?vIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SIe=(e,t)=>{for(var n in t||(t={}))EIe.call(t,n)&&O9(e,n,t[n]);if(C9)for(var n of C9(t))TIe.call(t,n)&&O9(e,n,t[n]);return e},xIe=(e,t)=>bIe(e,wIe(t)),IIe=lt((e,{withPadding:t,size:n,listStyleType:r})=>({root:xIe(SIe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const AIe=IIe;var CIe=Object.defineProperty,KE=Object.getOwnPropertySymbols,JX=Object.prototype.hasOwnProperty,ZX=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?CIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OIe=(e,t)=>{for(var n in t||(t={}))JX.call(t,n)&&P9(e,n,t[n]);if(KE)for(var n of KE(t))ZX.call(t,n)&&P9(e,n,t[n]);return e},PIe=(e,t)=>{var n={};for(var r in e)JX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&ZX.call(e,r)&&(n[r]=e[r]);return n};const RIe={type:"unordered",size:"md",spacing:0},pm=T.forwardRef((e,t)=>{const n=ft("List",RIe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=PIe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=AIe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return N.createElement(dG,{classNames:h,styles:d,unstyled:p},N.createElement(GX.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},N.createElement(ut,OIe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r)))});pm.Item=XX;pm.displayName="@mantine/core/List";var kIe=lt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const NIe=kIe;var DIe=Object.defineProperty,QE=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?DIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Ie=(e,t)=>{for(var n in t||(t={}))eJ.call(t,n)&&R9(e,n,t[n]);if(QE)for(var n of QE(t))tJ.call(t,n)&&R9(e,n,t[n]);return e},LIe=(e,t)=>{var n={};for(var r in e)eJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&tJ.call(e,r)&&(n[r]=e[r]);return n};function nJ(e){var t=e,{children:n,className:r}=t,i=LIe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=Q_(),{classes:u,cx:l}=NIe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return N.createElement(ut,$Ie({className:l(u.divider,r)},i))}nJ.displayName="@mantine/core/MenuDivider";const rJ={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[MIe,e$]=BY(rJ.context);var FIe=Object.defineProperty,XE=Object.getOwnPropertySymbols,iJ=Object.prototype.hasOwnProperty,sJ=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?FIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BIe=(e,t)=>{for(var n in t||(t={}))iJ.call(t,n)&&k9(e,n,t[n]);if(XE)for(var n of XE(t))sJ.call(t,n)&&k9(e,n,t[n]);return e},jIe=(e,t)=>{var n={};for(var r in e)iJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&sJ.call(e,r)&&(n[r]=e[r]);return n};function oJ(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=jIe(t,["children","onMouseEnter","onMouseLeave"]);const o=T.useRef(),a=e$(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=_l(r,()=>a.trigger==="hover"&&a.openDropdown()),c=_l(i,()=>a.trigger==="hover"&&a.closeDropdown());return N.createElement(Xo.Dropdown,BIe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),N.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}oJ.displayName="@mantine/core/MenuDropdown";var UIe=Object.defineProperty,VIe=Object.defineProperties,zIe=Object.getOwnPropertyDescriptors,N9=Object.getOwnPropertySymbols,HIe=Object.prototype.hasOwnProperty,qIe=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?UIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WIe=(e,t)=>{for(var n in t||(t={}))HIe.call(t,n)&&D9(e,n,t[n]);if(N9)for(var n of N9(t))qIe.call(t,n)&&D9(e,n,t[n]);return e},YIe=(e,t)=>VIe(e,zIe(t)),GIe=lt((e,{color:t,radius:n})=>({item:YIe(WIe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const KIe=GIe;var QIe=Object.defineProperty,XIe=Object.defineProperties,JIe=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,aJ=Object.prototype.hasOwnProperty,uJ=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?QIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZIe=(e,t)=>{for(var n in t||(t={}))aJ.call(t,n)&&$9(e,n,t[n]);if(JE)for(var n of JE(t))uJ.call(t,n)&&$9(e,n,t[n]);return e},eAe=(e,t)=>XIe(e,JIe(t)),tAe=(e,t)=>{var n={};for(var r in e)aJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&uJ.call(e,r)&&(n[r]=e[r]);return n};const lJ=T.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=tAe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=e$(),{classNames:f,styles:d,unstyled:h}=Q_(),{classes:p,cx:m,theme:y}=KIe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),g=T.useRef(),_=c.getItemIndex(g.current),v=l,E=_l(v.onMouseLeave,()=>c.setHovered(-1)),S=_l(v.onMouseEnter,()=>c.setHovered(c.getItemIndex(g.current))),w=_l(v.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),x=_l(v.onFocus,()=>c.setHovered(c.getItemIndex(g.current)));return N.createElement(ut,eAe(ZIe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:x,className:m(p.item,i),ref:sa(g,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:S,onMouseLeave:E,onClick:w,onKeyDown:bme({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),a&&N.createElement("div",{className:p.itemIcon},a),r&&N.createElement("div",{className:p.itemLabel},r),u&&N.createElement("div",{className:p.itemRightSection},u))});lJ.displayName="@mantine/core/MenuItem";const nAe=lJ;var rAe=lt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const iAe=rAe;var sAe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?sAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oAe=(e,t)=>{for(var n in t||(t={}))cJ.call(t,n)&&L9(e,n,t[n]);if(ZE)for(var n of ZE(t))fJ.call(t,n)&&L9(e,n,t[n]);return e},aAe=(e,t)=>{var n={};for(var r in e)cJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&fJ.call(e,r)&&(n[r]=e[r]);return n};function dJ(e){var t=e,{children:n,className:r}=t,i=aAe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=Q_(),{classes:u,cx:l}=iAe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return N.createElement(yt,oAe({className:l(u.label,r)},i),n)}dJ.displayName="@mantine/core/MenuLabel";var uAe=Object.defineProperty,eT=Object.getOwnPropertySymbols,hJ=Object.prototype.hasOwnProperty,pJ=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?uAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lAe=(e,t)=>{for(var n in t||(t={}))hJ.call(t,n)&&M9(e,n,t[n]);if(eT)for(var n of eT(t))pJ.call(t,n)&&M9(e,n,t[n]);return e},cAe=(e,t)=>{var n={};for(var r in e)hJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eT)for(var r of eT(e))t.indexOf(r)<0&&pJ.call(e,r)&&(n[r]=e[r]);return n};const mJ=T.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=cAe(n,["children","refProp"]);if(!Y_(r))throw new Error(rJ.children);const o=e$(),a=_l(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=_l(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=_l(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return N.createElement(Xo.Target,lAe({refProp:i,popupType:"menu",ref:t},s),T.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});mJ.displayName="@mantine/core/MenuTarget";var fAe=lt({dropdown:{padding:4}});const dAe=fAe;var hAe=Object.defineProperty,pAe=Object.defineProperties,mAe=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,gJ=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?hAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B9=(e,t)=>{for(var n in t||(t={}))gJ.call(t,n)&&F9(e,n,t[n]);if(tT)for(var n of tT(t))yJ.call(t,n)&&F9(e,n,t[n]);return e},j9=(e,t)=>pAe(e,mAe(t)),gAe=(e,t)=>{var n={};for(var r in e)gJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tT)for(var r of tT(e))t.indexOf(r)<0&&yJ.call(e,r)&&(n[r]=e[r]);return n};const yAe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Uo(e){const t=ft("Menu",yAe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,_=gAe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:v,cx:E}=dAe(),[S,{setHovered:w,resetHovered:x}]=Sme(),[I,M]=ta({value:s,defaultValue:o,finalValue:!1,onChange:a}),C=()=>{M(!1),I&&(i==null||i())},D=()=>{M(!0),!I&&(r==null||r())},q=()=>I?C():D(),{openDropdown:W,closeDropdown:U}=Pxe({open:D,close:C,closeDelay:h,openDelay:d}),de=ae=>wme("[data-menu-item]","[data-menu-dropdown]",ae);return ys(()=>{x()},[I]),N.createElement(MIe,{value:{opened:I,toggleDropdown:q,getItemIndex:de,hovered:S,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?C:U,openDropdown:f==="click"?D:W,closeDropdownImmediately:C,loop:l,trigger:f,radius:g}},N.createElement(Xo,j9(B9({},_),{radius:g,opened:I,onChange:M,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:j9(B9({},p),{dropdown:E(v.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:C,onOpen:D}),n))}Uo.displayName="@mantine/core/Menu";Uo.Item=nAe;Uo.Label=dJ;Uo.Dropdown=oJ;Uo.Target=mJ;Uo.Divider=nJ;var _Ae=Object.defineProperty,U9=Object.getOwnPropertySymbols,vAe=Object.prototype.hasOwnProperty,bAe=Object.prototype.propertyIsEnumerable,V9=(e,t,n)=>t in e?_Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wAe=(e,t)=>{for(var n in t||(t={}))vAe.call(t,n)&&V9(e,n,t[n]);if(U9)for(var n of U9(t))bAe.call(t,n)&&V9(e,n,t[n]);return e};const EAe={xs:320,sm:380,md:440,lg:620,xl:780};function TAe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var SAe=lt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:wAe({position:"relative",width:s?"100vw":e.fn.size({sizes:EAe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},TAe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const xAe=SAe;var IAe=Object.defineProperty,nT=Object.getOwnPropertySymbols,_J=Object.prototype.hasOwnProperty,vJ=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?IAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AAe=(e,t)=>{for(var n in t||(t={}))_J.call(t,n)&&z9(e,n,t[n]);if(nT)for(var n of nT(t))vJ.call(t,n)&&z9(e,n,t[n]);return e},CAe=(e,t)=>{var n={};for(var r in e)_J.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nT)for(var r of nT(e))t.indexOf(r)<0&&vJ.call(e,r)&&(n[r]=e[r]);return n};const OAe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Po("modal"),exitTransitionDuration:0};function qx(e){const t=ft("Modal",OAe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:_,id:v,classNames:E,styles:S,closeOnClickOutside:w,trapFocus:x,closeOnEscape:I,centered:M,target:C,withinPortal:D,zIndex:q,overlayBlur:W,transitionTimingFunction:U,fullScreen:de,unstyled:ae,lockScroll:pe,withFocusReturn:ee}=t,ie=CAe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),K=Yu(v),A=`${K}-title`,O=`${K}-body`,{classes:z,cx:k,theme:R}=xAe({size:l,overflow:p,centered:M,zIndex:q,fullScreen:de},{unstyled:ae,classNames:E,styles:S,name:"Modal"}),Y=vG(x&&r),se=T.useRef(null),ue=sa(Y,se),he=typeof u=="number"?u:R.colorScheme==="dark"?.85:.75;W0e(pe&&r);const fe=Je=>{!x&&Je.key==="Escape"&&I&&s()};T.useEffect(()=>{if(!x)return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[x]),mG({opened:r,shouldReturnFocus:x&&ee});const Se=T.useRef(null);G2("mousedown",Je=>{Se.current=Je.target});const me=()=>{Se.current===se.current&&w&&s()};return N.createElement(X_,{withinPortal:D,target:C},N.createElement(CX,{mounted:r,duration:c,exitDuration:f,timingFunction:U,transitions:{modal:{duration:c,transition:m||(de?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Je=>N.createElement(N.Fragment,null,N.createElement(ut,AAe({id:K,className:k(z.root,n)},ie),N.createElement("div",{style:Je.overlay},N.createElement(txe,{className:z.overlay,sx:{position:"fixed"},zIndex:0,blur:W,color:h||(R.colorScheme==="dark"?R.colors.dark[9]:R.black),opacity:he,unstyled:ae})),N.createElement("div",{role:"presentation",className:z.inner,onClick:me,onKeyDown:Ge=>{var qe;((qe=Ge.target)==null?void 0:qe.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ge.key==="Escape"&&I&&s()},ref:ue},N.createElement(eX,{className:z.modal,shadow:g,p:y,radius:_,role:"dialog","aria-labelledby":A,"aria-describedby":O,"aria-modal":!0,tabIndex:-1,style:Je.modal,unstyled:ae,onClick:Ge=>Ge.stopPropagation()},(i||a)&&N.createElement("div",{className:z.header},N.createElement(yt,{id:A,className:z.title},i),a&&N.createElement(Lx,{iconSize:16,onClick:s,"aria-label":d,className:z.close})),N.createElement("div",{id:O,className:z.body},o)))))))}qx.displayName="@mantine/core/Modal";const PAe={xs:16,sm:22,md:26,lg:30,xl:36},RAe={xs:10,sm:12,md:14,lg:16,xl:18};var kAe=lt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:PAe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:RAe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const NAe=kAe;var DAe=Object.defineProperty,rT=Object.getOwnPropertySymbols,bJ=Object.prototype.hasOwnProperty,wJ=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?DAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Ae=(e,t)=>{for(var n in t||(t={}))bJ.call(t,n)&&H9(e,n,t[n]);if(rT)for(var n of rT(t))wJ.call(t,n)&&H9(e,n,t[n]);return e},LAe=(e,t)=>{var n={};for(var r in e)bJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rT)for(var r of rT(e))t.indexOf(r)<0&&wJ.call(e,r)&&(n[r]=e[r]);return n};const q9={xs:16,sm:22,md:24,lg:26,xl:30};function EJ(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=LAe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=NAe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return N.createElement("div",$Ae({className:p(h.defaultValue,s)},d),N.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&N.createElement(Lx,{"aria-hidden":!0,onMouseDown:o,size:q9[l],radius:2,color:"blue",variant:"transparent",iconSize:q9[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}EJ.displayName="@mantine/core/MultiSelect/DefaultValue";function MAe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var FAe=Object.defineProperty,iT=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty,SJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?FAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y9=(e,t)=>{for(var n in t||(t={}))TJ.call(t,n)&&W9(e,n,t[n]);if(iT)for(var n of iT(t))SJ.call(t,n)&&W9(e,n,t[n]);return e},BAe=(e,t)=>{var n={};for(var r in e)TJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iT)for(var r of iT(e))t.indexOf(r)<0&&SJ.call(e,r)&&(n[r]=e[r]);return n};const jAe={xs:14,sm:18,md:20,lg:24,xl:28};function UAe(e){var t=e,{size:n,error:r,style:i}=t,s=BAe(t,["size","error","style"]);const o=Bi(),a=o.fn.size({size:n,sizes:jAe});return N.createElement("svg",Y9({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Y9({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),N.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function xJ({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?N.createElement(Lx,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):N.createElement(UAe,{error:i,size:r})}xJ.displayName="@mantine/core/SelectRightSection";var VAe=Object.defineProperty,zAe=Object.defineProperties,HAe=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,IJ=Object.prototype.hasOwnProperty,AJ=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?VAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YC=(e,t)=>{for(var n in t||(t={}))IJ.call(t,n)&&G9(e,n,t[n]);if(sT)for(var n of sT(t))AJ.call(t,n)&&G9(e,n,t[n]);return e},K9=(e,t)=>zAe(e,HAe(t)),qAe=(e,t)=>{var n={};for(var r in e)IJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sT)for(var r of sT(e))t.indexOf(r)<0&&AJ.call(e,r)&&(n[r]=e[r]);return n};const WAe={xs:24,sm:30,md:34,lg:44,xl:54};function CJ(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=qAe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:WAe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&N.createElement(xJ,YC({},o)),styles:K9(YC({},a),{rightSection:K9(YC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var YAe=Object.defineProperty,GAe=Object.defineProperties,KAe=Object.getOwnPropertyDescriptors,Q9=Object.getOwnPropertySymbols,QAe=Object.prototype.hasOwnProperty,XAe=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?YAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JAe=(e,t)=>{for(var n in t||(t={}))QAe.call(t,n)&&X9(e,n,t[n]);if(Q9)for(var n of Q9(t))XAe.call(t,n)&&X9(e,n,t[n]);return e},ZAe=(e,t)=>GAe(e,KAe(t)),eCe=lt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Ds})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:ZAe(JAe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Ds})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const tCe=eCe;var nCe=Object.defineProperty,rCe=Object.defineProperties,iCe=Object.getOwnPropertyDescriptors,oT=Object.getOwnPropertySymbols,OJ=Object.prototype.hasOwnProperty,PJ=Object.prototype.propertyIsEnumerable,J9=(e,t,n)=>t in e?nCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jh=(e,t)=>{for(var n in t||(t={}))OJ.call(t,n)&&J9(e,n,t[n]);if(oT)for(var n of oT(t))PJ.call(t,n)&&J9(e,n,t[n]);return e},Z9=(e,t)=>rCe(e,iCe(t)),sCe=(e,t)=>{var n={};for(var r in e)OJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oT)for(var r of oT(e))t.indexOf(r)<0&&PJ.call(e,r)&&(n[r]=e[r]);return n};function oCe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function aCe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function eB(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const uCe={size:"sm",valueComponent:EJ,itemComponent:$D,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:oCe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:aCe,switchDirectionOnFlip:!1,zIndex:Po("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},RJ=T.forwardRef((e,t)=>{const n=ft("MultiSelect",uCe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:_,id:v,transition:E,transitionDuration:S,transitionTimingFunction:w,maxDropdownHeight:x,shadow:I,nothingFound:M,onFocus:C,onBlur:D,searchable:q,placeholder:W,filter:U,limit:de,clearSearchOnChange:ae,clearable:pe,clearSearchOnBlur:ee,clearButtonLabel:ie,variant:K,onSearchChange:A,searchValue:O,disabled:z,initiallyOpened:k,radius:R,icon:Y,rightSection:se,rightSectionWidth:ue,creatable:he,getCreateLabel:fe,shouldCreate:Se,onCreate:me,sx:Je,dropdownComponent:Ge,onDropdownClose:qe,onDropdownOpen:Le,maxSelectedValues:Ae,withinPortal:Ve,switchDirectionOnFlip:en,zIndex:Me,selectOnBlur:Ue,name:Et,dropdownPosition:ze,errorProps:_t,labelProps:Gt,descriptionProps:ln,clearButtonTabIndex:Kn,form:ce,positionDependencies:Ee,onKeyDown:Fe,unstyled:ot,inputContainer:$e,inputWrapperOrder:at,readOnly:Be,withAsterisk:rt}=n,En=sCe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:qt,cx:xt,theme:jn}=tCe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ot,name:"MultiSelect"}),{systemStyles:Tn,rest:ma}=Ff(En),pr=T.useRef(),Ui=T.useRef(),Er=T.useRef({}),Fr=Yu(v),[mr,Un]=T.useState(k),[tn,ai]=T.useState(-1),[Tr,Br]=T.useState("column"),[bi,Ss]=ta({value:O,defaultValue:"",finalValue:void 0,onChange:A}),[X,V]=T.useState(!1),{scrollIntoView:Z,targetRef:ye,scrollableRef:ge}=TG({duration:0,offset:5,cancelable:!1,isList:!0}),Ke=he&&typeof fe=="function";let Te=null;const We=m.map(Xe=>typeof Xe=="string"?{label:Xe,value:Xe}:Xe),dt=jY({data:We}),[nt,gt]=ta({value:eB(h,m),defaultValue:eB(p,m),finalValue:[],onChange:y}),Lt=T.useRef(!!Ae&&Ae<nt.length),Ln=Xe=>{if(!Be){const zt=nt.filter(qn=>qn!==Xe);gt(zt),Ae&&zt.length<Ae&&(Lt.current=!1)}},mt=Xe=>{Ss(Xe.currentTarget.value),!z&&!Lt.current&&q&&Un(!0)},Cn=Xe=>{typeof C=="function"&&C(Xe),!z&&!Lt.current&&q&&Un(!0)},Tt=MAe({data:dt,searchable:q,searchValue:bi,limit:de,filter:U,value:nt}),yn=(Xe,zt,qn)=>{let ui=Xe;for(;qn(ui);)if(ui=zt(ui),!Tt[ui].disabled)return ui;return Xe};ys(()=>{ai(-1)},[bi]),ys(()=>{!z&&nt.length>m.length&&Un(!1),Ae&&nt.length<Ae&&(Lt.current=!1),Ae&&nt.length>=Ae&&(Lt.current=!0,Un(!1))},[nt]);const ir=Xe=>{if(!Be)if(ae&&Ss(""),nt.includes(Xe.value))Ln(Xe.value);else{if(Xe.creatable&&typeof me=="function"){const zt=me(Xe.value);typeof zt<"u"&&zt!==null&&gt(typeof zt=="string"?[...nt,zt]:[...nt,zt.value])}else gt([...nt,Xe.value]);nt.length===Ae-1&&(Lt.current=!0,Un(!1)),tn===Tt.length-1&&ai(Tt.length-2),Tt.length===1&&Un(!1)}},Kr=Xe=>{typeof D=="function"&&D(Xe),Ue&&Tt[tn]&&mr&&ir(Tt[tn]),ee&&Ss(""),Un(!1)},Nr=Xe=>{if(X||(Fe==null||Fe(Xe),Be)||Xe.key!=="Backspace"&&Ae&&Lt.current)return;const zt=Tr==="column",qn=()=>{ai(xs=>{var $;const Q=yn(xs,B=>B+1,B=>B<Tt.length-1);return mr&&(ye.current=Er.current[($=Tt[Q])==null?void 0:$.value],Z({alignment:zt?"end":"start"})),Q})},ui=()=>{ai(xs=>{var $;const Q=yn(xs,B=>B-1,B=>B>0);return mr&&(ye.current=Er.current[($=Tt[Q])==null?void 0:$.value],Z({alignment:zt?"start":"end"})),Q})};switch(Xe.key){case"ArrowUp":{Xe.preventDefault(),Un(!0),zt?ui():qn();break}case"ArrowDown":{Xe.preventDefault(),Un(!0),zt?qn():ui();break}case"Enter":{Xe.preventDefault(),Tt[tn]&&mr?ir(Tt[tn]):Un(!0);break}case" ":{q||(Xe.preventDefault(),Tt[tn]&&mr?ir(Tt[tn]):Un(!0));break}case"Backspace":{nt.length>0&&bi.length===0&&(gt(nt.slice(0,-1)),Un(!0),Ae&&(Lt.current=!1));break}case"Home":{if(!q){Xe.preventDefault(),mr||Un(!0);const xs=Tt.findIndex($=>!$.disabled);ai(xs),Z({alignment:zt?"end":"start"})}break}case"End":{if(!q){Xe.preventDefault(),mr||Un(!0);const xs=Tt.map($=>!!$.disabled).lastIndexOf(!1);ai(xs),Z({alignment:zt?"end":"start"})}break}case"Escape":Un(!1)}},cs=nt.map(Xe=>{let zt=dt.find(qn=>qn.value===Xe&&!qn.disabled);return!zt&&Ke&&(zt={value:Xe,label:Xe}),zt}).filter(Xe=>!!Xe).map(Xe=>N.createElement(g,Z9(jh({},Xe),{variant:K,disabled:z,className:qt.value,readOnly:Be,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),Ln(Xe.value)},key:Xe.value,size:u,styles:f,classNames:c,radius:R}))),wi=()=>{var Xe;Ss(""),gt([]),(Xe=pr.current)==null||Xe.focus(),Ae&&(Lt.current=!1)};Ke&&Se(bi,dt)&&(Te=fe(bi),Tt.push({label:bi,value:bi,creatable:!0}));const gr=!Be&&(Tt.length>0?mr:mr&&!!M);return ys(()=>{const Xe=gr?Le:qe;typeof Xe=="function"&&Xe()},[gr]),N.createElement(Ks.Wrapper,jh(jh({required:s,id:Fr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:Je,errorProps:_t,descriptionProps:ln,labelProps:Gt,inputContainer:$e,inputWrapperOrder:at,unstyled:ot,withAsterisk:rt},Tn),d),N.createElement(nf,{opened:gr,transition:E,transitionDuration:S,shadow:"sm",withinPortal:Ve,__staticSelector:"MultiSelect",onDirectionChange:Br,switchDirectionOnFlip:en,zIndex:Me,dropdownPosition:ze,positionDependencies:Ee,classNames:c,styles:f,unstyled:ot},N.createElement(nf.Target,null,N.createElement("div",{className:qt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":mr&&gr?`${Fr}-items`:null,"aria-controls":Fr,"aria-expanded":mr,onMouseLeave:()=>ai(-1),tabIndex:-1,ref:Ui},N.createElement("input",{type:"hidden",name:Et,value:nt.join(","),form:ce,disabled:z}),N.createElement(Ks,jh({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:K,disabled:z,invalid:!!l,required:s,radius:R,icon:Y,unstyled:ot,onMouseDown:Xe=>{var zt;Xe.preventDefault(),!z&&!Lt.current&&Un(!mr),(zt=pr.current)==null||zt.focus()},classNames:Z9(jh({},c),{input:xt({[qt.input]:!q},c==null?void 0:c.input)})},CJ({theme:jn,rightSection:se,rightSectionWidth:ue,styles:f,size:u,shouldClear:pe&&nt.length>0,clearButtonLabel:ie,onClear:wi,error:l,disabled:z,clearButtonTabIndex:Kn,readOnly:Be})),N.createElement("div",{className:qt.values},cs,N.createElement("input",jh({ref:sa(t,pr),type:"search",id:Fr,className:xt(qt.searchInput,{[qt.searchInputPointer]:!q,[qt.searchInputInputHidden]:!mr&&nt.length>0||!q&&nt.length>0,[qt.searchInputEmpty]:nt.length===0}),onKeyDown:Nr,value:bi,onChange:mt,onFocus:Cn,onBlur:Kr,readOnly:!q||Lt.current||Be,placeholder:nt.length===0?W:void 0,disabled:z,"data-mantine-stop-propagation":mr,autoComplete:"off",onCompositionStart:()=>V(!0),onCompositionEnd:()=>V(!1)},ma)))))),N.createElement(nf.Dropdown,{component:Ge||Ux,maxHeight:x,direction:Tr,id:Fr,innerRef:ge,__staticSelector:"MultiSelect",classNames:c,styles:f},N.createElement(DD,{data:Tt,hovered:tn,classNames:c,styles:f,uuid:Fr,__staticSelector:"MultiSelect",onItemHover:ai,onItemSelect:ir,itemsRefs:Er,itemComponent:_,size:u,nothingFound:M,creatable:he&&!!Te,createLabel:Te,unstyled:ot}))))});RJ.displayName="@mantine/core/MultiSelect";var lCe=Object.defineProperty,cCe=Object.defineProperties,fCe=Object.getOwnPropertyDescriptors,tB=Object.getOwnPropertySymbols,dCe=Object.prototype.hasOwnProperty,hCe=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?lCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rB=(e,t)=>{for(var n in t||(t={}))dCe.call(t,n)&&nB(e,n,t[n]);if(tB)for(var n of tB(t))hCe.call(t,n)&&nB(e,n,t[n]);return e},pCe=(e,t)=>cCe(e,fCe(t)),mCe=lt((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:pCe(rB({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":rB({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}});const gCe=mCe;var yCe=Object.defineProperty,aT=Object.getOwnPropertySymbols,kJ=Object.prototype.hasOwnProperty,NJ=Object.prototype.propertyIsEnumerable,iB=(e,t,n)=>t in e?yCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ce=(e,t)=>{for(var n in t||(t={}))kJ.call(t,n)&&iB(e,n,t[n]);if(aT)for(var n of aT(t))NJ.call(t,n)&&iB(e,n,t[n]);return e},vCe=(e,t)=>{var n={};for(var r in e)kJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aT)for(var r of aT(e))t.indexOf(r)<0&&NJ.call(e,r)&&(n[r]=e[r]);return n};const bCe={variant:"light",childrenOffset:"lg"},DJ=T.forwardRef((e,t)=>{const n=ft("NavLink",bCe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:m,opened:y,defaultOpened:g,onChange:_,disableRightSectionRotation:v,childrenOffset:E,disabled:S,onClick:w}=n,x=vCe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:I,cx:M}=gCe({color:d,variant:h,noWrap:p,childrenOffset:E,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[C,D]=ta({value:y,defaultValue:g,finalValue:!1,onChange:_}),q=!!m,W=U=>{q?(U.preventDefault(),w==null||w(U),D(!C)):w==null||w(U)};return N.createElement(N.Fragment,null,N.createElement($x,_Ce({ref:t,className:M(I.root,a),"data-active":f||void 0,onClick:W,unstyled:c,"data-expanded":C||void 0,"data-disabled":S||void 0,disabled:S},x),s&&N.createElement("span",{className:I.icon},s),N.createElement("span",{className:I.body},N.createElement(yt,{component:"span",size:"sm",className:I.label},r),N.createElement(yt,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:I.description},i)),(q||o)&&N.createElement("span",{className:I.rightSection,"data-rotate":C&&!v||void 0},q?o||N.createElement(Zye,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),N.createElement($G,{in:C},N.createElement("div",{className:I.children},m)))});DJ.displayName="@mantine/core/NavLink";const $J=DJ,wCe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function sB({direction:e,size:t}){return N.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const LJ={xs:20,sm:24,md:30,lg:34,xl:36};var ECe=lt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:LJ}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const TCe=ECe;var SCe=Object.defineProperty,xCe=Object.defineProperties,ICe=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,MJ=Object.prototype.hasOwnProperty,FJ=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?SCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GC=(e,t)=>{for(var n in t||(t={}))MJ.call(t,n)&&oB(e,n,t[n]);if(uT)for(var n of uT(t))FJ.call(t,n)&&oB(e,n,t[n]);return e},ACe=(e,t)=>xCe(e,ICe(t)),CCe=(e,t)=>{var n={};for(var r in e)MJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&FJ.call(e,r)&&(n[r]=e[r]);return n};const OCe={type:"text",size:"sm",__staticSelector:"TextInput"},t$=T.forwardRef((e,t)=>{const n=PQ("TextInput",OCe,e),{inputProps:r,wrapperProps:i}=n,s=CCe(n,["inputProps","wrapperProps"]);return N.createElement(Ks.Wrapper,GC({},i),N.createElement(Ks,ACe(GC(GC({},r),s),{ref:t})))});t$.displayName="@mantine/core/TextInput";var PCe=Object.defineProperty,RCe=Object.defineProperties,kCe=Object.getOwnPropertyDescriptors,lT=Object.getOwnPropertySymbols,BJ=Object.prototype.hasOwnProperty,jJ=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?PCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NCe=(e,t)=>{for(var n in t||(t={}))BJ.call(t,n)&&aB(e,n,t[n]);if(lT)for(var n of lT(t))jJ.call(t,n)&&aB(e,n,t[n]);return e},DCe=(e,t)=>RCe(e,kCe(t)),$Ce=(e,t)=>{var n={};for(var r in e)BJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lT)for(var r of lT(e))t.indexOf(r)<0&&jJ.call(e,r)&&(n[r]=e[r]);return n};const LCe=e=>e||"",MCe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},uB={xs:10,sm:14,md:16,lg:18,xl:20},FCe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:LCe,parser:MCe,type:"text"},UJ=T.forwardRef((e,t)=>{const n=ft("NumberInput",FCe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:m,onKeyUp:y,hideControls:g,radius:_,variant:v,precision:E,removeTrailingZeros:S,defaultValue:w,noClampOnBlur:x,handlersRef:I,classNames:M,styles:C,size:D,rightSection:q,rightSectionWidth:W,formatter:U,parser:de,inputMode:ae,unstyled:pe,type:ee}=n,ie=$Ce(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:K,cx:A,theme:O}=TCe({radius:_,size:D},{classNames:M,styles:C,unstyled:pe,name:"NumberInput"}),z=$e=>{if($e===void 0)return;let at=$e.toFixed(E);return S&&E>0&&(at=at.replace(new RegExp(`[0]{0,${E}}$`),""),(at.endsWith(".")||at.endsWith(o))&&(at=at.slice(0,-1))),at},[k,R]=T.useState(!1),[Y,se]=T.useState(typeof i=="number"?i:typeof w=="number"?w:void 0),ue=typeof i=="number"?i:Y,[he,fe]=T.useState(typeof ue=="number"?z(ue):""),Se=T.useRef(),me=$e=>{$e!==Y&&!Number.isNaN($e)&&(typeof s=="function"&&s($e),se($e))},Je=($e="")=>{let at=typeof $e=="number"?String($e):$e;return o&&(at=at.replace(/\./g,o)),U(at)},Ge=$e=>{let at=$e;return o&&(at=at.replace(new RegExp(`\\${o}`,"g"),".")),de(at)},qe=typeof a=="number"?a:-1/0,Le=typeof u=="number"?u:1/0,Ae=T.useRef();Ae.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=z(l))!=null?at:z(a))!=null?Be:"0");else{const rt=z(ef(Y+c,qe,Le));me(parseFloat(rt)),fe(rt)}};const Ve=T.useRef();Ve.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=z(l))!=null?at:z(a))!=null?Be:"0");else{const rt=z(ef(Y-c,qe,Le));me(parseFloat(rt)),fe(rt)}},bG(I,{increment:Ae.current,decrement:Ve.current}),T.useEffect(()=>{typeof i=="number"&&!k&&(se(i),fe(z(i))),w===void 0&&i===void 0&&!k&&(se(i),fe(""))},[i]);const en=d!==void 0&&f!==void 0,Me=T.useRef(null),Ue=T.useRef(0),Et=()=>{Me.current&&window.clearTimeout(Me.current),Me.current=null,Ue.current=0},ze=$e=>{$e?Ae.current():Ve.current(),Ue.current+=1},_t=$e=>{if(ze($e),en){const at=typeof f=="number"?f:f(Ue.current);Me.current=window.setTimeout(()=>_t($e),at)}},Gt=($e,at)=>{$e.preventDefault(),Se.current.focus(),ze(at),en&&(Me.current=window.setTimeout(()=>_t(at),d))};T.useEffect(()=>(Et(),Et),[]);const ln=N.createElement("div",{className:K.rightSection},N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue>=u,className:A(K.control,K.controlUp),onPointerDown:$e=>{Gt($e,!0)},onPointerUp:Et,onPointerLeave:Et},N.createElement(sB,{size:O.fn.size({size:D,sizes:uB}),direction:"up"})),N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue<=a,className:A(K.control,K.controlDown),onPointerDown:$e=>{Gt($e,!1)},onPointerUp:Et,onPointerLeave:Et},N.createElement(sB,{size:O.fn.size({size:D,sizes:uB}),direction:"down"}))),Kn=$e=>{if($e.nativeEvent.isComposing)return;const Be=$e.target.value,rt=Ge(Be);fe(rt),Be===""||Be==="-"?me(void 0):Be.trim()!==""&&!Number.isNaN(rt)&&me(parseFloat(rt))},ce=$e=>{var at;if($e.target.value==="")fe(""),me(void 0);else{let Be=$e.target.value;(Be[0]===`${o}`||Be[0]===".")&&(Be=`0${Be}`);const rt=Ge(Be),En=ef(parseFloat(rt),qe,Le);Number.isNaN(En)?fe((at=z(ue))!=null?at:""):x||(fe(z(En)),me(parseFloat(z(En))))}R(!1),typeof h=="function"&&h($e)},Ee=$e=>{R(!0),typeof p=="function"&&p($e)},Fe=$e=>{if(typeof m=="function"&&m($e),$e.repeat&&en&&($e.key==="ArrowUp"||$e.key==="ArrowDown")){$e.preventDefault();return}$e.key==="ArrowUp"?Gt($e,!0):$e.key==="ArrowDown"&&Gt($e,!1)},ot=$e=>{typeof y=="function"&&y($e),($e.key==="ArrowUp"||$e.key==="ArrowDown")&&Et()};return N.createElement(t$,DCe(NCe({},ie),{type:ee,variant:v,value:Je(he),disabled:r,ref:sa(Se,t),onChange:Kn,onBlur:ce,onFocus:Ee,onKeyDown:Fe,onKeyUp:ot,rightSection:q||(r||g||v==="unstyled"?null:ln),rightSectionWidth:W||O.fn.size({size:D,sizes:LJ})+1,radius:_,max:u,min:a,step:c,size:D,styles:C,classNames:M,inputMode:ae||wCe(c,E,sye()),__staticSelector:"NumberInput",unstyled:pe}))});UJ.displayName="@mantine/core/NumberInput";const lB={xs:3,sm:5,md:8,lg:12,xl:16},BCe=Xge({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var jCe=lt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:lB}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${BCe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:lB})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const UCe=jCe,VJ=T.createContext(!1),VCe=VJ.Provider,zCe=()=>T.useContext(VJ);function zJ({children:e,openDelay:t=0,closeDelay:n=0}){return N.createElement(VCe,{value:!0},N.createElement(twe,{delay:{open:t,close:n}},e))}zJ.displayName="@mantine/core/TooltipGroup";var HCe=Object.defineProperty,qCe=Object.defineProperties,WCe=Object.getOwnPropertyDescriptors,cB=Object.getOwnPropertySymbols,YCe=Object.prototype.hasOwnProperty,GCe=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?HCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dB=(e,t)=>{for(var n in t||(t={}))YCe.call(t,n)&&fB(e,n,t[n]);if(cB)for(var n of cB(t))GCe.call(t,n)&&fB(e,n,t[n]);return e},KCe=(e,t)=>qCe(e,WCe(t));function QCe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var XCe=lt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:KCe(dB(dB({},e.fn.fontStyles()),QCe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const HJ=XCe,qJ={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function JCe({offset:e,position:t}){const[n,r]=T.useState(!1),i=T.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=HD({placement:t,middleware:[UD({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=T.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return T.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=Ol(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var ZCe=Object.defineProperty,eOe=Object.defineProperties,tOe=Object.getOwnPropertyDescriptors,cT=Object.getOwnPropertySymbols,WJ=Object.prototype.hasOwnProperty,YJ=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?ZCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KC=(e,t)=>{for(var n in t||(t={}))WJ.call(t,n)&&hB(e,n,t[n]);if(cT)for(var n of cT(t))YJ.call(t,n)&&hB(e,n,t[n]);return e},QC=(e,t)=>eOe(e,tOe(t)),nOe=(e,t)=>{var n={};for(var r in e)WJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cT)for(var r of cT(e))t.indexOf(r)<0&&YJ.call(e,r)&&(n[r]=e[r]);return n};const rOe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Po("popover")};function GJ(e){var t;const n=ft("TooltipFloating",rOe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:_,disabled:v}=n,E=nOe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:S,x:w,y:x,opened:I,boundaryRef:M,floating:C,setOpened:D}=JCe({offset:p,position:m}),{classes:q,cx:W}=HJ({radius:f,color:d,multiline:y,width:g},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!Y_(r))throw new Error(qJ.children);const U=sa(M,r.ref),de=pe=>{var ee,ie;(ie=(ee=r.props).onMouseEnter)==null||ie.call(ee,pe),S(pe),D(!0)},ae=pe=>{var ee,ie;(ie=(ee=r.props).onMouseLeave)==null||ie.call(ee,pe),D(!1)};return v?N.createElement(N.Fragment,null,r):N.createElement(N.Fragment,null,N.createElement(X_,{withinPortal:s},N.createElement(ut,QC(KC({},E),{ref:C,className:W(q.tooltip,a),style:QC(KC({},o),{zIndex:_,display:I?"block":"none",top:x??"",left:(t=Math.round(w))!=null?t:""})}),h)),T.cloneElement(r,QC(KC({},r.props),{[i]:U,onMouseEnter:de,onMouseLeave:ae})))}GJ.displayName="@mantine/core/TooltipFloating";function iOe(e){const[t,n]=T.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=zCe(),o=Yu(),{delay:a,currentId:u,setCurrentId:l}=cQ(),c=T.useCallback(I=>{n(I),I&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:_,middlewareData:{arrow:{x:v,y:E}={}}}=HD({placement:e.position,open:i,onOpenChange:c,middleware:[JK(e.offset),UD({padding:8}),XK(),oQ({element:e.arrowRef}),...e.inline?[eQ()]:[]]}),{getReferenceProps:S,getFloatingProps:w}=Xbe([ewe(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),awe(m,{enabled:e.events.focus,keyboardOnly:!0}),rwe(m,{role:"tooltip"}),owe(m,{enabled:typeof e.opened===void 0}),nwe(m,{id:o})]);return fQ({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),ys(()=>{var I;(I=e.onPositionChange)==null||I.call(e,_)},[_]),{x:f,y:d,arrowX:v,arrowY:E,reference:h,floating:p,getFloatingProps:w,getReferenceProps:S,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var sOe=Object.defineProperty,oOe=Object.defineProperties,aOe=Object.getOwnPropertyDescriptors,fT=Object.getOwnPropertySymbols,KJ=Object.prototype.hasOwnProperty,QJ=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?sOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kg=(e,t)=>{for(var n in t||(t={}))KJ.call(t,n)&&pB(e,n,t[n]);if(fT)for(var n of fT(t))QJ.call(t,n)&&pB(e,n,t[n]);return e},uOe=(e,t)=>oOe(e,aOe(t)),lOe=(e,t)=>{var n={};for(var r in e)KJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fT)for(var r of fT(e))t.indexOf(r)<0&&QJ.call(e,r)&&(n[r]=e[r]);return n};const cOe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Po("popover"),positionDependencies:[]},Wx=T.forwardRef((e,t)=>{const n=T.useRef(null),r=ft("Tooltip",cOe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:_,className:v,withArrow:E,arrowSize:S,arrowOffset:w,arrowRadius:x,offset:I,transition:M,transitionDuration:C,multiline:D,width:q,events:W,zIndex:U,disabled:de,positionDependencies:ae,onClick:pe,onMouseEnter:ee,onMouseLeave:ie,inline:K}=r,A=lOe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:O,cx:z,theme:k}=HJ({radius:h,color:p,width:q,multiline:D},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),R=iOe({position:xQ(k.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:W,arrowRef:n,offset:I+(E?S/2:0),positionDependencies:[...ae,i],inline:K});if(!Y_(i))throw new Error(qJ.children);const Y=sa(R.reference,i.ref,t);return N.createElement(N.Fragment,null,N.createElement(X_,{withinPortal:d},N.createElement(Hx,{mounted:!de&&R.opened,transition:M,duration:R.isGroupPhase?10:C},se=>{var ue,he;return N.createElement(ut,Kg(Kg({},A),R.getFloatingProps({ref:R.floating,className:O.tooltip,style:uOe(Kg(Kg({},_),se),{zIndex:U,top:(ue=R.y)!=null?ue:0,left:(he=R.x)!=null?he:0})})),a,N.createElement(qD,{ref:n,arrowX:R.arrowX,arrowY:R.arrowY,visible:E,withBorder:!1,position:R.placement,arrowSize:S,arrowOffset:w,arrowRadius:x,className:O.arrow}))})),T.cloneElement(i,R.getReferenceProps(Kg({onClick:pe,onMouseEnter:ee,onMouseLeave:ie,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:Y,className:z(v,i.props.className)},i.props))))});Wx.Group=zJ;Wx.Floating=GJ;Wx.displayName="@mantine/core/Tooltip";const XJ=Wx;var fOe=Object.defineProperty,dOe=Object.defineProperties,hOe=Object.getOwnPropertyDescriptors,dT=Object.getOwnPropertySymbols,JJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?fOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sR=(e,t)=>{for(var n in t||(t={}))JJ.call(t,n)&&mB(e,n,t[n]);if(dT)for(var n of dT(t))ZJ.call(t,n)&&mB(e,n,t[n]);return e},eZ=(e,t)=>dOe(e,hOe(t)),gB=(e,t)=>{var n={};for(var r in e)JJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&ZJ.call(e,r)&&(n[r]=e[r]);return n};function pOe(e){return e.reduce((t,n)=>(t.sections.push(eZ(sR({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const mOe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},tZ=T.forwardRef((e,t)=>{const n=ft("Progress",mOe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=gB(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:_,theme:v}=UCe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),E=Array.isArray(p)?pOe(p).map((S,w)=>{var x=S,{tooltip:I,accumulated:M,value:C,label:D,color:q}=x,W=gB(x,["tooltip","accumulated","value","label","color"]);return N.createElement(XJ.Floating,{label:I,disabled:!I,key:w},N.createElement(ut,eZ(sR({},W),{className:_(g.bar,W.className),sx:{width:`${C}%`,left:`${M}%`,backgroundColor:v.fn.variant({variant:"filled",primaryFallback:!1,color:q||v.primaryColor}).background}}),D&&N.createElement(yt,{className:g.label},D)))}):null;return N.createElement(ut,sR({className:_(g.root,r),ref:t},y),E||N.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?N.createElement(yt,{className:g.label},c):""))});tZ.displayName="@mantine/core/Progress";var gOe=Object.defineProperty,yB=Object.getOwnPropertySymbols,yOe=Object.prototype.hasOwnProperty,_Oe=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?gOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vOe=(e,t)=>{for(var n in t||(t={}))yOe.call(t,n)&&_B(e,n,t[n]);if(yB)for(var n of yB(t))_Oe.call(t,n)&&_B(e,n,t[n]);return e};function bOe(e){return N.createElement("svg",vOe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),N.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const nZ=T.createContext(null),wOe=nZ.Provider,EOe=()=>T.useContext(nZ);var TOe=Object.defineProperty,hT=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,iZ=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?TOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bB=(e,t)=>{for(var n in t||(t={}))rZ.call(t,n)&&vB(e,n,t[n]);if(hT)for(var n of hT(t))iZ.call(t,n)&&vB(e,n,t[n]);return e},SOe=(e,t)=>{var n={};for(var r in e)rZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&iZ.call(e,r)&&(n[r]=e[r]);return n};const xOe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},sZ=T.forwardRef((e,t)=>{const n=ft("RadioGroup",xOe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=SOe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[m,y]=ta({value:i,defaultValue:s,finalValue:"",onChange:o}),g=_=>y(_.currentTarget.value);return N.createElement(wOe,{value:{value:m,onChange:g,size:l,name:h}},N.createElement(Ks.Wrapper,bB(bB({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),N.createElement(gX,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});sZ.displayName="@mantine/core/RadioGroup";var IOe=Object.defineProperty,AOe=Object.defineProperties,COe=Object.getOwnPropertyDescriptors,wB=Object.getOwnPropertySymbols,OOe=Object.prototype.hasOwnProperty,POe=Object.prototype.propertyIsEnumerable,EB=(e,t,n)=>t in e?IOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ROe=(e,t)=>{for(var n in t||(t={}))OOe.call(t,n)&&EB(e,n,t[n]);if(wB)for(var n of wB(t))POe.call(t,n)&&EB(e,n,t[n]);return e},kOe=(e,t)=>AOe(e,COe(t));const XC={xs:16,sm:20,md:24,lg:30,xl:36},I1={xs:6,sm:8,md:10,lg:14,xl:16};var NOe=lt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:I1,size:t}),height:e.fn.size({sizes:I1,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:I1,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:I1,size:t})/2}px)`},radio:kOe(ROe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:XC,size:t}),height:e.fn.size({sizes:XC,size:t}),borderRadius:e.fn.size({sizes:XC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const DOe=NOe;var $Oe=Object.defineProperty,pT=Object.getOwnPropertySymbols,oZ=Object.prototype.hasOwnProperty,aZ=Object.prototype.propertyIsEnumerable,TB=(e,t,n)=>t in e?$Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A1=(e,t)=>{for(var n in t||(t={}))oZ.call(t,n)&&TB(e,n,t[n]);if(pT)for(var n of pT(t))aZ.call(t,n)&&TB(e,n,t[n]);return e},LOe=(e,t)=>{var n={};for(var r in e)oZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&aZ.call(e,r)&&(n[r]=e[r]);return n};const MOe={icon:bOe,transitionDuration:100,size:"sm",labelPosition:"right"},Mp=T.forwardRef((e,t)=>{var n,r;const i=ft("Radio",MOe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:_,unstyled:v,labelPosition:E,description:S,error:w}=i,x=LOe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=EOe(),M=(n=I==null?void 0:I.size)!=null?n:l,C=e.size?l:M,{classes:D}=DOe({color:d,size:C,transitionDuration:g,labelPosition:E,error:!!w},{classNames:h,styles:p,unstyled:v,name:"Radio"}),{systemStyles:q,rest:W}=Ff(x),U=Yu(a),de=I?{checked:I.value===W.value,name:(r=W.name)!=null?r:I.name,onChange:I.onChange}:{};return N.createElement(XD,A1(A1({className:s,sx:m,style:o,id:U,size:C,labelPosition:E,label:u,description:S,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:v,"data-checked":de.checked||void 0},q),_),N.createElement("div",{className:D.inner},N.createElement("input",A1(A1({ref:t,className:D.radio,type:"radio",id:U,disabled:f},W),de)),N.createElement(y,{className:D.icon,"aria-hidden":!0})))});Mp.displayName="@mantine/core/Radio";Mp.Group=sZ;var FOe=Object.defineProperty,BOe=Object.defineProperties,jOe=Object.getOwnPropertyDescriptors,SB=Object.getOwnPropertySymbols,UOe=Object.prototype.hasOwnProperty,VOe=Object.prototype.propertyIsEnumerable,xB=(e,t,n)=>t in e?FOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C1=(e,t)=>{for(var n in t||(t={}))UOe.call(t,n)&&xB(e,n,t[n]);if(SB)for(var n of SB(t))VOe.call(t,n)&&xB(e,n,t[n]);return e},zOe=(e,t)=>BOe(e,jOe(t));const $b=4,IB={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var HOe=lt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:zOe(C1(C1({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:IB[a in IB?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:C1({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:C1({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:$b},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const qOe=HOe;var WOe=Object.defineProperty,mT=Object.getOwnPropertySymbols,uZ=Object.prototype.hasOwnProperty,lZ=Object.prototype.propertyIsEnumerable,AB=(e,t,n)=>t in e?WOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YOe=(e,t)=>{for(var n in t||(t={}))uZ.call(t,n)&&AB(e,n,t[n]);if(mT)for(var n of mT(t))lZ.call(t,n)&&AB(e,n,t[n]);return e},GOe=(e,t)=>{var n={};for(var r in e)uZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&lZ.call(e,r)&&(n[r]=e[r]);return n};const KOe={disabled:!1,size:"sm",transitionDuration:200},cZ=T.forwardRef((e,t)=>{var n,r,i,s;const o=ft("SegmentedControl",KOe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:_,classNames:v,styles:E,defaultValue:S,orientation:w,unstyled:x}=o,I=GOe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),M=Bi(),C=Dx(),D=M.respectReducedMotion?C:!1,q=l.map(ue=>typeof ue=="string"?{label:ue,value:ue}:ue),W=T.useRef(),[U,de]=T.useState(!1),[ae,pe]=ta({value:f,defaultValue:S,finalValue:Array.isArray(q)&&(s=(i=(n=q.find(ue=>!ue.disabled))==null?void 0:n.value)!=null?i:(r=q[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:ee,cx:ie}=qOe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:D||!U,transitionDuration:g,transitionTimingFunction:_,orientation:w},{classNames:v,styles:E,unstyled:x,name:"SegmentedControl"}),[K,A]=T.useState({width:0,height:0,translate:[0,0]}),O=Yu(c),z=T.useRef({}),[k,R]=K0();RD(()=>{W.current?de(!0):(W.current=!0,de(!1))}),T.useEffect(()=>{if(ae in z.current&&k.current){const ue=z.current[ae],he=ue.getBoundingClientRect(),fe=ue.offsetWidth/he.width,Se=he.width*fe||0,me=he.height*fe||0,Je=R.width-ue.parentElement.offsetLeft+$b-Se,Ge=ue.parentElement.offsetLeft-$b;A({width:Se,height:me,translate:[M.dir==="rtl"?Je:Ge,ue.parentElement.offsetTop-$b]})}},[ae,R]);const Y=q.map(ue=>N.createElement("div",{className:ie(ee.control,{[ee.controlActive]:ae===ue.value}),key:ue.value},N.createElement("input",{className:ee.input,disabled:u||ue.disabled,type:"radio",name:O,value:ue.value,id:`${O}-${ue.value}`,checked:ae===ue.value,onChange:()=>pe(ue.value)}),N.createElement("label",{className:ie(ee.label,{[ee.labelActive]:ae===ue.value,[ee.disabled]:u||ue.disabled}),htmlFor:`${O}-${ue.value}`,ref:he=>{z.current[ue.value]=he}},ue.label))),se=sa(k,t);return q.length===0?null:N.createElement(ut,YOe({className:ie(ee.root,a),ref:se},I),typeof ae=="string"&&U&&N.createElement(ut,{component:"span",className:ee.active,sx:{width:K.width,height:K.height,transform:`translate(${K.translate[0]}px, ${K.translate[1]}px )`}}),Y)});cZ.displayName="@mantine/core/SegmentedControl";function QOe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var XOe=lt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const JOe=XOe;var ZOe=Object.defineProperty,ePe=Object.defineProperties,tPe=Object.getOwnPropertyDescriptors,gT=Object.getOwnPropertySymbols,fZ=Object.prototype.hasOwnProperty,dZ=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?ZOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qg=(e,t)=>{for(var n in t||(t={}))fZ.call(t,n)&&CB(e,n,t[n]);if(gT)for(var n of gT(t))dZ.call(t,n)&&CB(e,n,t[n]);return e},JC=(e,t)=>ePe(e,tPe(t)),nPe=(e,t)=>{var n={};for(var r in e)fZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&dZ.call(e,r)&&(n[r]=e[r]);return n};function rPe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function iPe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const sPe={required:!1,size:"sm",shadow:"sm",itemComponent:$D,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:rPe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:iPe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Po("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},hZ=T.forwardRef((e,t)=>{const n=PQ("Select",sPe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:_,classNames:v,styles:E,filter:S,maxDropdownHeight:w,searchable:x,clearable:I,nothingFound:M,clearButtonLabel:C,limit:D,disabled:q,onSearchChange:W,searchValue:U,rightSection:de,rightSectionWidth:ae,creatable:pe,getCreateLabel:ee,shouldCreate:ie,selectOnBlur:K,onCreate:A,dropdownComponent:O,onDropdownClose:z,onDropdownOpen:k,withinPortal:R,switchDirectionOnFlip:Y,zIndex:se,name:ue,dropdownPosition:he,allowDeselect:fe,placeholder:Se,filterDataOnExactSearchMatch:me,clearButtonTabIndex:Je,form:Ge,positionDependencies:qe,readOnly:Le}=n,Ae=nPe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Ve,cx:en,theme:Me}=JOe(),[Ue,Et]=T.useState(y),[ze,_t]=T.useState(-1),Gt=T.useRef(),ln=T.useRef({}),[Kn,ce]=T.useState("column"),Ee=Kn==="column",{scrollIntoView:Fe,targetRef:ot,scrollableRef:$e}=TG({duration:0,offset:5,cancelable:!1,isList:!0}),at=fe===void 0?I:fe,Be=Te=>{if(Ue!==Te){Et(Te);const We=Te?k:z;typeof We=="function"&&We()}},rt=pe&&typeof ee=="function";let En=null;const qt=o.map(Te=>typeof Te=="string"?{label:Te,value:Te}:Te),xt=jY({data:qt}),[jn,Tn,ma]=ta({value:a,defaultValue:u,finalValue:null,onChange:l}),pr=xt.find(Te=>Te.value===jn),[Ui,Er]=ta({value:U,defaultValue:(pr==null?void 0:pr.label)||"",finalValue:void 0,onChange:W}),Fr=Te=>{Er(Te),x&&typeof W=="function"&&W(Te)},mr=()=>{var Te;Le||(Tn(null),ma||Fr(""),(Te=Gt.current)==null||Te.focus())};T.useEffect(()=>{const Te=xt.find(We=>We.value===jn);Te?Fr(Te.label):(!rt||!jn)&&Fr("")},[jn]),T.useEffect(()=>{pr&&(!x||!Ue)&&Fr(pr.label)},[pr==null?void 0:pr.label]);const Un=Te=>{if(!Le)if(at&&(pr==null?void 0:pr.value)===Te.value)Tn(null),Be(!1);else{if(Te.creatable&&typeof A=="function"){const We=A(Te.value);typeof We<"u"&&We!==null&&Tn(typeof We=="string"?We:We.value)}else Tn(Te.value);ma||Fr(Te.label),_t(-1),Be(!1),Gt.current.focus()}},tn=QOe({data:xt,searchable:x,limit:D,searchValue:Ui,filter:S,filterDataOnExactSearchMatch:me,value:jn});rt&&ie(Ui,tn)&&(En=ee(Ui),tn.push({label:Ui,value:Ui,creatable:!0}));const ai=(Te,We,dt)=>{let nt=Te;for(;dt(nt);)if(nt=We(nt),!tn[nt].disabled)return nt;return Te};ys(()=>{_t(-1)},[Ui]);const Tr=jn?tn.findIndex(Te=>Te.value===jn):0,Br=!Le&&(tn.length>0?Ue:Ue&&!!M),bi=()=>{_t(Te=>{var We;const dt=ai(Te,nt=>nt-1,nt=>nt>0);return ot.current=ln.current[(We=tn[dt])==null?void 0:We.value],Br&&Fe({alignment:Ee?"start":"end"}),dt})},Ss=()=>{_t(Te=>{var We;const dt=ai(Te,nt=>nt+1,nt=>nt<tn.length-1);return ot.current=ln.current[(We=tn[dt])==null?void 0:We.value],Br&&Fe({alignment:Ee?"end":"start"}),dt})},X=()=>window.setTimeout(()=>{var Te;ot.current=ln.current[(Te=tn[Tr])==null?void 0:Te.value],Fe({alignment:Ee?"end":"start"})},0);ys(()=>{Br&&X()},[Br]);const V=Te=>{switch(typeof f=="function"&&f(Te),Te.key){case"ArrowUp":{Te.preventDefault(),Ue?Ee?bi():Ss():(_t(Tr),Be(!0),X());break}case"ArrowDown":{Te.preventDefault(),Ue?Ee?Ss():bi():(_t(Tr),Be(!0),X());break}case"Home":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=tn.findIndex(dt=>!dt.disabled);_t(We),Br&&Fe({alignment:Ee?"end":"start"})}break}case"End":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=tn.map(dt=>!!dt.disabled).lastIndexOf(!1);_t(We),Br&&Fe({alignment:Ee?"end":"start"})}break}case"Escape":{Te.preventDefault(),Be(!1),_t(-1);break}case" ":{x||(Te.preventDefault(),tn[ze]&&Ue?Un(tn[ze]):(Be(!0),_t(Tr),X()));break}case"Enter":x||Te.preventDefault(),tn[ze]&&Ue&&(Te.preventDefault(),Un(tn[ze]))}},Z=Te=>{typeof d=="function"&&d(Te);const We=xt.find(dt=>dt.value===jn);K&&tn[ze]&&Ue&&Un(tn[ze]),Fr((We==null?void 0:We.label)||""),Be(!1)},ye=Te=>{typeof h=="function"&&h(Te),x&&Be(!0)},ge=Te=>{Le||(Fr(Te.currentTarget.value),I&&Te.currentTarget.value===""&&Tn(null),_t(-1),Be(!0))},Ke=()=>{Le||(Be(!Ue),jn&&!Ue&&_t(Tr))};return N.createElement(Ks.Wrapper,JC(Qg({},i),{__staticSelector:"Select"}),N.createElement(nf,{opened:Br,transition:p,transitionDuration:m,shadow:"sm",withinPortal:R,__staticSelector:"Select",onDirectionChange:ce,switchDirectionOnFlip:Y,zIndex:se,dropdownPosition:he,positionDependencies:qe,classNames:v,styles:E,unstyled:_},N.createElement(nf.Target,null,N.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Br?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Br,onMouseLeave:()=>_t(-1),tabIndex:-1},N.createElement("input",{type:"hidden",name:ue,value:jn||"",form:Ge,disabled:q}),N.createElement(Ks,Qg(JC(Qg(Qg({autoComplete:"off",type:"search"},r),Ae),{ref:sa(t,Gt),onKeyDown:V,__staticSelector:"Select",value:Ui,placeholder:Se,onChange:ge,"aria-autocomplete":"list","aria-controls":Br?`${r.id}-items`:null,"aria-activedescendant":ze>=0?`${r.id}-${ze}`:null,onMouseDown:Ke,onBlur:Z,onFocus:ye,readOnly:!x||Le,disabled:q,"data-mantine-stop-propagation":Br,name:null,classNames:JC(Qg({},v),{input:en({[Ve.input]:!x},v==null?void 0:v.input)})}),CJ({theme:Me,rightSection:de,rightSectionWidth:ae,styles:E,size:r.size,shouldClear:I&&!!pr,clearButtonLabel:C,onClear:mr,error:i.error,clearButtonTabIndex:Je,disabled:q,readOnly:Le}))))),N.createElement(nf.Dropdown,{component:O||Ux,maxHeight:w,direction:Kn,id:r.id,innerRef:$e,__staticSelector:"Select",classNames:v,styles:E},N.createElement(DD,{data:tn,hovered:ze,classNames:v,styles:E,isItemSelected:Te=>Te===jn,uuid:r.id,__staticSelector:"Select",onItemHover:_t,onItemSelect:Un,itemsRefs:ln,itemComponent:c,size:r.size,nothingFound:M,creatable:rt&&!!En,createLabel:En,"aria-label":i.label,unstyled:_}))))});hZ.displayName="@mantine/core/Select";function yT({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function oR({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var oPe=Object.defineProperty,aPe=Object.defineProperties,uPe=Object.getOwnPropertyDescriptors,OB=Object.getOwnPropertySymbols,lPe=Object.prototype.hasOwnProperty,cPe=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?oPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fPe=(e,t)=>{for(var n in t||(t={}))lPe.call(t,n)&&PB(e,n,t[n]);if(OB)for(var n of OB(t))cPe.call(t,n)&&PB(e,n,t[n]);return e},dPe=(e,t)=>aPe(e,uPe(t));const js={xs:4,sm:6,md:8,lg:10,xl:12};var hPe=lt((e,{size:t,disabled:n})=>({root:dPe(fPe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:js,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const pPe=hPe;var mPe=Object.defineProperty,gPe=Object.defineProperties,yPe=Object.getOwnPropertyDescriptors,RB=Object.getOwnPropertySymbols,_Pe=Object.prototype.hasOwnProperty,vPe=Object.prototype.propertyIsEnumerable,kB=(e,t,n)=>t in e?mPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bPe=(e,t)=>{for(var n in t||(t={}))_Pe.call(t,n)&&kB(e,n,t[n]);if(RB)for(var n of RB(t))vPe.call(t,n)&&kB(e,n,t[n]);return e},wPe=(e,t)=>gPe(e,yPe(t)),EPe=lt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:wPe(bPe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:js,size:n})*2,width:i||e.fn.size({sizes:js,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const TPe=EPe,_T=T.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:_,children:v=null,disabled:E,unstyled:S,thumbSize:w},x)=>{const{classes:I,cx:M,theme:C}=TPe({color:a,size:c,disabled:E,thumbSize:w},{classNames:u,styles:l,unstyled:S,name:"Slider"}),[D,q]=T.useState(!1),W=p||s||D||_;return N.createElement(ut,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:M(I.thumb,{[I.dragging]:s}),onFocus:()=>{q(!0),typeof y=="function"&&y()},onBlur:()=>{q(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:U=>U.stopPropagation(),style:{[C.dir==="rtl"?"right":"left"]:`${r}%`}},v,N.createElement(Hx,{mounted:i!=null&&W,duration:d,transition:f,timingFunction:h||C.transitionTimingFunction},U=>N.createElement("div",{style:U,className:I.label},i)))});_T.displayName="@mantine/core/SliderThumb";function SPe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var xPe=lt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:js})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:js,size:t}),width:e.fn.size({sizes:js,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:js,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const IPe=xPe;function pZ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=IPe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>N.createElement(ut,{className:h.markWrapper,sx:{left:`${yT({value:y.value,min:r,max:i})}%`},key:g},N.createElement("div",{className:p(h.mark,{[h.markFilled]:SPe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&N.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return N.createElement("div",null,m)}pZ.displayName="@mantine/core/SliderMarks";var APe=lt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:js,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:js}),marginLeft:e.fn.size({size:n,sizes:js}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:js}),left:-e.fn.size({size:n,sizes:js}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const CPe=APe;var OPe=Object.defineProperty,PPe=Object.defineProperties,RPe=Object.getOwnPropertyDescriptors,vT=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,gZ=Object.prototype.propertyIsEnumerable,NB=(e,t,n)=>t in e?OPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kPe=(e,t)=>{for(var n in t||(t={}))mZ.call(t,n)&&NB(e,n,t[n]);if(vT)for(var n of vT(t))gZ.call(t,n)&&NB(e,n,t[n]);return e},NPe=(e,t)=>PPe(e,RPe(t)),DPe=(e,t)=>{var n={};for(var r in e)mZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&gZ.call(e,r)&&(n[r]=e[r]);return n};function n$(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=DPe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=CPe({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return N.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},N.createElement(ut,{className:g.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:js})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:js})}px)`})}),u,N.createElement(pZ,NPe(kPe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}n$.displayName="@mantine/core/SliderTrack";var $Pe=Object.defineProperty,LPe=Object.defineProperties,MPe=Object.getOwnPropertyDescriptors,bT=Object.getOwnPropertySymbols,yZ=Object.prototype.hasOwnProperty,_Z=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?$Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FPe=(e,t)=>{for(var n in t||(t={}))yZ.call(t,n)&&DB(e,n,t[n]);if(bT)for(var n of bT(t))_Z.call(t,n)&&DB(e,n,t[n]);return e},BPe=(e,t)=>LPe(e,MPe(t)),jPe=(e,t)=>{var n={};for(var r in e)yZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&_Z.call(e,r)&&(n[r]=e[r]);return n};const r$=T.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=jPe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=pPe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return N.createElement(ut,BPe(FPe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});r$.displayName="@mantine/core/SliderRoot";var UPe=Object.defineProperty,VPe=Object.defineProperties,zPe=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,bZ=Object.prototype.propertyIsEnumerable,$B=(e,t,n)=>t in e?UPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HPe=(e,t)=>{for(var n in t||(t={}))vZ.call(t,n)&&$B(e,n,t[n]);if(wT)for(var n of wT(t))bZ.call(t,n)&&$B(e,n,t[n]);return e},qPe=(e,t)=>VPe(e,zPe(t)),WPe=(e,t)=>{var n={};for(var r in e)vZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&bZ.call(e,r)&&(n[r]=e[r]);return n};const YPe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},i$=T.forwardRef((e,t)=>{const n=ft("Slider",YPe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:_,labelTransition:v,labelTransitionDuration:E,labelTransitionTimingFunction:S,labelAlwaysOn:w,thumbLabel:x,showLabelOnHover:I,thumbChildren:M,disabled:C,unstyled:D,thumbSize:q,scale:W,inverted:U}=n,de=WPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ae=Bi(),[pe,ee]=T.useState(!1),[ie,K]=ta({value:typeof o=="number"?ef(o,f,d):o,defaultValue:typeof m=="number"?ef(m,f,d):m,finalValue:ef(0,f,d),onChange:a}),A=T.useRef(ie),O=T.useRef(),z=yT({value:ie,min:f,max:d}),k=W(ie),R=typeof _=="function"?_(k):_,Y=T.useCallback(({x:Se})=>{if(!C){const me=oR({value:Se,min:f,max:d,step:h,precision:p});K(me),A.current=me}},[C,f,d,h,p]),{ref:se,active:ue}=EG(Y,{onScrubEnd:()=>u==null?void 0:u(A.current)},ae.dir),he=Se=>{Se.stopPropagation()},fe=Se=>{if(!C)switch(Se.key){case"ArrowUp":{Se.preventDefault(),O.current.focus();const me=Math.min(Math.max(ie+h,f),d);u==null||u(me),K(me);break}case"ArrowRight":{Se.preventDefault(),O.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(me),K(me);break}case"ArrowDown":{Se.preventDefault(),O.current.focus();const me=Math.min(Math.max(ie-h,f),d);u==null||u(me),K(me);break}case"ArrowLeft":{Se.preventDefault(),O.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(me),K(me);break}case"Home":{Se.preventDefault(),O.current.focus(),u==null||u(f),K(f);break}case"End":{Se.preventDefault(),O.current.focus(),u==null||u(d),K(d);break}}};return N.createElement(r$,qPe(HPe({},de),{size:l,ref:sa(se,t),onKeyDownCapture:fe,onMouseDownCapture:()=>{var Se;return(Se=se.current)==null?void 0:Se.focus()},classNames:r,styles:i,disabled:C,unstyled:D}),N.createElement(n$,{inverted:U,offset:0,filled:z,marks:g,size:l,radius:c,color:s,min:f,max:d,value:k,onChange:K,onMouseEnter:I?()=>ee(!0):void 0,onMouseLeave:I?()=>ee(!1):void 0,classNames:r,styles:i,disabled:C,unstyled:D},N.createElement(_T,{max:d,min:f,value:k,position:z,dragging:ue,color:s,size:l,label:R,ref:O,onMouseDown:he,labelTransition:v,labelTransitionDuration:E,labelTransitionTimingFunction:S,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:I&&pe,disabled:C,unstyled:D,thumbSize:q},M)),N.createElement("input",{type:"hidden",name:y,value:k}))});i$.displayName="@mantine/core/Slider";function GPe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var KPe=Object.defineProperty,QPe=Object.defineProperties,XPe=Object.getOwnPropertyDescriptors,ET=Object.getOwnPropertySymbols,wZ=Object.prototype.hasOwnProperty,EZ=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?KPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZC=(e,t)=>{for(var n in t||(t={}))wZ.call(t,n)&&LB(e,n,t[n]);if(ET)for(var n of ET(t))EZ.call(t,n)&&LB(e,n,t[n]);return e},eO=(e,t)=>QPe(e,XPe(t)),JPe=(e,t)=>{var n={};for(var r in e)wZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&EZ.call(e,r)&&(n[r]=e[r]);return n};const ZPe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},aR=T.forwardRef((e,t)=>{const n=ft("RangeSlider",ZPe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:m,defaultValue:y,name:g,marks:_,label:v,labelTransition:E,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,thumbFromLabel:I,thumbToLabel:M,showLabelOnHover:C,thumbChildren:D,disabled:q,unstyled:W,thumbSize:U,scale:de,inverted:ae}=n,pe=JPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ee=Bi(),[ie,K]=T.useState(-1),[A,O]=T.useState(!1),[z,k]=ta({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),R=T.useRef(z),Y=T.useRef([]),se=T.useRef(void 0),ue=[yT({value:z[0],min:f,max:d}),yT({value:z[1],min:f,max:d})],he=Me=>{k(Me),R.current=Me};T.useEffect(()=>{Array.isArray(o)&&(R.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const fe=(Me,Ue,Et)=>{const ze=[...R.current];ze[Ue]=Me,Ue===0&&(Me>ze[1]-(h-1e-9)&&(ze[1]=Math.min(Me+h,d)),Me>(d-(h-1e-9)||f)&&(ze[Ue]=R.current[Ue])),Ue===1&&(Me<ze[0]+h&&(ze[0]=Math.max(Me-h,f)),Me<ze[0]+h&&(ze[Ue]=R.current[Ue])),he(ze),Et&&(u==null||u(R.current))},Se=Me=>{if(!q){const Ue=oR({value:Me,min:f,max:d,step:p,precision:m});fe(Ue,se.current,!1)}},{ref:me,active:Je}=EG(({x:Me})=>Se(Me),{onScrubEnd:()=>u==null?void 0:u(R.current)},ee.dir);function Ge(Me,Ue){Me.stopPropagation(),se.current=Ue}const qe=Me=>{me.current.focus();const Ue=me.current.getBoundingClientRect(),Et=GPe(Me.nativeEvent),ze=oR({value:Et-Ue.left,max:d,min:f,step:p,containerWidth:Ue.width}),_t=Math.abs(z[0]-ze)>Math.abs(z[1]-ze)?1:0,Gt=ee.dir==="ltr"?_t:_t===1?0:1;se.current=Gt},Le=()=>ie!==1&&ie!==0?(K(0),0):ie,Ae=Me=>{if(!q)switch(Me.key){case"ArrowUp":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(R.current[Ue]+p,f),d),Ue,!0);break}case"ArrowRight":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?R.current[Ue]-p:R.current[Ue]+p,f),d),Ue,!0);break}case"ArrowDown":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(R.current[Ue]-p,f),d),Ue,!0);break}case"ArrowLeft":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?R.current[Ue]+p:R.current[Ue]-p,f),d),Ue,!0);break}}},Ve={max:d,min:f,color:s,size:l,labelTransition:E,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,onBlur:()=>K(-1),classNames:r,styles:i},en=Array.isArray(D);return N.createElement(r$,eO(ZC({},pe),{size:l,ref:sa(me,t),onTouchStartCapture:qe,onTouchEndCapture:()=>{se.current=-1},onMouseDownCapture:qe,onMouseUpCapture:()=>{se.current=-1},onKeyDownCapture:Ae,styles:i,classNames:r,disabled:q,unstyled:W}),N.createElement(n$,{offset:ue[0],marksOffset:z[0],filled:ue[1]-ue[0],marks:_,inverted:ae,size:l,radius:c,color:s,min:f,max:d,value:z[1],styles:i,classNames:r,onMouseEnter:C?()=>O(!0):void 0,onMouseLeave:C?()=>O(!1):void 0,onChange:Me=>{const Ue=Math.abs(z[0]-Me)>Math.abs(z[1]-Me)?1:0,Et=[...z];Et[Ue]=Me,he(Et)},disabled:q,unstyled:W},N.createElement(_T,eO(ZC({},Ve),{value:de(z[0]),position:ue[0],dragging:Je,label:typeof v=="function"?v(de(z[0])):v,ref:Me=>{Y.current[0]=Me},thumbLabel:I,onMouseDown:Me=>Ge(Me,0),onFocus:()=>K(0),showLabelOnHover:C&&A,disabled:q,unstyled:W,thumbSize:U}),en?D[0]:D),N.createElement(_T,eO(ZC({},Ve),{thumbLabel:M,value:de(z[1]),position:ue[1],dragging:Je,label:typeof v=="function"?v(de(z[1])):v,ref:Me=>{Y.current[1]=Me},onMouseDown:Me=>Ge(Me,1),onFocus:()=>K(1),showLabelOnHover:C&&A,disabled:q,unstyled:W,thumbSize:U}),en?D[1]:D)),N.createElement("input",{type:"hidden",name:`${g}_from`,value:z[0]}),N.createElement("input",{type:"hidden",name:`${g}_to`,value:z[1]}))});aR.displayName="@mantine/core/RangeSlider";var e2e=Object.defineProperty,TT=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,SZ=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?e2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2e=(e,t)=>{for(var n in t||(t={}))TZ.call(t,n)&&MB(e,n,t[n]);if(TT)for(var n of TT(t))SZ.call(t,n)&&MB(e,n,t[n]);return e},n2e=(e,t)=>{var n={};for(var r in e)TZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&SZ.call(e,r)&&(n[r]=e[r]);return n};const r2e={w:0,h:0},ST=T.forwardRef((e,t)=>{const n=ft("Space",r2e,e),{w:r,h:i,sx:s}=n,o=n2e(n,["w","h","sx"]);return N.createElement(ut,t2e({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...Gd(s)]},o))});ST.displayName="@mantine/core/Space";var i2e=Object.defineProperty,s2e=Object.defineProperties,o2e=Object.getOwnPropertyDescriptors,FB=Object.getOwnPropertySymbols,a2e=Object.prototype.hasOwnProperty,u2e=Object.prototype.propertyIsEnumerable,BB=(e,t,n)=>t in e?i2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l2e=(e,t)=>{for(var n in t||(t={}))a2e.call(t,n)&&BB(e,n,t[n]);if(FB)for(var n of FB(t))u2e.call(t,n)&&BB(e,n,t[n]);return e},c2e=(e,t)=>s2e(e,o2e(t));function f2e(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function d2e(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var h2e=lt((e,{element:t,weight:n,size:r,inline:i})=>({root:c2e(l2e({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:f2e(r,t,e),lineHeight:i?1:d2e(r,t,e),margin:0})}));const p2e=h2e;var m2e=Object.defineProperty,xT=Object.getOwnPropertySymbols,xZ=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable,jB=(e,t,n)=>t in e?m2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g2e=(e,t)=>{for(var n in t||(t={}))xZ.call(t,n)&&jB(e,n,t[n]);if(xT)for(var n of xT(t))IZ.call(t,n)&&jB(e,n,t[n]);return e},y2e=(e,t)=>{var n={};for(var r in e)xZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&IZ.call(e,r)&&(n[r]=e[r]);return n};const _2e={order:1},Ac=T.forwardRef((e,t)=>{const n=ft("Title",_2e,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=y2e(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=p2e({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?N.createElement(yt,g2e({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Ac.displayName="@mantine/core/Title";function uR(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Gu="/amazing-vis-test/",v2e="https://github.com/revisit-studies/study/tree/main/public/";function b2e({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=Xm();return P.jsxs(JD,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[P.jsx(eg,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Gu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),P.jsx(yt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=uR(i);return P.jsx($x,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:P.jsxs(UTe,{shadow:"sm",radius:"md",withBorder:!0,children:[P.jsx(yt,{fw:"bold",children:s.studyMetadata.title}),P.jsxs(yt,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),P.jsx(yt,{c:"dimmed",children:s.studyMetadata.description}),P.jsx(yt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:P.jsxs(fK,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${v2e}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var AZ={exports:{}},CZ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=T;function w2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E2e=typeof Object.is=="function"?Object.is:w2e,T2e=mm.useState,S2e=mm.useEffect,x2e=mm.useLayoutEffect,I2e=mm.useDebugValue;function A2e(e,t){var n=t(),r=T2e({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return x2e(function(){i.value=n,i.getSnapshot=t,tO(i)&&s({inst:i})},[e,n,t]),S2e(function(){return tO(i)&&s({inst:i}),e(function(){tO(i)&&s({inst:i})})},[e]),I2e(n),n}function tO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E2e(e,n)}catch{return!0}}function C2e(e,t){return t()}var O2e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C2e:A2e;CZ.useSyncExternalStore=mm.useSyncExternalStore!==void 0?mm.useSyncExternalStore:O2e;AZ.exports=CZ;var P2e=AZ.exports,OZ={exports:{}},PZ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=T,R2e=P2e;function k2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N2e=typeof Object.is=="function"?Object.is:k2e,D2e=R2e.useSyncExternalStore,$2e=Yx.useRef,L2e=Yx.useEffect,M2e=Yx.useMemo,F2e=Yx.useDebugValue;PZ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=$2e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=M2e(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,N2e(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=D2e(e,s[0],s[1]);return L2e(function(){o.hasValue=!0,o.value=a},[a]),F2e(a),a};OZ.exports=PZ;var B2e=OZ.exports;function j2e(e){e()}let RZ=j2e;const U2e=e=>RZ=e,V2e=()=>RZ,gf=T.createContext(null);function kZ(){return T.useContext(gf)}const z2e=()=>{throw new Error("uSES not initialized!")};let NZ=z2e;const H2e=e=>{NZ=e},q2e=(e,t)=>e===t;function W2e(e=gf){const t=e===gf?kZ:()=>T.useContext(e);return function(r,i=q2e){const{store:s,subscription:o,getServerState:a}=t(),u=NZ(o.addNestedSub,s.getState,a||s.getState,r,i);return T.useDebugValue(u),u}}const Y2e=W2e();var Bn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s$=Symbol.for("react.element"),o$=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),G2e=Symbol.for("react.server_context"),Zx=Symbol.for("react.forward_ref"),eI=Symbol.for("react.suspense"),tI=Symbol.for("react.suspense_list"),nI=Symbol.for("react.memo"),rI=Symbol.for("react.lazy"),K2e=Symbol.for("react.offscreen"),DZ;DZ=Symbol.for("react.module.reference");function aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s$:switch(e=e.type,e){case Gx:case Qx:case Kx:case eI:case tI:return e;default:switch(e=e&&e.$$typeof,e){case G2e:case Jx:case Zx:case rI:case nI:case Xx:return e;default:return t}}case o$:return t}}}Bn.ContextConsumer=Jx;Bn.ContextProvider=Xx;Bn.Element=s$;Bn.ForwardRef=Zx;Bn.Fragment=Gx;Bn.Lazy=rI;Bn.Memo=nI;Bn.Portal=o$;Bn.Profiler=Qx;Bn.StrictMode=Kx;Bn.Suspense=eI;Bn.SuspenseList=tI;Bn.isAsyncMode=function(){return!1};Bn.isConcurrentMode=function(){return!1};Bn.isContextConsumer=function(e){return aa(e)===Jx};Bn.isContextProvider=function(e){return aa(e)===Xx};Bn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s$};Bn.isForwardRef=function(e){return aa(e)===Zx};Bn.isFragment=function(e){return aa(e)===Gx};Bn.isLazy=function(e){return aa(e)===rI};Bn.isMemo=function(e){return aa(e)===nI};Bn.isPortal=function(e){return aa(e)===o$};Bn.isProfiler=function(e){return aa(e)===Qx};Bn.isStrictMode=function(e){return aa(e)===Kx};Bn.isSuspense=function(e){return aa(e)===eI};Bn.isSuspenseList=function(e){return aa(e)===tI};Bn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gx||e===Qx||e===Kx||e===eI||e===tI||e===K2e||typeof e=="object"&&e!==null&&(e.$$typeof===rI||e.$$typeof===nI||e.$$typeof===Xx||e.$$typeof===Jx||e.$$typeof===Zx||e.$$typeof===DZ||e.getModuleId!==void 0)};Bn.typeOf=aa;function Q2e(){const e=V2e();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const UB={notify(){},get:()=>[]};function X2e(e,t){let n,r=UB;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=Q2e())}function l(){n&&(n(),n=void 0,r.clear(),r=UB)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const J2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z2e=J2e?T.useLayoutEffect:T.useEffect;function eRe({store:e,context:t,children:n,serverState:r}){const i=T.useMemo(()=>{const a=X2e(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=T.useMemo(()=>e.getState(),[e]);Z2e(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||gf;return N.createElement(o.Provider,{value:i},n)}function $Z(e=gf){const t=e===gf?kZ:()=>T.useContext(e);return function(){const{store:r}=t();return r}}const tRe=$Z();function nRe(e=gf){const t=e===gf?tRe:$Z(e);return function(){return t().dispatch}}const LZ=nRe();H2e(B2e.useSyncExternalStoreWithSelector);U2e(gh.unstable_batchedUpdates);const rRe={},iRe=Object.freeze(Object.defineProperty({__proto__:null,default:rRe},Symbol.toStringTag,{value:"Module"})),sRe=qfe(iRe);var oRe=sRe;function aRe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function uRe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function lRe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function cRe(e){return e.__COMMENTS__}function fRe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var iI={EOL:oRe.EOL||`
`,tryParseNumber:aRe,createComment:uRe,removeComment:lRe,getComment:cRe,forceComment:fRe},dRe="3.2.1";function hRe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return VB}else if(e.length===0)return VB;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return mRe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),pRe.bind(null,n)}function pRe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function VB(){}function mRe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function MZ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}MZ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function FZ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}FZ.description="parse hexadecimal numbers prefixed with 0x";function BZ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}BZ.description="support ISO dates";var a$={loadDsf:hRe,std:{math:MZ,hex:FZ,date:BZ}},gRe=function(e,t){var n=iI,r=a$,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(U){return U==="{"||U==="}"||U==="["||U==="]"||U===","||U===":"}function d(U){var de,ae=0,pe=1;for(de=s-1;de>0&&i[de]!==`
`;de--,ae++);for(;de>0;de--)i[de]===`
`&&pe++;throw new Error(U+" at line "+pe+","+ae+" >>>"+i.substr(s-ae,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(U){return i.charAt(s+U)}function m(U){for(var de="",ae=o;h();){if(o===ae)return h(),U&&ae==="'"&&o==="'"&&de.length===0?(h(),y()):de;if(o==="\\")if(h(),o==="u"){for(var pe=0,ee=0;ee<4;ee++){h();var ie=o.charCodeAt(0),K;o>="0"&&o<="9"?K=ie-48:o>="a"&&o<="f"?K=ie-97+10:o>="A"&&o<="F"?K=ie-65+10:d("Bad \\u char "+o),pe=pe*16+K}de+=String.fromCharCode(pe)}else if(typeof a[o]=="string")de+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):de+=o}d("Bad string")}function y(){for(var U="",de=0,ae=0;;){var pe=p(-ae-5);if(!pe||pe===`
`)break;ae++}function ee(){for(var ie=ae;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),ee());;){if(!o)d("Bad multiline string");else if(o==="'"){if(de++,h(),de===3)return U.slice(-1)===`
`&&(U=U.slice(0,-1)),U;continue}else for(;de>0;)U+="'",de--;o===`
`?(U+=`
`,h(),ee()):(o!=="\r"&&(U+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var U="",de=s,ae=-1;;){if(o===":")return U?ae>=0&&ae!==U.length&&(s=de+ae,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),U;o<=" "?o?ae<0&&(ae=U.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):U+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function v(){var U=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var de=o==="\r"||o===`
`||o==="";if(de||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ae=U[0];switch(ae){case"f":if(U.trim()==="false")return!1;break;case"n":if(U.trim()==="null")return null;break;case"t":if(U.trim()==="true")return!0;break;default:if(ae==="-"||ae>="0"&&ae<="9"){var pe=n.tryParseNumber(U);if(pe!==void 0)return pe}}if(de){U=U.trim();var ee=l(U);return ee!==void 0?ee:U}}U+=o}}function E(U,de){var ae;for(U--,ae=s-2;ae>U&&i[ae]<=" "&&i[ae]!==`
`;ae--);i[ae]===`
`&&ae--,i[ae]==="\r"&&ae--;var pe=i.substr(U,ae-U+1);for(ae=0;ae<pe.length;ae++)if(pe[ae]>" "){var ee=pe.indexOf(`
`);if(ee>=0){var ie=[pe.substr(0,ee),pe.substr(ee+1)];return de&&ie[0].trim().length===0&&ie.shift(),ie}else return[pe]}return[]}function S(U){function de(pe,ee){var ie,K,A,O;switch(typeof pe){case"string":pe.indexOf(ee)>=0&&(O=pe);break;case"object":if(Object.prototype.toString.apply(pe)==="[object Array]")for(ie=0,A=pe.length;ie<A;ie++)O=de(pe[ie],ee)||O;else for(K in pe)Object.prototype.hasOwnProperty.call(pe,K)&&(O=de(pe[K],ee)||O)}return O}function ae(pe){var ee=de(U,pe);return ee?"found '"+pe+`' in a string value, your mistake could be with:
  > `+ee+`
  (unquoted strings contain everything up to the next line!)`:""}return ae("}")||ae("]")}function w(){var U=[],de,ae,pe;try{if(u&&(de=n.createComment(U,{a:[]})),h(),ae=s,_(),de&&(pe=E(ae,!0).join(`
`)),o==="]")return h(),de&&(de.e=[pe]),U;for(;o;){if(U.push(I()),ae=s,_(),o===","&&(h(),ae=s,_()),de){var ee=E(ae);de.a.push([pe||"",ee[0]||""]),pe=ee[1]}if(o==="]")return h(),de&&(de.a[de.a.length-1][1]+=pe||""),U;_()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||S(U),ie}}function x(U){var de="",ae={},pe,ee,ie;try{if(u&&(pe=n.createComment(ae,{c:{},o:[]})),U?ee=1:(h(),ee=s),_(),pe&&(ie=E(ee,!0).join(`
`)),o==="}"&&!U)return pe&&(pe.e=[ie]),h(),ae;for(;o;){if(de=g(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ae[de]=I(),ee=s,_(),o===","&&(h(),ee=s,_()),pe){var K=E(ee);pe.c[de]=[ie||"",K[0]||""],ie=K[1],pe.o.push(de)}if(o==="}"&&!U)return h(),pe&&(pe.c[de][1]+=ie||""),ae;_()}if(U)return ae;d("End of input while parsing an object (missing '}')")}catch(A){throw A.hint=A.hint||S(ae),A}}function I(){switch(_(),o){case"{":return x();case"[":return w();case"'":case'"':return m(!0);default:return v()}}function M(U,de){var ae=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var pe=de.join(`
`),ee=E(ae).join(`
`);if(ee||pe){var ie=n.createComment(U,n.getComment(U));ie.r=[pe,ee]}}return U}function C(){_();var U=u?E(1):null;switch(o){case"{":return M(x(),U);case"[":return M(w(),U);default:return M(I(),U)}}function D(){_();var U=u?E(1):null;switch(o){case"{":return M(x(),U);case"[":return M(w(),U)}try{return M(x(!0),U)}catch(de){c();try{return M(I(),U)}catch{throw de}}}if(typeof e!="string")throw new Error("source is not a string");var q=null,W=!0;return t&&typeof t=="object"&&(u=t.keepWsc,q=t.dsf,W=t.legacyRoot!==!1),l=r.loadDsf(q,"parse"),i=e,c(),W?D():C()},yRe=function(e,t){var n=iI,r=a$,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,_=Object.keys(i);for(g=_.length-1;g>=0;g--){var v=_[g];y[v].push(i[v][0].length,i[v][1].length)}}var E,S="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+S+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+S+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+S+"]","g"),M=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),C={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},D=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,q="",W=0;function U(O,z){return W+=O[0].length+O[1].length-O[2]-O[3],O[0]+z+O[1]}function de(O){return O.replace(w,function(z){var k=C[z];return typeof k=="string"?U(y.esc,k):U(y.uni,("0000"+z.charCodeAt(0).toString(16)).slice(-4))})}function ae(O,z,k,R){return O?(x.lastIndex=0,M.lastIndex=0,c||k||x.test(O)||n.tryParseNumber(O,!0)!==void 0||M.test(O)?(w.lastIndex=0,I.lastIndex=0,w.test(O)?!I.test(O)&&!R&&d?pe(O,z):U(y.qstr,de(O)):U(y.qstr,O)):U(y.str,O)):U(y.qstr,"")}function pe(O,z){var k,R=O.replace(/\r/g,"").split(`
`);if(z+=o,R.length===1)return U(y.mstr,R[0]);var Y=s+z+y.mstr[0];for(k=0;k<R.length;k++)Y+=s,R[k]&&(Y+=z+R[k]);return Y+s+z+y.mstr[1]}function ee(O){return O?l||D.test(O)?(w.lastIndex=0,U(y.qkey,w.test(O)?de(O):O)):U(y.key,O):'""'}function ie(O,z,k,R){function Y(rt){return rt&&rt[rt[0]==="\r"?1:0]===`
`}function se(rt){return rt&&!Y(rt)}function ue(rt,En,qt){if(!rt)return"";rt=n.forceComment(rt);var xt,jn=rt.length;for(xt=0;xt<jn&&rt[xt]<=" ";xt++);return qt&&xt>0&&(rt=rt.substr(xt)),xt<jn?En+U(y.rem,rt):rt}var he=E(O);if(he!==void 0)return U(y.dsf,he);switch(typeof O){case"string":return ae(O,q,z,R);case"number":return isFinite(O)?U(y.num,String(O)):U(y.lit,"null");case"boolean":return U(y.lit,String(O));case"object":if(!O)return U(y.lit,"null");var fe;a&&(fe=n.getComment(O));var Se=Object.prototype.toString.apply(O)==="[object Array]",me=q;q+=o;var Je=s+me,Ge=s+q,qe=k||u?"":Je,Le=[],Ae,Ve=f?[]:null,en=c,Me=d,Ue=h?"":y.com[0],Et=0,ze,_t,Gt,ln,Kn,ce,Ee,Fe,ot;if(Se){for(ze=0,_t=O.length;ze<_t;ze++){if(Ae=ze<_t-1,fe?(ce=fe.a[ze]||[],Ee=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||Ee)&&(Ve=null)):Le.push(Ge),W=0,ln=O[ze],Le.push(ie(ln,fe?Ee:!1,!0)+(Ae?h:"")),Ve){switch(typeof ln){case"string":W=0,c=!0,d=0,Ve.push(ie(ln,!1,!0)+(Ae?y.com[0]:"")),c=en,d=Me;break;case"object":if(ln){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}Ae&&(W+=y.com[0].length-y.com[2]),Et+=W}fe&&ce[1]&&Le.push(ue(ce[1],Ee?" ":`
`,Ee))}_t===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Je):Le.push(Je),Le.length===0?Fe=U(y.arr,""):(Fe=qe+U(y.arr,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-Et<=f&&(Fe=U(y.arr,ot))))}else{var $e=fe?fe.o.slice():[],at=[];for(Gt in O)Object.prototype.hasOwnProperty.call(O,Gt)&&$e.indexOf(Gt)<0&&at.push(Gt);m&&at.sort();var Be=$e.concat(at);for(ze=0,_t=Be.length;ze<_t;ze++)if(Ae=ze<_t-1,Gt=Be[ze],fe?(ce=fe.c[Gt]||[],Ee=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||Ee)&&(Ve=null)):Le.push(Ge),W=0,ln=O[Gt],Kn=ie(ln,fe&&Ee),Le.push(ee(Gt)+y.col[0]+(Y(Kn)?"":" ")+Kn+(Ae?h:"")),fe&&ce[1]&&Le.push(ue(ce[1],Ee?" ":`
`,Ee)),Ve){switch(typeof ln){case"string":W=0,c=!0,d=0,Kn=ie(ln,!1),c=en,d=Me,Ve.push(ee(Gt)+y.col[0]+" "+Kn+(Ae?y.com[0]:""));break;case"object":if(ln){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}W+=y.col[0].length-y.col[2],Ae&&(W+=y.com[0].length-y.com[2]),Et+=W}_t===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Je):Le.push(Je),Le.length===0?Fe=U(y.obj,""):(Fe=qe+U(y.obj,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-Et<=f&&(Fe=U(y.obj,ot))))}return q=me,Fe}}E=r.loadDsf(p,"stringify");var K="",A=a?A=(n.getComment(e)||{}).r:null;return A&&A[0]&&(K=A[0]+`
`),K+=ie(e,null,!0,!0),A&&(K+=A[1]||""),K},Fp=iI;function J0(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function lR(e,t){if(!(e===null||typeof e!="object")){var n=Fp.getComment(e);n&&Fp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)zB(o.a,r,n.a[r],lR(e[r]))&&(s=!0);!s&&n.e&&(o.e=J0(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];zB(o.s,l,n.c[l],lR(e[l]))&&(s=!0)}!s&&n.e&&(o.e=J0(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=J0(n.r[0],n.r[1])),s?o:void 0}}function _Re(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function vRe(e,t){var n=[];if(cR(e,t,n,[]),n.length>0){var r=IT(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+_Re(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),IT(t,r,1)}}function zB(e,t,n,r){var i=J0(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Z0(e,t){var n=J0(t.b,t.a);return n.path=e,n}function ey(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Z0(s,o)),ey(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Z0(u,l)),ey(l.x,t,u))});e.e&&t.push(Z0(n,e.e))}}function cR(e,t,n,r){if(e){if(t===null||typeof t!="object"){ey(e,n,r);return}var i,s=Fp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],cR(u.x,t[i],n,l)):(n.push(Z0(l,u)),ey(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],cR(d.x,t[c],n,f))):d&&(n.push(Z0(f,d)),ey(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function IT(e,t,n){var r=Fp.createComment(e,Fp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Fp.forceComment(t)),r.r[n]||""}var bRe={extract:function(e){return lR(e,!0)},merge:vRe,header:function(e,t){return IT(e,t,0)},footer:function(e,t){return IT(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var HB=iI,wRe=dRe,qB=gRe,WB=yRe,ERe=bRe,TRe=a$,u$={parse:qB,stringify:WB,endOfLine:function(){return HB.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(HB.EOL=e)},version:wRe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,qB(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,WB(e,t)}},comments:ERe,dsf:TRe.std},fR={exports:{}},jZ={},La={},gm={},tv={},Yt={},Gy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((v,E)=>`${v}${E}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((v,E)=>(E instanceof n&&(v[E.str]=(v[E.str]||0)+1),v),{})}}e._Code=r,e.nil=new r("");function i(g,..._){const v=[g[0]];let E=0;for(;E<_.length;)a(v,_[E]),v.push(g[++E]);return new r(v)}e._=i;const s=new r("+");function o(g,..._){const v=[h(g[0])];let E=0;for(;E<_.length;)v.push(s),a(v,_[E]),v.push(s,h(g[++E]));return u(v),new r(v)}e.str=o;function a(g,_){_ instanceof r?g.push(..._._items):_ instanceof n?g.push(_):g.push(f(_))}e.addCodeArg=a;function u(g){let _=1;for(;_<g.length-1;){if(g[_]===s){const v=l(g[_-1],g[_+1]);if(v!==void 0){g.splice(_-1,3,v);continue}g[_++]="+"}_++}}function l(g,_){if(_==='""')return g;if(g==='""')return _;if(typeof g=="string")return _ instanceof n||g[g.length-1]!=='"'?void 0:typeof _!="string"?`${g.slice(0,-1)}${_}"`:_[0]==='"'?g.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(g instanceof n))return`"${g}${_.slice(1)}`}function c(g,_){return _.emptyStr()?g:g.emptyStr()?_:o`${g}${_}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(Gy);var dR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Gy;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const _=m.get(p);if(_)return _}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let _=c(g);if(_){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${v} ${g} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(g))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(dR);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Gy,n=dR;var r=Gy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=dR;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(k,R){return this}}class o extends s{constructor(k,R,Y){super(),this.varKind=k,this.name=R,this.rhs=Y}render({es5:k,_n:R}){const Y=k?n.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${se};`+R}optimizeNames(k,R){if(k[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,k,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(k,R,Y){super(),this.lhs=k,this.rhs=R,this.sideEffects=Y}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,R){if(!(this.lhs instanceof t.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,k,R),this}get names(){const k=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(k,this.rhs)}}class u extends a{constructor(k,R,Y,se){super(k,Y,se),this.op=R}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class l extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class c extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class f extends s{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class d extends s{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,R){return this.code=U(this.code,k,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((R,Y)=>R+Y.render(k),"")}optimizeNodes(){const{nodes:k}=this;let R=k.length;for(;R--;){const Y=k[R].optimizeNodes();Array.isArray(Y)?k.splice(R,1,...Y):Y?k[R]=Y:k.splice(R,1)}return k.length>0?this:void 0}optimizeNames(k,R){const{nodes:Y}=this;let se=Y.length;for(;se--;){const ue=Y[se];ue.optimizeNames(k,R)||(de(k,ue.names),Y.splice(se,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((k,R)=>q(k,R.names),{})}}class p extends h{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(k,R){super(R),this.condition=k}render(k){let R=`if(${this.condition})`+super.render(k);return this.else&&(R+="else "+this.else.render(k)),R}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let R=this.else;if(R){const Y=R.optimizeNodes();R=this.else=Array.isArray(Y)?new y(Y):Y}if(R)return k===!1?R instanceof g?R:R.nodes:this.nodes.length?this:new g(ae(k),R instanceof g?[R]:R.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,R){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(k,R),!!(super.optimizeNames(k,R)||this.else))return this.condition=U(this.condition,k,R),this}get names(){const k=super.names;return W(k,this.condition),this.else&&q(k,this.else.names),k}}g.kind="if";class _ extends p{}_.kind="for";class v extends _{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,R){if(super.optimizeNames(k,R))return this.iteration=U(this.iteration,k,R),this}get names(){return q(super.names,this.iteration.names)}}class E extends _{constructor(k,R,Y,se){super(),this.varKind=k,this.name=R,this.from=Y,this.to=se}render(k){const R=k.es5?n.varKinds.var:this.varKind,{name:Y,from:se,to:ue}=this;return`for(${R} ${Y}=${se}; ${Y}<${ue}; ${Y}++)`+super.render(k)}get names(){const k=W(super.names,this.from);return W(k,this.to)}}class S extends _{constructor(k,R,Y,se){super(),this.loop=k,this.varKind=R,this.name=Y,this.iterable=se}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,R){if(super.optimizeNames(k,R))return this.iterable=U(this.iterable,k,R),this}get names(){return q(super.names,this.iterable.names)}}class w extends p{constructor(k,R,Y){super(),this.name=k,this.args=R,this.async=Y}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}w.kind="func";class x extends h{render(k){return"return "+super.render(k)}}x.kind="return";class I extends p{render(k){let R="try"+super.render(k);return this.catch&&(R+=this.catch.render(k)),this.finally&&(R+=this.finally.render(k)),R}optimizeNodes(){var k,R;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(k,R){var Y,se;return super.optimizeNames(k,R),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(k,R),(se=this.finally)===null||se===void 0||se.optimizeNames(k,R),this}get names(){const k=super.names;return this.catch&&q(k,this.catch.names),this.finally&&q(k,this.finally.names),k}}class M extends p{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}M.kind="catch";class C extends p{render(k){return"finally"+super.render(k)}}C.kind="finally";class D{constructor(k,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=k,this._scope=new n.Scope({parent:k}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,R){const Y=this._extScope.value(k,R);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(k,R){return this._extScope.getValue(k,R)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,R,Y,se){const ue=this._scope.toName(R);return Y!==void 0&&se&&(this._constants[ue.str]=Y),this._leafNode(new o(k,ue,Y)),ue}const(k,R,Y){return this._def(n.varKinds.const,k,R,Y)}let(k,R,Y){return this._def(n.varKinds.let,k,R,Y)}var(k,R,Y){return this._def(n.varKinds.var,k,R,Y)}assign(k,R,Y){return this._leafNode(new a(k,R,Y))}add(k,R){return this._leafNode(new u(k,e.operators.ADD,R))}code(k){return typeof k=="function"?k():k!==t.nil&&this._leafNode(new d(k)),this}object(...k){const R=["{"];for(const[Y,se]of k)R.length>1&&R.push(","),R.push(Y),(Y!==se||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,se));return R.push("}"),new t._Code(R)}if(k,R,Y){if(this._blockNode(new g(k)),R&&Y)this.code(R).else().code(Y).endIf();else if(R)this.code(R).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new g(k))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(k,R){return this._blockNode(k),R&&this.code(R).endFor(),this}for(k,R){return this._for(new v(k),R)}forRange(k,R,Y,se,ue=this.opts.es5?n.varKinds.var:n.varKinds.let){const he=this._scope.toName(k);return this._for(new E(ue,he,R,Y),()=>se(he))}forOf(k,R,Y,se=n.varKinds.const){const ue=this._scope.toName(k);if(this.opts.es5){const he=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${he}.length`,fe=>{this.var(ue,(0,t._)`${he}[${fe}]`),Y(ue)})}return this._for(new S("of",se,ue,R),()=>Y(ue))}forIn(k,R,Y,se=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,t._)`Object.keys(${R})`,Y);const ue=this._scope.toName(k);return this._for(new S("in",se,ue,R),()=>Y(ue))}endFor(){return this._endBlockNode(_)}label(k){return this._leafNode(new l(k))}break(k){return this._leafNode(new c(k))}return(k){const R=new x;if(this._blockNode(R),this.code(k),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(k,R,Y){if(!R&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new I;if(this._blockNode(se),this.code(k),R){const ue=this.name("e");this._currNode=se.catch=new M(ue),R(ue)}return Y&&(this._currNode=se.finally=new C,this.code(Y)),this._endBlockNode(M,C)}throw(k){return this._leafNode(new f(k))}block(k,R){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(R),this}endBlock(k){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-R;if(Y<0||k!==void 0&&Y!==k)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${k} expected`);return this._nodes.length=R,this}func(k,R=t.nil,Y,se){return this._blockNode(new w(k,R,Y)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,R){const Y=this._currNode;if(Y instanceof k||R&&Y instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${k.kind}/${R.kind}`:k.kind}"`)}_elseNode(k){const R=this._currNode;if(!(R instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const R=this._nodes;R[R.length-1]=k}}e.CodeGen=D;function q(z,k){for(const R in k)z[R]=(z[R]||0)+(k[R]||0);return z}function W(z,k){return k instanceof t._CodeOrName?q(z,k.names):z}function U(z,k,R){if(z instanceof t.Name)return Y(z);if(!se(z))return z;return new t._Code(z._items.reduce((ue,he)=>(he instanceof t.Name&&(he=Y(he)),he instanceof t._Code?ue.push(...he._items):ue.push(he),ue),[]));function Y(ue){const he=R[ue.str];return he===void 0||k[ue.str]!==1?ue:(delete k[ue.str],he)}function se(ue){return ue instanceof t._Code&&ue._items.some(he=>he instanceof t.Name&&k[he.str]===1&&R[he.str]!==void 0)}}function de(z,k){for(const R in k)z[R]=(z[R]||0)-(k[R]||0)}function ae(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,t._)`!${O(z)}`}e.not=ae;const pe=A(e.operators.AND);function ee(...z){return z.reduce(pe)}e.and=ee;const ie=A(e.operators.OR);function K(...z){return z.reduce(ie)}e.or=K;function A(z){return(k,R)=>k===t.nil?R:R===t.nil?k:(0,t._)`${O(k)} ${z} ${O(R)}`}function O(z){return z instanceof t.Name?z:(0,t._)`(${z})`}})(Yt);var gn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Yt,n=Gy;function r(w){const x={};for(const I of w)x[I]=!0;return x}e.toHash=r;function i(w,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(w,x),!o(x,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,x=w.schema){const{opts:I,self:M}=w;if(!I.strictSchema||typeof x=="boolean")return;const C=M.RULES.keywords;for(const D in x)C[D]||S(w,`unknown keyword: "${D}"`)}e.checkUnknownRules=s;function o(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(x[I])return!0;return!1}e.schemaHasRules=o;function a(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(I!=="$ref"&&x.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:x},I,M,C){if(!C){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${w}${x}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,x){if(Array.isArray(w))for(const I of w)x(I);else x(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:x,mergeValues:I,resultToName:M}){return(C,D,q,W)=>{const U=q===void 0?D:q instanceof t.Name?(D instanceof t.Name?w(C,D,q):x(C,D,q),q):D instanceof t.Name?(x(C,q,D),D):I(D,q);return W===t.Name&&!(U instanceof t.Name)?M(C,U):U}}e.mergeEvaluated={props:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>{w.if((0,t._)`${x} === true`,()=>w.assign(I,!0),()=>w.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${x})`))}),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>{x===!0?w.assign(I,!0):(w.assign(I,(0,t._)`${I} || {}`),y(w,I,x))}),mergeValues:(w,x)=>w===!0?!0:{...w,...x},resultToName:m}),items:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>w.assign(I,(0,t._)`${x} === true ? true : ${I} > ${x} ? ${I} : ${x}`)),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>w.assign(I,x===!0?!0:(0,t._)`${I} > ${x} ? ${I} : ${x}`)),mergeValues:(w,x)=>w===!0?!0:Math.max(w,x),resultToName:(w,x)=>w.var("items",x)})};function m(w,x){if(x===!0)return w.var("props",!0);const I=w.var("props",(0,t._)`{}`);return x!==void 0&&y(w,I,x),I}e.evaluatedPropsToName=m;function y(w,x,I){Object.keys(I).forEach(M=>w.assign((0,t._)`${x}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=y;const g={};function _(w,x){return w.scopeValue("func",{ref:x,code:g[x.code]||(g[x.code]=new n._Code(x.code))})}e.useFunc=_;var v;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(v=e.Type||(e.Type={}));function E(w,x,I){if(w instanceof t.Name){const M=x===v.Num;return I?M?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:M?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=E;function S(w,x,I=w.opts.strictSchema){if(I){if(x=`strict mode: ${x}`,I===!0)throw new Error(x);w.self.logger.warn(x)}}e.checkStrictMode=S})(gn);var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Hi=Yt,SRe={data:new Hi.Name("data"),valCxt:new Hi.Name("valCxt"),instancePath:new Hi.Name("instancePath"),parentData:new Hi.Name("parentData"),parentDataProperty:new Hi.Name("parentDataProperty"),rootData:new Hi.Name("rootData"),dynamicAnchors:new Hi.Name("dynamicAnchors"),vErrors:new Hi.Name("vErrors"),errors:new Hi.Name("errors"),this:new Hi.Name("this"),self:new Hi.Name("self"),scope:new Hi.Name("scope"),json:new Hi.Name("json"),jsonPos:new Hi.Name("jsonPos"),jsonLen:new Hi.Name("jsonLen"),jsonPart:new Hi.Name("jsonPart")};Ku.default=SRe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Yt,n=gn,r=Ku;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,_,v){const{it:E}=y,{gen:S,compositeRule:w,allErrors:x}=E,I=f(y,g,_);v??(w||x)?u(S,I):l(E,(0,t._)`[${I}]`)}e.reportError=i;function s(y,g=e.keywordError,_){const{it:v}=y,{gen:E,compositeRule:S,allErrors:w}=v,x=f(y,g,_);u(E,x),S||w||l(v,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:_,data:v,errsCount:E,it:S}){if(E===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",E,r.default.errors,x=>{y.const(w,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,S.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${g}`),S.opts.verbose&&(y.assign((0,t._)`${w}.schema`,_),y.assign((0,t._)`${w}.data`,v))})}e.extendErrors=a;function u(y,g){const _=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:_,validateName:v,schemaEnv:E}=y;E.$async?_.throw((0,t._)`new ${y.ValidationError}(${g})`):(_.assign((0,t._)`${v}.errors`,g),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,_){const{createErrors:v}=y.it;return v===!1?(0,t._)`{}`:d(y,g,_)}function d(y,g,_={}){const{gen:v,it:E}=y,S=[h(E,_),p(y,_)];return m(y,g,S),v.object(...S)}function h({errorPath:y},{instancePath:g}){const _=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:_,parentSchema:v}){let E=v?g:(0,t.str)`${g}/${y}`;return _&&(E=(0,t.str)`${E}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,E]}function m(y,{params:g,message:_},v){const{keyword:E,data:S,schemaValue:w,it:x}=y,{opts:I,propertyName:M,topSchemaRef:C,schemaPath:D}=x;v.push([c.keyword,E],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),I.messages&&v.push([c.message,typeof _=="function"?_(y):_]),I.verbose&&v.push([c.schema,w],[c.parentSchema,(0,t._)`${C}${D}`],[r.default.data,S]),M&&v.push([c.propertyName,M])}})(tv);Object.defineProperty(gm,"__esModule",{value:!0});gm.boolOrEmptySchema=gm.topBoolOrEmptySchema=void 0;const xRe=tv,IRe=Yt,ARe=Ku,CRe={message:"boolean schema is false"};function ORe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?UZ(e,!1):typeof n=="object"&&n.$async===!0?t.return(ARe.default.data):(t.assign((0,IRe._)`${r}.errors`,null),t.return(!0))}gm.topBoolOrEmptySchema=ORe;function PRe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),UZ(e)):n.var(t,!0)}gm.boolOrEmptySchema=PRe;function UZ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,xRe.reportError)(i,CRe,void 0,t)}var nv={},Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.getRules=Qd.isJSONType=void 0;const RRe=["string","number","integer","boolean","null","object","array"],kRe=new Set(RRe);function NRe(e){return typeof e=="string"&&kRe.has(e)}Qd.isJSONType=NRe;function DRe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Qd.getRules=DRe;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.shouldUseRule=Pl.shouldUseGroup=Pl.schemaHasRulesForType=void 0;function $Re({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&VZ(e,r)}Pl.schemaHasRulesForType=$Re;function VZ(e,t){return t.rules.some(n=>zZ(e,n))}Pl.shouldUseGroup=VZ;function zZ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Pl.shouldUseRule=zZ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Qd,n=Pl,r=tv,i=Yt,s=gn;var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(v){const E=u(v.type);if(E.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&E.push("null")}return E}e.getSchemaTypes=a;function u(v){const E=Array.isArray(v)?v:v?[v]:[];if(E.every(t.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}e.getJSONTypes=u;function l(v,E){const{gen:S,data:w,opts:x}=v,I=f(E,x.coerceTypes),M=E.length>0&&!(I.length===0&&E.length===1&&(0,n.schemaHasRulesForType)(v,E[0]));if(M){const C=m(E,w,x.strictNumbers,o.Wrong);S.if(C,()=>{I.length?d(v,E,I):g(v)})}return M}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(v,E){return E?v.filter(S=>c.has(S)||E==="array"&&S==="array"):[]}function d(v,E,S){const{gen:w,data:x,opts:I}=v,M=w.let("dataType",(0,i._)`typeof ${x}`),C=w.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&w.if((0,i._)`${M} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>w.assign(x,(0,i._)`${x}[0]`).assign(M,(0,i._)`typeof ${x}`).if(m(E,x,I.strictNumbers),()=>w.assign(C,x))),w.if((0,i._)`${C} !== undefined`);for(const q of S)(c.has(q)||q==="array"&&I.coerceTypes==="array")&&D(q);w.else(),g(v),w.endIf(),w.if((0,i._)`${C} !== undefined`,()=>{w.assign(x,C),h(v,C)});function D(q){switch(q){case"string":w.elseIf((0,i._)`${M} == "number" || ${M} == "boolean"`).assign(C,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(C,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${M} == "boolean" || ${x} === null
              || (${M} == "string" && ${x} && ${x} == +${x})`).assign(C,(0,i._)`+${x}`);return;case"integer":w.elseIf((0,i._)`${M} === "boolean" || ${x} === null
              || (${M} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(C,(0,i._)`+${x}`);return;case"boolean":w.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(C,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(C,!0);return;case"null":w.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),w.assign(C,null);return;case"array":w.elseIf((0,i._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${x} === null`).assign(C,(0,i._)`[${x}]`)}}}function h({gen:v,parentData:E,parentDataProperty:S},w){v.if((0,i._)`${E} !== undefined`,()=>v.assign((0,i._)`${E}[${S}]`,w))}function p(v,E,S,w=o.Correct){const x=w===o.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(v){case"null":return(0,i._)`${E} ${x} null`;case"array":I=(0,i._)`Array.isArray(${E})`;break;case"object":I=(0,i._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":I=M((0,i._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":I=M();break;default:return(0,i._)`typeof ${E} ${x} ${v}`}return w===o.Correct?I:(0,i.not)(I);function M(C=i.nil){return(0,i.and)((0,i._)`typeof ${E} == "number"`,C,S?(0,i._)`isFinite(${E})`:i.nil)}}e.checkDataType=p;function m(v,E,S,w){if(v.length===1)return p(v[0],E,S,w);let x;const I=(0,s.toHash)(v);if(I.array&&I.object){const M=(0,i._)`typeof ${E} != "object"`;x=I.null?M:(0,i._)`!${E} || ${M}`,delete I.null,delete I.array,delete I.object}else x=i.nil;I.number&&delete I.integer;for(const M in I)x=(0,i.and)(x,p(M,E,S,w));return x}e.checkDataTypes=m;const y={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:E})=>typeof v=="string"?(0,i._)`{type: ${v}}`:(0,i._)`{type: ${E}}`};function g(v){const E=_(v);(0,r.reportError)(E,y)}e.reportTypeError=g;function _(v){const{gen:E,data:S,schema:w}=v,x=(0,s.schemaRefOrVal)(v,w,"type");return{gen:E,keyword:"type",data:S,schema:w.type,schemaCode:x,schemaValue:x,parentSchema:w,params:{},it:v}}})(nv);var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.assignDefaults=void 0;const Uh=Yt,LRe=gn;function MRe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)YB(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>YB(e,s,i.default))}sI.assignDefaults=MRe;function YB(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,Uh._)`${s}${(0,Uh.getProperty)(t)}`;if(i){(0,LRe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,Uh._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,Uh._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,Uh._)`${a} = ${(0,Uh.stringify)(n)}`)}var bu={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.validateUnion=Wt.validateArray=Wt.usePattern=Wt.callValidateCode=Wt.schemaProperties=Wt.allSchemaProperties=Wt.noPropertyInData=Wt.propertyInData=Wt.isOwnProperty=Wt.hasPropFunc=Wt.reportMissingProp=Wt.checkMissingProp=Wt.checkReportMissingProp=void 0;const Jn=Yt,l$=gn,gc=Ku,FRe=gn;function BRe(e,t){const{gen:n,data:r,it:i}=e;n.if(f$(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Jn._)`${t}`},!0),e.error()})}Wt.checkReportMissingProp=BRe;function jRe({gen:e,data:t,it:{opts:n}},r,i){return(0,Jn.or)(...r.map(s=>(0,Jn.and)(f$(e,t,s,n.ownProperties),(0,Jn._)`${i} = ${s}`)))}Wt.checkMissingProp=jRe;function URe(e,t){e.setParams({missingProperty:t},!0),e.error()}Wt.reportMissingProp=URe;function HZ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Jn._)`Object.prototype.hasOwnProperty`})}Wt.hasPropFunc=HZ;function c$(e,t,n){return(0,Jn._)`${HZ(e)}.call(${t}, ${n})`}Wt.isOwnProperty=c$;function VRe(e,t,n,r){const i=(0,Jn._)`${t}${(0,Jn.getProperty)(n)} !== undefined`;return r?(0,Jn._)`${i} && ${c$(e,t,n)}`:i}Wt.propertyInData=VRe;function f$(e,t,n,r){const i=(0,Jn._)`${t}${(0,Jn.getProperty)(n)} === undefined`;return r?(0,Jn.or)(i,(0,Jn.not)(c$(e,t,n))):i}Wt.noPropertyInData=f$;function qZ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Wt.allSchemaProperties=qZ;function zRe(e,t){return qZ(t).filter(n=>!(0,l$.alwaysValidSchema)(e,t[n]))}Wt.schemaProperties=zRe;function HRe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Jn._)`${e}, ${t}, ${r}${i}`:t,f=[[gc.default.instancePath,(0,Jn.strConcat)(gc.default.instancePath,s)],[gc.default.parentData,o.parentData],[gc.default.parentDataProperty,o.parentDataProperty],[gc.default.rootData,gc.default.rootData]];o.opts.dynamicRef&&f.push([gc.default.dynamicAnchors,gc.default.dynamicAnchors]);const d=(0,Jn._)`${c}, ${n.object(...f)}`;return u!==Jn.nil?(0,Jn._)`${a}.call(${u}, ${d})`:(0,Jn._)`${a}(${d})`}Wt.callValidateCode=HRe;const qRe=(0,Jn._)`new RegExp`;function WRe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Jn._)`${i.code==="new RegExp"?qRe:(0,FRe.useFunc)(e,i)}(${n}, ${r})`})}Wt.usePattern=WRe;function YRe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Jn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:l$.Type.Num},s),t.if((0,Jn.not)(s),a)})}}Wt.validateArray=YRe;function GRe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,l$.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Jn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Jn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Wt.validateUnion=GRe;Object.defineProperty(bu,"__esModule",{value:!0});bu.validateKeywordUsage=bu.validSchemaType=bu.funcKeywordCode=bu.macroKeywordCode=void 0;const hs=Yt,cd=Ku,KRe=Wt,QRe=tv;function XRe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=WZ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:hs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}bu.macroKeywordCode=XRe;function JRe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;eke(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=WZ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&GB(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&GB(e),y(()=>ZRe(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,hs._)`await `),_=>r.assign(f,!1).if((0,hs._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,hs._)`${_}.errors`),()=>r.throw(_))),g}function p(){const g=(0,hs._)`${c}.errors`;return r.assign(g,null),m(hs.nil),g}function m(g=t.async?(0,hs._)`await `:hs.nil){const _=u.opts.passContext?cd.default.this:cd.default.self,v=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,hs._)`${g}${(0,KRe.callValidateCode)(e,c,_,v)}`,t.modifying)}function y(g){var _;r.if((0,hs.not)((_=t.valid)!==null&&_!==void 0?_:f),g)}}bu.funcKeywordCode=JRe;function GB(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,hs._)`${r.parentData}[${r.parentDataProperty}]`))}function ZRe(e,t){const{gen:n}=e;n.if((0,hs._)`Array.isArray(${t})`,()=>{n.assign(cd.default.vErrors,(0,hs._)`${cd.default.vErrors} === null ? ${t} : ${cd.default.vErrors}.concat(${t})`).assign(cd.default.errors,(0,hs._)`${cd.default.vErrors}.length`),(0,QRe.extendErrors)(e)},()=>e.error())}function eke({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function WZ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,hs.stringify)(n)})}function tke(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}bu.validSchemaType=tke;function nke({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}bu.validateKeywordUsage=nke;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.extendSubschemaMode=rf.extendSubschemaData=rf.getSubschema=void 0;const fu=Yt,YZ=gn;function rke(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,fu._)`${e.schemaPath}${(0,fu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,fu._)`${e.schemaPath}${(0,fu.getProperty)(t)}${(0,fu.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,YZ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}rf.getSubschema=rke;function ike(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,fu._)`${t.data}${(0,fu.getProperty)(n)}`,!0);u(d),e.errorPath=(0,fu.str)`${l}${(0,YZ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,fu._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof fu.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}rf.extendSubschemaData=ike;function ske(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}rf.extendSubschemaMode=ske;var Pi={},d$=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const KB=qa(d$);var GZ={exports:{}},Vc=GZ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Lb(t,r,i,e,"",e)};Vc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Vc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Vc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Vc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Lb(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Vc.arrayKeywords)for(var d=0;d<f.length;d++)Lb(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Vc.propsKeywords){if(f&&typeof f=="object")for(var h in f)Lb(e,t,n,f[h],i+"/"+c+"/"+oke(h),s,i,c,r,h)}else(c in Vc.keywords||e.allKeys&&!(c in Vc.skipKeywords))&&Lb(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function oke(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ake=GZ.exports;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.getSchemaRefs=Pi.resolveUrl=Pi.normalizeId=Pi._getFullPath=Pi.getFullPath=Pi.inlineRef=void 0;const uke=gn,lke=d$,cke=ake,fke=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function dke(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hR(e):t?KZ(e)<=t:!1}Pi.inlineRef=dke;const hke=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hR(e){for(const t in e){if(hke.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(hR)||typeof n=="object"&&hR(n))return!0}return!1}function KZ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!fke.has(n)&&(typeof e[n]=="object"&&(0,uke.eachItem)(e[n],r=>t+=KZ(r)),t===1/0))return 1/0}return t}function QZ(e,t="",n){n!==!1&&(t=Bp(t));const r=e.parse(t);return XZ(e,r)}Pi.getFullPath=QZ;function XZ(e,t){return e.serialize(t).split("#")[0]+"#"}Pi._getFullPath=XZ;const pke=/#\/?$/;function Bp(e){return e?e.replace(pke,""):""}Pi.normalizeId=Bp;function mke(e,t,n){return n=Bp(n),e.resolve(t,n)}Pi.resolveUrl=mke;const gke=/^[a-z_][-a-z0-9._]*$/i;function yke(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Bp(e[n]||t),s={"":i},o=QZ(r,i,!1),a={},u=new Set;return cke(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function g(v){const E=this.opts.uriResolver.resolve;if(v=Bp(y?E(y,v):v),u.has(v))throw c(v);u.add(v);let S=this.refs[v];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?l(f,S.schema,v):v!==Bp(m)&&(v[0]==="#"?(l(f,a[v],v),a[v]=f):this.refs[v]=m),v}function _(v){if(typeof v=="string"){if(!gke.test(v))throw new Error(`invalid anchor "${v}"`);g.call(this,`#${v}`)}}}),a;function l(f,d,h){if(d!==void 0&&!lke(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Pi.getSchemaRefs=yke;Object.defineProperty(La,"__esModule",{value:!0});La.getData=La.KeywordCxt=La.validateFunctionCode=void 0;const JZ=gm,QB=nv,h$=Pl,AT=nv,_ke=sI,ty=bu,nO=rf,it=Yt,vt=Ku,vke=Pi,Rl=gn,Xg=tv;function bke(e){if(tee(e)&&(nee(e),eee(e))){Tke(e);return}ZZ(e,()=>(0,JZ.topBoolOrEmptySchema)(e))}La.validateFunctionCode=bke;function ZZ({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,it._)`${vt.default.data}, ${vt.default.valCxt}`,r.$async,()=>{e.code((0,it._)`"use strict"; ${XB(n,i)}`),Eke(e,i),e.code(s)}):e.func(t,(0,it._)`${vt.default.data}, ${wke(i)}`,r.$async,()=>e.code(XB(n,i)).code(s))}function wke(e){return(0,it._)`{${vt.default.instancePath}="", ${vt.default.parentData}, ${vt.default.parentDataProperty}, ${vt.default.rootData}=${vt.default.data}${e.dynamicRef?(0,it._)`, ${vt.default.dynamicAnchors}={}`:it.nil}}={}`}function Eke(e,t){e.if(vt.default.valCxt,()=>{e.var(vt.default.instancePath,(0,it._)`${vt.default.valCxt}.${vt.default.instancePath}`),e.var(vt.default.parentData,(0,it._)`${vt.default.valCxt}.${vt.default.parentData}`),e.var(vt.default.parentDataProperty,(0,it._)`${vt.default.valCxt}.${vt.default.parentDataProperty}`),e.var(vt.default.rootData,(0,it._)`${vt.default.valCxt}.${vt.default.rootData}`),t.dynamicRef&&e.var(vt.default.dynamicAnchors,(0,it._)`${vt.default.valCxt}.${vt.default.dynamicAnchors}`)},()=>{e.var(vt.default.instancePath,(0,it._)`""`),e.var(vt.default.parentData,(0,it._)`undefined`),e.var(vt.default.parentDataProperty,(0,it._)`undefined`),e.var(vt.default.rootData,vt.default.data),t.dynamicRef&&e.var(vt.default.dynamicAnchors,(0,it._)`{}`)})}function Tke(e){const{schema:t,opts:n,gen:r}=e;ZZ(e,()=>{n.$comment&&t.$comment&&iee(e),Cke(e),r.let(vt.default.vErrors,null),r.let(vt.default.errors,0),n.unevaluated&&Ske(e),ree(e),Rke(e)})}function Ske(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,it._)`${n}.evaluated`),t.if((0,it._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,it._)`${e.evaluated}.props`,(0,it._)`undefined`)),t.if((0,it._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,it._)`${e.evaluated}.items`,(0,it._)`undefined`))}function XB(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,it._)`/*# sourceURL=${n} */`:it.nil}function xke(e,t){if(tee(e)&&(nee(e),eee(e))){Ike(e,t);return}(0,JZ.boolOrEmptySchema)(e,t)}function eee({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function tee(e){return typeof e.schema!="boolean"}function Ike(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&iee(e),Oke(e),Pke(e);const s=r.const("_errs",vt.default.errors);ree(e,s),r.var(t,(0,it._)`${s} === ${vt.default.errors}`)}function nee(e){(0,Rl.checkUnknownRules)(e),Ake(e)}function ree(e,t){if(e.opts.jtd)return JB(e,[],!1,t);const n=(0,QB.getSchemaTypes)(e.schema),r=(0,QB.coerceAndCheckDataType)(e,n);JB(e,n,!r,t)}function Ake(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Rl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Cke(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Rl.checkStrictMode)(e,"default is ignored in the schema root")}function Oke(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,vke.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Pke(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function iee({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,it._)`${vt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,it.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,it._)`${vt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function Rke(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,it._)`${vt.default.errors} === 0`,()=>t.return(vt.default.data),()=>t.throw((0,it._)`new ${i}(${vt.default.vErrors})`)):(t.assign((0,it._)`${r}.errors`,vt.default.vErrors),s.unevaluated&&kke(e),t.return((0,it._)`${vt.default.errors} === 0`))}function kke({gen:e,evaluated:t,props:n,items:r}){n instanceof it.Name&&e.assign((0,it._)`${t}.props`,n),r instanceof it.Name&&e.assign((0,it._)`${t}.items`,r)}function JB(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Rl.schemaHasRulesButRef)(s,c))){i.block(()=>aee(e,"$ref",c.all.$ref.definition));return}u.jtd||Nke(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,h$.shouldUseGroup)(s,d)&&(d.type?(i.if((0,AT.checkDataType)(d.type,o,u.strictNumbers)),ZB(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,AT.reportTypeError)(e)),i.endIf()):ZB(e,d),a||i.if((0,it._)`${vt.default.errors} === ${r||0}`))}}function ZB(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,_ke.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,h$.shouldUseRule)(r,s)&&aee(e,s.keyword,s.definition,t.type)})}function Nke(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Dke(e,t),e.opts.allowUnionTypes||$ke(e,t),Lke(e,e.dataTypes))}function Dke(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{see(e.dataTypes,n)||p$(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),Fke(e,t)}}function $ke(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&p$(e,"use allowUnionTypes to allow union type keyword")}function Lke(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,h$.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Mke(t,o))&&p$(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function Mke(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function see(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Fke(e,t){const n=[];for(const r of e.dataTypes)see(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function p$(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Rl.checkStrictMode)(e,t,e.opts.strictTypes)}class oee{constructor(t,n,r){if((0,ty.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Rl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",uee(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,ty.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",vt.default.errors))}result(t,n,r){this.failResult((0,it.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,it.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,it._)`${n} !== undefined && (${(0,it.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Xg.reportExtraError:Xg.reportError)(this,this.def.error,n)}$dataError(){(0,Xg.reportError)(this,this.def.$dataError||Xg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Xg.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=it.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=it.nil,n=it.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,it.or)((0,it._)`${i} === undefined`,n)),t!==it.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==it.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,it.or)(o(),a());function o(){if(r.length){if(!(n instanceof it.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,it._)`${(0,AT.checkDataTypes)(u,n,s.opts.strictNumbers,AT.DataType.Wrong)}`}return it.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,it._)`!${u}(${n})`}return it.nil}}subschema(t,n){const r=(0,nO.getSubschema)(this.it,t);(0,nO.extendSubschemaData)(r,this.it,t),(0,nO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return xke(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Rl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Rl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,it.Name)),!0}}La.KeywordCxt=oee;function aee(e,t,n,r){const i=new oee(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,ty.funcKeywordCode)(i,n):"macro"in n?(0,ty.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,ty.funcKeywordCode)(i,n)}const Bke=/^\/(?:[^~]|~0|~1)*$/,jke=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function uee(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return vt.default.rootData;if(e[0]==="/"){if(!Bke.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=vt.default.rootData}else{const l=jke.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,it._)`${s}${(0,it.getProperty)((0,Rl.unescapeJsonPointer)(l))}`,o=(0,it._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}La.getData=uee;var rv={};Object.defineProperty(rv,"__esModule",{value:!0});class Uke extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}rv.default=Uke;var iv={};Object.defineProperty(iv,"__esModule",{value:!0});const rO=Pi;class Vke extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,rO.resolveUrl)(t,n,r),this.missingSchema=(0,rO.normalizeId)((0,rO.getFullPath)(t,this.missingRef))}}iv.default=Vke;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.resolveSchema=Us.getCompilingSchema=Us.resolveRef=Us.compileSchema=Us.SchemaEnv=void 0;const _a=Yt,zke=rv,Xf=Ku,Ca=Pi,ej=gn,Hke=La;class oI{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Ca.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Us.SchemaEnv=oI;function m$(e){const t=lee.call(this,e);if(t)return t;const n=(0,Ca.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new _a.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:zke.default,code:(0,_a._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Xf.default.data,parentData:Xf.default.parentData,parentDataProperty:Xf.default.parentDataProperty,dataNames:[Xf.default.data],dataPathArr:[_a.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,_a.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:_a.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_a._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Hke.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Xf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Xf.default.self}`,`${Xf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof _a.Name?void 0:p,items:m instanceof _a.Name?void 0:m,dynamicProps:p instanceof _a.Name,dynamicItems:m instanceof _a.Name},h.source&&(h.source.evaluated=(0,_a.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Us.compileSchema=m$;function qke(e,t,n){var r;n=(0,Ca.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=Gke.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new oI({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=Wke.call(this,s)}Us.resolveRef=qke;function Wke(e){return(0,Ca.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:m$.call(this,e)}function lee(e){for(const t of this._compilations)if(Yke(t,e))return t}Us.getCompilingSchema=lee;function Yke(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Gke(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||aI.call(this,e,t)}function aI(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Ca._getFullPath)(this.opts.uriResolver,n);let i=(0,Ca.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return iO.call(this,n,e);const s=(0,Ca.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=aI.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:iO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||m$.call(this,o),s===(0,Ca.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Ca.resolveUrl)(this.opts.uriResolver,i,l)),new oI({schema:a,schemaId:u,root:e,baseId:i})}return iO.call(this,n,o)}}Us.resolveSchema=aI;const Kke=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function iO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,ej.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!Kke.has(a)&&l&&(t=(0,Ca.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,ej.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Ca.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=aI.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new oI({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const Qke="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Xke="Meta-schema for $data reference (JSON AnySchema extension proposal)",Jke="object",Zke=["$data"],eNe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},tNe=!1,nNe={$id:Qke,description:Xke,type:Jke,required:Zke,properties:eNe,additionalProperties:tNe};var g$={},pR={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(mo,function(n){function r(){for(var X=arguments.length,V=Array(X),Z=0;Z<X;Z++)V[Z]=arguments[Z];if(V.length>1){V[0]=V[0].slice(0,-1);for(var ye=V.length-1,ge=1;ge<ye;++ge)V[ge]=V[ge].slice(1,-1);return V[ye]=V[ye].slice(1),V.join("")}else return V[0]}function i(X){return"(?:"+X+")"}function s(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function o(X){return X.toUpperCase()}function a(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function u(X,V){var Z=X;if(V)for(var ye in V)Z[ye]=V[ye];return Z}function l(X){var V="[A-Za-z]",Z="[0-9]",ye=r(Z,"[A-Fa-f]"),ge=i(i("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+i("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+i("%"+ye+ye)),Ke="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=r(Ke,Te),dt=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",nt=X?"[\\uE000-\\uF8FF]":"[]",gt=r(V,Z,"[\\-\\.\\_\\~]",dt);i(V+r(V,Z,"[\\+\\-\\.]")+"*"),i(i(ge+"|"+r(gt,Te,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+Z)+"|"+i("1"+Z+Z)+"|"+i("0?[1-9]"+Z)+"|0?0?"+Z),Ln=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),mt=i(ye+"{1,4}"),Cn=i(i(mt+"\\:"+mt)+"|"+Ln),Tt=i(i(mt+"\\:")+"{6}"+Cn),yn=i("\\:\\:"+i(mt+"\\:")+"{5}"+Cn),ir=i(i(mt)+"?\\:\\:"+i(mt+"\\:")+"{4}"+Cn),Kr=i(i(i(mt+"\\:")+"{0,1}"+mt)+"?\\:\\:"+i(mt+"\\:")+"{3}"+Cn),Nr=i(i(i(mt+"\\:")+"{0,2}"+mt)+"?\\:\\:"+i(mt+"\\:")+"{2}"+Cn),cs=i(i(i(mt+"\\:")+"{0,3}"+mt)+"?\\:\\:"+mt+"\\:"+Cn),wi=i(i(i(mt+"\\:")+"{0,4}"+mt)+"?\\:\\:"+Cn),gr=i(i(i(mt+"\\:")+"{0,5}"+mt)+"?\\:\\:"+mt),Xe=i(i(i(mt+"\\:")+"{0,6}"+mt)+"?\\:\\:"),zt=i([Tt,yn,ir,Kr,Nr,cs,wi,gr,Xe].join("|")),qn=i(i(gt+"|"+ge)+"+");i("[vV]"+ye+"+\\."+r(gt,Te,"[\\:]")+"+"),i(i(ge+"|"+r(gt,Te))+"*");var ui=i(ge+"|"+r(gt,Te,"[\\:\\@]"));return i(i(ge+"|"+r(gt,Te,"[\\@]"))+"+"),i(i(ui+"|"+r("[\\/\\?]",nt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",V,Z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",gt,Te),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",gt,Te),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",gt,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",gt,Te),"g"),NOT_QUERY:new RegExp(r("[^\\%]",gt,Te,"[\\:\\@\\/\\?]",nt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",gt,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",gt,Te),"g"),UNRESERVED:new RegExp(gt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",gt,We),"g"),PCT_ENCODED:new RegExp(ge,"g"),IPV4ADDRESS:new RegExp("^("+Ln+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+ye+"{2})")+"("+qn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function X(V,Z){var ye=[],ge=!0,Ke=!1,Te=void 0;try{for(var We=V[Symbol.iterator](),dt;!(ge=(dt=We.next()).done)&&(ye.push(dt.value),!(Z&&ye.length===Z));ge=!0);}catch(nt){Ke=!0,Te=nt}finally{try{!ge&&We.return&&We.return()}finally{if(Ke)throw Te}}return ye}return function(V,Z){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return X(V,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(X){if(Array.isArray(X)){for(var V=0,Z=Array(X.length);V<X.length;V++)Z[V]=X[V];return Z}else return Array.from(X)},p=2147483647,m=36,y=1,g=26,_=38,v=700,E=72,S=128,w="-",x=/^xn--/,I=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=m-y,q=Math.floor,W=String.fromCharCode;function U(X){throw new RangeError(C[X])}function de(X,V){for(var Z=[],ye=X.length;ye--;)Z[ye]=V(X[ye]);return Z}function ae(X,V){var Z=X.split("@"),ye="";Z.length>1&&(ye=Z[0]+"@",X=Z[1]),X=X.replace(M,".");var ge=X.split("."),Ke=de(ge,V).join(".");return ye+Ke}function pe(X){for(var V=[],Z=0,ye=X.length;Z<ye;){var ge=X.charCodeAt(Z++);if(ge>=55296&&ge<=56319&&Z<ye){var Ke=X.charCodeAt(Z++);(Ke&64512)==56320?V.push(((ge&1023)<<10)+(Ke&1023)+65536):(V.push(ge),Z--)}else V.push(ge)}return V}var ee=function(V){return String.fromCodePoint.apply(String,h(V))},ie=function(V){return V-48<10?V-22:V-65<26?V-65:V-97<26?V-97:m},K=function(V,Z){return V+22+75*(V<26)-((Z!=0)<<5)},A=function(V,Z,ye){var ge=0;for(V=ye?q(V/v):V>>1,V+=q(V/Z);V>D*g>>1;ge+=m)V=q(V/D);return q(ge+(D+1)*V/(V+_))},O=function(V){var Z=[],ye=V.length,ge=0,Ke=S,Te=E,We=V.lastIndexOf(w);We<0&&(We=0);for(var dt=0;dt<We;++dt)V.charCodeAt(dt)>=128&&U("not-basic"),Z.push(V.charCodeAt(dt));for(var nt=We>0?We+1:0;nt<ye;){for(var gt=ge,Lt=1,Ln=m;;Ln+=m){nt>=ye&&U("invalid-input");var mt=ie(V.charCodeAt(nt++));(mt>=m||mt>q((p-ge)/Lt))&&U("overflow"),ge+=mt*Lt;var Cn=Ln<=Te?y:Ln>=Te+g?g:Ln-Te;if(mt<Cn)break;var Tt=m-Cn;Lt>q(p/Tt)&&U("overflow"),Lt*=Tt}var yn=Z.length+1;Te=A(ge-gt,yn,gt==0),q(ge/yn)>p-Ke&&U("overflow"),Ke+=q(ge/yn),ge%=yn,Z.splice(ge++,0,Ke)}return String.fromCodePoint.apply(String,Z)},z=function(V){var Z=[];V=pe(V);var ye=V.length,ge=S,Ke=0,Te=E,We=!0,dt=!1,nt=void 0;try{for(var gt=V[Symbol.iterator](),Lt;!(We=(Lt=gt.next()).done);We=!0){var Ln=Lt.value;Ln<128&&Z.push(W(Ln))}}catch(be){dt=!0,nt=be}finally{try{!We&&gt.return&&gt.return()}finally{if(dt)throw nt}}var mt=Z.length,Cn=mt;for(mt&&Z.push(w);Cn<ye;){var Tt=p,yn=!0,ir=!1,Kr=void 0;try{for(var Nr=V[Symbol.iterator](),cs;!(yn=(cs=Nr.next()).done);yn=!0){var wi=cs.value;wi>=ge&&wi<Tt&&(Tt=wi)}}catch(be){ir=!0,Kr=be}finally{try{!yn&&Nr.return&&Nr.return()}finally{if(ir)throw Kr}}var gr=Cn+1;Tt-ge>q((p-Ke)/gr)&&U("overflow"),Ke+=(Tt-ge)*gr,ge=Tt;var Xe=!0,zt=!1,qn=void 0;try{for(var ui=V[Symbol.iterator](),xs;!(Xe=(xs=ui.next()).done);Xe=!0){var $=xs.value;if($<ge&&++Ke>p&&U("overflow"),$==ge){for(var Q=Ke,B=m;;B+=m){var ne=B<=Te?y:B>=Te+g?g:B-Te;if(Q<ne)break;var oe=Q-ne,te=m-ne;Z.push(W(K(ne+oe%te,0))),Q=q(oe/te)}Z.push(W(K(Q,0))),Te=A(Ke,gr,Cn==mt),Ke=0,++Cn}}}catch(be){zt=!0,qn=be}finally{try{!Xe&&ui.return&&ui.return()}finally{if(zt)throw qn}}++Ke,++ge}return Z.join("")},k=function(V){return ae(V,function(Z){return x.test(Z)?O(Z.slice(4).toLowerCase()):Z})},R=function(V){return ae(V,function(Z){return I.test(Z)?"xn--"+z(Z):Z})},Y={version:"2.1.0",ucs2:{decode:pe,encode:ee},decode:O,encode:z,toASCII:R,toUnicode:k},se={};function ue(X){var V=X.charCodeAt(0),Z=void 0;return V<16?Z="%0"+V.toString(16).toUpperCase():V<128?Z="%"+V.toString(16).toUpperCase():V<2048?Z="%"+(V>>6|192).toString(16).toUpperCase()+"%"+(V&63|128).toString(16).toUpperCase():Z="%"+(V>>12|224).toString(16).toUpperCase()+"%"+(V>>6&63|128).toString(16).toUpperCase()+"%"+(V&63|128).toString(16).toUpperCase(),Z}function he(X){for(var V="",Z=0,ye=X.length;Z<ye;){var ge=parseInt(X.substr(Z+1,2),16);if(ge<128)V+=String.fromCharCode(ge),Z+=3;else if(ge>=194&&ge<224){if(ye-Z>=6){var Ke=parseInt(X.substr(Z+4,2),16);V+=String.fromCharCode((ge&31)<<6|Ke&63)}else V+=X.substr(Z,6);Z+=6}else if(ge>=224){if(ye-Z>=9){var Te=parseInt(X.substr(Z+4,2),16),We=parseInt(X.substr(Z+7,2),16);V+=String.fromCharCode((ge&15)<<12|(Te&63)<<6|We&63)}else V+=X.substr(Z,9);Z+=9}else V+=X.substr(Z,3),Z+=3}return V}function fe(X,V){function Z(ye){var ge=he(ye);return ge.match(V.UNRESERVED)?ge:ye}return X.scheme&&(X.scheme=String(X.scheme).replace(V.PCT_ENCODED,Z).toLowerCase().replace(V.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(V.PCT_ENCODED,Z).replace(V.NOT_USERINFO,ue).replace(V.PCT_ENCODED,o)),X.host!==void 0&&(X.host=String(X.host).replace(V.PCT_ENCODED,Z).toLowerCase().replace(V.NOT_HOST,ue).replace(V.PCT_ENCODED,o)),X.path!==void 0&&(X.path=String(X.path).replace(V.PCT_ENCODED,Z).replace(X.scheme?V.NOT_PATH:V.NOT_PATH_NOSCHEME,ue).replace(V.PCT_ENCODED,o)),X.query!==void 0&&(X.query=String(X.query).replace(V.PCT_ENCODED,Z).replace(V.NOT_QUERY,ue).replace(V.PCT_ENCODED,o)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(V.PCT_ENCODED,Z).replace(V.NOT_FRAGMENT,ue).replace(V.PCT_ENCODED,o)),X}function Se(X){return X.replace(/^0*(.*)/,"$1")||"0"}function me(X,V){var Z=X.match(V.IPV4ADDRESS)||[],ye=d(Z,2),ge=ye[1];return ge?ge.split(".").map(Se).join("."):X}function Je(X,V){var Z=X.match(V.IPV6ADDRESS)||[],ye=d(Z,3),ge=ye[1],Ke=ye[2];if(ge){for(var Te=ge.toLowerCase().split("::").reverse(),We=d(Te,2),dt=We[0],nt=We[1],gt=nt?nt.split(":").map(Se):[],Lt=dt.split(":").map(Se),Ln=V.IPV4ADDRESS.test(Lt[Lt.length-1]),mt=Ln?7:8,Cn=Lt.length-mt,Tt=Array(mt),yn=0;yn<mt;++yn)Tt[yn]=gt[yn]||Lt[Cn+yn]||"";Ln&&(Tt[mt-1]=me(Tt[mt-1],V));var ir=Tt.reduce(function(gr,Xe,zt){if(!Xe||Xe==="0"){var qn=gr[gr.length-1];qn&&qn.index+qn.length===zt?qn.length++:gr.push({index:zt,length:1})}return gr},[]),Kr=ir.sort(function(gr,Xe){return Xe.length-gr.length})[0],Nr=void 0;if(Kr&&Kr.length>1){var cs=Tt.slice(0,Kr.index),wi=Tt.slice(Kr.index+Kr.length);Nr=cs.join(":")+"::"+wi.join(":")}else Nr=Tt.join(":");return Ke&&(Nr+="%"+Ke),Nr}else return X}var Ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function Le(X){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z={},ye=V.iri!==!1?f:c;V.reference==="suffix"&&(X=(V.scheme?V.scheme+":":"")+"//"+X);var ge=X.match(Ge);if(ge){qe?(Z.scheme=ge[1],Z.userinfo=ge[3],Z.host=ge[4],Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=ge[7],Z.fragment=ge[8],isNaN(Z.port)&&(Z.port=ge[5])):(Z.scheme=ge[1]||void 0,Z.userinfo=X.indexOf("@")!==-1?ge[3]:void 0,Z.host=X.indexOf("//")!==-1?ge[4]:void 0,Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=X.indexOf("?")!==-1?ge[7]:void 0,Z.fragment=X.indexOf("#")!==-1?ge[8]:void 0,isNaN(Z.port)&&(Z.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ge[4]:void 0)),Z.host&&(Z.host=Je(me(Z.host,ye),ye)),Z.scheme===void 0&&Z.userinfo===void 0&&Z.host===void 0&&Z.port===void 0&&!Z.path&&Z.query===void 0?Z.reference="same-document":Z.scheme===void 0?Z.reference="relative":Z.fragment===void 0?Z.reference="absolute":Z.reference="uri",V.reference&&V.reference!=="suffix"&&V.reference!==Z.reference&&(Z.error=Z.error||"URI is not a "+V.reference+" reference.");var Ke=se[(V.scheme||Z.scheme||"").toLowerCase()];if(!V.unicodeSupport&&(!Ke||!Ke.unicodeSupport)){if(Z.host&&(V.domainHost||Ke&&Ke.domainHost))try{Z.host=Y.toASCII(Z.host.replace(ye.PCT_ENCODED,he).toLowerCase())}catch(Te){Z.error=Z.error||"Host's domain name can not be converted to ASCII via punycode: "+Te}fe(Z,c)}else fe(Z,ye);Ke&&Ke.parse&&Ke.parse(Z,V)}else Z.error=Z.error||"URI can not be parsed.";return Z}function Ae(X,V){var Z=V.iri!==!1?f:c,ye=[];return X.userinfo!==void 0&&(ye.push(X.userinfo),ye.push("@")),X.host!==void 0&&ye.push(Je(me(String(X.host),Z),Z).replace(Z.IPV6ADDRESS,function(ge,Ke,Te){return"["+Ke+(Te?"%25"+Te:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(ye.push(":"),ye.push(String(X.port))),ye.length?ye.join(""):void 0}var Ve=/^\.\.?\//,en=/^\/\.(\/|$)/,Me=/^\/\.\.(\/|$)/,Ue=/^\/?(?:.|\n)*?(?=\/|$)/;function Et(X){for(var V=[];X.length;)if(X.match(Ve))X=X.replace(Ve,"");else if(X.match(en))X=X.replace(en,"/");else if(X.match(Me))X=X.replace(Me,"/"),V.pop();else if(X==="."||X==="..")X="";else{var Z=X.match(Ue);if(Z){var ye=Z[0];X=X.slice(ye.length),V.push(ye)}else throw new Error("Unexpected dot segment condition")}return V.join("")}function ze(X){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=V.iri?f:c,ye=[],ge=se[(V.scheme||X.scheme||"").toLowerCase()];if(ge&&ge.serialize&&ge.serialize(X,V),X.host&&!Z.IPV6ADDRESS.test(X.host)){if(V.domainHost||ge&&ge.domainHost)try{X.host=V.iri?Y.toUnicode(X.host):Y.toASCII(X.host.replace(Z.PCT_ENCODED,he).toLowerCase())}catch(We){X.error=X.error||"Host's domain name can not be converted to "+(V.iri?"Unicode":"ASCII")+" via punycode: "+We}}fe(X,Z),V.reference!=="suffix"&&X.scheme&&(ye.push(X.scheme),ye.push(":"));var Ke=Ae(X,V);if(Ke!==void 0&&(V.reference!=="suffix"&&ye.push("//"),ye.push(Ke),X.path&&X.path.charAt(0)!=="/"&&ye.push("/")),X.path!==void 0){var Te=X.path;!V.absolutePath&&(!ge||!ge.absolutePath)&&(Te=Et(Te)),Ke===void 0&&(Te=Te.replace(/^\/\//,"/%2F")),ye.push(Te)}return X.query!==void 0&&(ye.push("?"),ye.push(X.query)),X.fragment!==void 0&&(ye.push("#"),ye.push(X.fragment)),ye.join("")}function _t(X,V){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=arguments[3],ge={};return ye||(X=Le(ze(X,Z),Z),V=Le(ze(V,Z),Z)),Z=Z||{},!Z.tolerant&&V.scheme?(ge.scheme=V.scheme,ge.userinfo=V.userinfo,ge.host=V.host,ge.port=V.port,ge.path=Et(V.path||""),ge.query=V.query):(V.userinfo!==void 0||V.host!==void 0||V.port!==void 0?(ge.userinfo=V.userinfo,ge.host=V.host,ge.port=V.port,ge.path=Et(V.path||""),ge.query=V.query):(V.path?(V.path.charAt(0)==="/"?ge.path=Et(V.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?ge.path="/"+V.path:X.path?ge.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+V.path:ge.path=V.path,ge.path=Et(ge.path)),ge.query=V.query):(ge.path=X.path,V.query!==void 0?ge.query=V.query:ge.query=X.query),ge.userinfo=X.userinfo,ge.host=X.host,ge.port=X.port),ge.scheme=X.scheme),ge.fragment=V.fragment,ge}function Gt(X,V,Z){var ye=u({scheme:"null"},Z);return ze(_t(Le(X,ye),Le(V,ye),ye,!0),ye)}function ln(X,V){return typeof X=="string"?X=ze(Le(X,V),V):s(X)==="object"&&(X=Le(ze(X,V),V)),X}function Kn(X,V,Z){return typeof X=="string"?X=ze(Le(X,Z),Z):s(X)==="object"&&(X=ze(X,Z)),typeof V=="string"?V=ze(Le(V,Z),Z):s(V)==="object"&&(V=ze(V,Z)),X===V}function ce(X,V){return X&&X.toString().replace(!V||!V.iri?c.ESCAPE:f.ESCAPE,ue)}function Ee(X,V){return X&&X.toString().replace(!V||!V.iri?c.PCT_ENCODED:f.PCT_ENCODED,he)}var Fe={scheme:"http",domainHost:!0,parse:function(V,Z){return V.host||(V.error=V.error||"HTTP URIs must have a host."),V},serialize:function(V,Z){var ye=String(V.scheme).toLowerCase()==="https";return(V.port===(ye?443:80)||V.port==="")&&(V.port=void 0),V.path||(V.path="/"),V}},ot={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function $e(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var at={scheme:"ws",domainHost:!0,parse:function(V,Z){var ye=V;return ye.secure=$e(ye),ye.resourceName=(ye.path||"/")+(ye.query?"?"+ye.query:""),ye.path=void 0,ye.query=void 0,ye},serialize:function(V,Z){if((V.port===($e(V)?443:80)||V.port==="")&&(V.port=void 0),typeof V.secure=="boolean"&&(V.scheme=V.secure?"wss":"ws",V.secure=void 0),V.resourceName){var ye=V.resourceName.split("?"),ge=d(ye,2),Ke=ge[0],Te=ge[1];V.path=Ke&&Ke!=="/"?Ke:void 0,V.query=Te,V.resourceName=void 0}return V.fragment=void 0,V}},Be={scheme:"wss",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize},rt={},En="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",qt="[0-9A-Fa-f]",xt=i(i("%[EFef]"+qt+"%"+qt+qt+"%"+qt+qt)+"|"+i("%[89A-Fa-f]"+qt+"%"+qt+qt)+"|"+i("%"+qt+qt)),jn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Tn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ma=r(Tn,'[\\"\\\\]'),pr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ui=new RegExp(En,"g"),Er=new RegExp(xt,"g"),Fr=new RegExp(r("[^]",jn,"[\\.]",'[\\"]',ma),"g"),mr=new RegExp(r("[^]",En,pr),"g"),Un=mr;function tn(X){var V=he(X);return V.match(Ui)?V:X}var ai={scheme:"mailto",parse:function(V,Z){var ye=V,ge=ye.to=ye.path?ye.path.split(","):[];if(ye.path=void 0,ye.query){for(var Ke=!1,Te={},We=ye.query.split("&"),dt=0,nt=We.length;dt<nt;++dt){var gt=We[dt].split("=");switch(gt[0]){case"to":for(var Lt=gt[1].split(","),Ln=0,mt=Lt.length;Ln<mt;++Ln)ge.push(Lt[Ln]);break;case"subject":ye.subject=Ee(gt[1],Z);break;case"body":ye.body=Ee(gt[1],Z);break;default:Ke=!0,Te[Ee(gt[0],Z)]=Ee(gt[1],Z);break}}Ke&&(ye.headers=Te)}ye.query=void 0;for(var Cn=0,Tt=ge.length;Cn<Tt;++Cn){var yn=ge[Cn].split("@");if(yn[0]=Ee(yn[0]),Z.unicodeSupport)yn[1]=Ee(yn[1],Z).toLowerCase();else try{yn[1]=Y.toASCII(Ee(yn[1],Z).toLowerCase())}catch(ir){ye.error=ye.error||"Email address's domain name can not be converted to ASCII via punycode: "+ir}ge[Cn]=yn.join("@")}return ye},serialize:function(V,Z){var ye=V,ge=a(V.to);if(ge){for(var Ke=0,Te=ge.length;Ke<Te;++Ke){var We=String(ge[Ke]),dt=We.lastIndexOf("@"),nt=We.slice(0,dt).replace(Er,tn).replace(Er,o).replace(Fr,ue),gt=We.slice(dt+1);try{gt=Z.iri?Y.toUnicode(gt):Y.toASCII(Ee(gt,Z).toLowerCase())}catch(Cn){ye.error=ye.error||"Email address's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+Cn}ge[Ke]=nt+"@"+gt}ye.path=ge.join(",")}var Lt=V.headers=V.headers||{};V.subject&&(Lt.subject=V.subject),V.body&&(Lt.body=V.body);var Ln=[];for(var mt in Lt)Lt[mt]!==rt[mt]&&Ln.push(mt.replace(Er,tn).replace(Er,o).replace(mr,ue)+"="+Lt[mt].replace(Er,tn).replace(Er,o).replace(Un,ue));return Ln.length&&(ye.query=Ln.join("&")),ye}},Tr=/^([^\:]+)\:(.*)/,Br={scheme:"urn",parse:function(V,Z){var ye=V.path&&V.path.match(Tr),ge=V;if(ye){var Ke=Z.scheme||ge.scheme||"urn",Te=ye[1].toLowerCase(),We=ye[2],dt=Ke+":"+(Z.nid||Te),nt=se[dt];ge.nid=Te,ge.nss=We,ge.path=void 0,nt&&(ge=nt.parse(ge,Z))}else ge.error=ge.error||"URN can not be parsed.";return ge},serialize:function(V,Z){var ye=Z.scheme||V.scheme||"urn",ge=V.nid,Ke=ye+":"+(Z.nid||ge),Te=se[Ke];Te&&(V=Te.serialize(V,Z));var We=V,dt=V.nss;return We.path=(ge||Z.nid)+":"+dt,We}},bi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ss={scheme:"urn:uuid",parse:function(V,Z){var ye=V;return ye.uuid=ye.nss,ye.nss=void 0,!Z.tolerant&&(!ye.uuid||!ye.uuid.match(bi))&&(ye.error=ye.error||"UUID is not valid."),ye},serialize:function(V,Z){var ye=V;return ye.nss=(V.uuid||"").toLowerCase(),ye}};se[Fe.scheme]=Fe,se[ot.scheme]=ot,se[at.scheme]=at,se[Be.scheme]=Be,se[ai.scheme]=ai,se[Br.scheme]=Br,se[Ss.scheme]=Ss,n.SCHEMES=se,n.pctEncChar=ue,n.pctDecChars=he,n.parse=Le,n.removeDotSegments=Et,n.serialize=ze,n.resolveComponents=_t,n.resolve=Gt,n.normalize=ln,n.equal=Kn,n.escapeComponent=ce,n.unescapeComponent=Ee,Object.defineProperty(n,"__esModule",{value:!0})})})(pR,pR.exports);var rNe=pR.exports;Object.defineProperty(g$,"__esModule",{value:!0});const cee=rNe;cee.code='require("ajv/dist/runtime/uri").default';g$.default=cee;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=La;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Yt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=rv,i=iv,s=Qd,o=Us,a=Yt,u=Pi,l=nv,c=gn,f=nNe,d=g$,h=(K,A)=>new RegExp(K,A);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function v(K){var A,O,z,k,R,Y,se,ue,he,fe,Se,me,Je,Ge,qe,Le,Ae,Ve,en,Me,Ue,Et,ze,_t,Gt;const ln=K.strict,Kn=(A=K.code)===null||A===void 0?void 0:A.optimize,ce=Kn===!0||Kn===void 0?1:Kn||0,Ee=(z=(O=K.code)===null||O===void 0?void 0:O.regExp)!==null&&z!==void 0?z:h,Fe=(k=K.uriResolver)!==null&&k!==void 0?k:d.default;return{strictSchema:(Y=(R=K.strictSchema)!==null&&R!==void 0?R:ln)!==null&&Y!==void 0?Y:!0,strictNumbers:(ue=(se=K.strictNumbers)!==null&&se!==void 0?se:ln)!==null&&ue!==void 0?ue:!0,strictTypes:(fe=(he=K.strictTypes)!==null&&he!==void 0?he:ln)!==null&&fe!==void 0?fe:"log",strictTuples:(me=(Se=K.strictTuples)!==null&&Se!==void 0?Se:ln)!==null&&me!==void 0?me:"log",strictRequired:(Ge=(Je=K.strictRequired)!==null&&Je!==void 0?Je:ln)!==null&&Ge!==void 0?Ge:!1,code:K.code?{...K.code,optimize:ce,regExp:Ee}:{optimize:ce,regExp:Ee},loopRequired:(qe=K.loopRequired)!==null&&qe!==void 0?qe:_,loopEnum:(Le=K.loopEnum)!==null&&Le!==void 0?Le:_,meta:(Ae=K.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Ve=K.messages)!==null&&Ve!==void 0?Ve:!0,inlineRefs:(en=K.inlineRefs)!==null&&en!==void 0?en:!0,schemaId:(Me=K.schemaId)!==null&&Me!==void 0?Me:"$id",addUsedSchema:(Ue=K.addUsedSchema)!==null&&Ue!==void 0?Ue:!0,validateSchema:(Et=K.validateSchema)!==null&&Et!==void 0?Et:!0,validateFormats:(ze=K.validateFormats)!==null&&ze!==void 0?ze:!0,unicodeRegExp:(_t=K.unicodeRegExp)!==null&&_t!==void 0?_t:!0,int32range:(Gt=K.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:Fe}}class E{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...v(A)};const{es5:O,lines:z}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:O,lines:z}),this.logger=q(A.logger);const k=A.validateFormats;A.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,y,A,"NOT SUPPORTED"),S.call(this,g,A,"DEPRECATED","warn"),this._metaOpts=C.call(this),A.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&M.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),x.call(this),A.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:O,schemaId:z}=this.opts;let k=f;z==="id"&&(k={...f},k.id=k.$id,delete k.$id),O&&A&&this.addMetaSchema(k,k[z],!1)}defaultMeta(){const{meta:A,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[O]||A:void 0}validate(A,O){let z;if(typeof A=="string"){if(z=this.getSchema(A),!z)throw new Error(`no schema with key or ref "${A}"`)}else z=this.compile(A);const k=z(O);return"$async"in z||(this.errors=z.errors),k}compile(A,O){const z=this._addSchema(A,O);return z.validate||this._compileSchemaEnv(z)}compileAsync(A,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:z}=this.opts;return k.call(this,A,O);async function k(fe,Se){await R.call(this,fe.$schema);const me=this._addSchema(fe,Se);return me.validate||Y.call(this,me)}async function R(fe){fe&&!this.getSchema(fe)&&await k.call(this,{$ref:fe},!0)}async function Y(fe){try{return this._compileSchemaEnv(fe)}catch(Se){if(!(Se instanceof i.default))throw Se;return se.call(this,Se),await ue.call(this,Se.missingSchema),Y.call(this,fe)}}function se({missingSchema:fe,missingRef:Se}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${Se} cannot be resolved`)}async function ue(fe){const Se=await he.call(this,fe);this.refs[fe]||await R.call(this,Se.$schema),this.refs[fe]||this.addSchema(Se,fe,O)}async function he(fe){const Se=this._loading[fe];if(Se)return Se;try{return await(this._loading[fe]=z(fe))}finally{delete this._loading[fe]}}}addSchema(A,O,z,k=this.opts.validateSchema){if(Array.isArray(A)){for(const Y of A)this.addSchema(Y,void 0,z,k);return this}let R;if(typeof A=="object"){const{schemaId:Y}=this.opts;if(R=A[Y],R!==void 0&&typeof R!="string")throw new Error(`schema ${Y} must be string`)}return O=(0,u.normalizeId)(O||R),this._checkUnique(O),this.schemas[O]=this._addSchema(A,z,O,k,!0),this}addMetaSchema(A,O,z=this.opts.validateSchema){return this.addSchema(A,O,!0,z),this}validateSchema(A,O){if(typeof A=="boolean")return!0;let z;if(z=A.$schema,z!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(z=z||this.opts.defaultMeta||this.defaultMeta(),!z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(z,A);if(!k&&O){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return k}getSchema(A){let O;for(;typeof(O=w.call(this,A))=="string";)A=O;if(O===void 0){const{schemaId:z}=this.opts,k=new o.SchemaEnv({schema:{},schemaId:z});if(O=o.resolveSchema.call(this,k,A),!O)return;this.refs[A]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=w.call(this,A);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const O=A;this._cache.delete(O);let z=A[this.opts.schemaId];return z&&(z=(0,u.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const O of A)this.addKeyword(O);return this}addKeyword(A,O){let z;if(typeof A=="string")z=A,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=z);else if(typeof A=="object"&&O===void 0){if(O=A,z=O.keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,z,O),!O)return(0,c.eachItem)(z,R=>de.call(this,R)),this;pe.call(this,O);const k={...O,type:(0,l.getJSONTypes)(O.type),schemaType:(0,l.getJSONTypes)(O.schemaType)};return(0,c.eachItem)(z,k.type.length===0?R=>de.call(this,R,k):R=>k.type.forEach(Y=>de.call(this,R,k,Y))),this}getKeyword(A){const O=this.RULES.all[A];return typeof O=="object"?O.definition:!!O}removeKeyword(A){const{RULES:O}=this;delete O.keywords[A],delete O.all[A];for(const z of O.rules){const k=z.rules.findIndex(R=>R.keyword===A);k>=0&&z.rules.splice(k,1)}return this}addFormat(A,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[A]=O,this}errorsText(A=this.errors,{separator:O=", ",dataVar:z="data"}={}){return!A||A.length===0?"No errors":A.map(k=>`${z}${k.instancePath} ${k.message}`).reduce((k,R)=>k+O+R)}$dataMetaSchema(A,O){const z=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const k of O){const R=k.split("/").slice(1);let Y=A;for(const se of R)Y=Y[se];for(const se in z){const ue=z[se];if(typeof ue!="object")continue;const{$data:he}=ue.definition,fe=Y[se];he&&fe&&(Y[se]=ie(fe))}}return A}_removeAllSchemas(A,O){for(const z in A){const k=A[z];(!O||O.test(z))&&(typeof k=="string"?delete A[z]:k&&!k.meta&&(this._cache.delete(k.schema),delete A[z]))}}_addSchema(A,O,z,k=this.opts.validateSchema,R=this.opts.addUsedSchema){let Y;const{schemaId:se}=this.opts;if(typeof A=="object")Y=A[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let ue=this._cache.get(A);if(ue!==void 0)return ue;z=(0,u.normalizeId)(Y||z);const he=u.getSchemaRefs.call(this,A,z);return ue=new o.SchemaEnv({schema:A,schemaId:se,meta:O,baseId:z,localRefs:he}),this._cache.set(ue.schema,ue),R&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=ue),k&&this.validateSchema(A,!0),ue}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const O=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=O}}}e.default=E,E.ValidationError=r.default,E.MissingRefError=i.default;function S(K,A,O,z="error"){for(const k in K){const R=k;R in A&&this.logger[z](`${O}: option ${k}. ${K[R]}`)}}function w(K){return K=(0,u.normalizeId)(K),this.schemas[K]||this.refs[K]}function x(){const K=this.opts.schemas;if(K)if(Array.isArray(K))this.addSchema(K);else for(const A in K)this.addSchema(K[A],A)}function I(){for(const K in this.opts.formats){const A=this.opts.formats[K];A&&this.addFormat(K,A)}}function M(K){if(Array.isArray(K)){this.addVocabulary(K);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in K){const O=K[A];O.keyword||(O.keyword=A),this.addKeyword(O)}}function C(){const K={...this.opts};for(const A of p)delete K[A];return K}const D={log(){},warn(){},error(){}};function q(K){if(K===!1)return D;if(K===void 0)return console;if(K.log&&K.warn&&K.error)return K;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function U(K,A){const{RULES:O}=this;if((0,c.eachItem)(K,z=>{if(O.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!W.test(z))throw new Error(`Keyword ${z} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function de(K,A,O){var z;const k=A==null?void 0:A.post;if(O&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:R}=this;let Y=k?R.post:R.rules.find(({type:ue})=>ue===O);if(Y||(Y={type:O,rules:[]},R.rules.push(Y)),R.keywords[K]=!0,!A)return;const se={keyword:K,definition:{...A,type:(0,l.getJSONTypes)(A.type),schemaType:(0,l.getJSONTypes)(A.schemaType)}};A.before?ae.call(this,Y,se,A.before):Y.rules.push(se),R.all[K]=se,(z=A.implements)===null||z===void 0||z.forEach(ue=>this.addKeyword(ue))}function ae(K,A,O){const z=K.rules.findIndex(k=>k.keyword===O);z>=0?K.rules.splice(z,0,A):(K.rules.push(A),this.logger.warn(`rule ${O} is not defined`))}function pe(K){let{metaSchema:A}=K;A!==void 0&&(K.$data&&this.opts.$data&&(A=ie(A)),K.validateSchema=this.compile(A,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(K){return{anyOf:[K,ee]}}})(jZ);var y$={},_$={},v$={};Object.defineProperty(v$,"__esModule",{value:!0});const iNe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};v$.default=iNe;var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.callRef=Xd.getValidate=void 0;const sNe=iv,tj=Wt,ks=Yt,Vh=Ku,nj=Us,O1=gn,oNe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=nj.resolveRef.call(u,l,i,n);if(c===void 0)throw new sNe.default(r.opts.uriResolver,i,n);if(c instanceof nj.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Mb(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Mb(e,(0,ks._)`${p}.validate`,l,l.$async)}function d(p){const m=fee(e,p);Mb(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,ks.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:ks.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function fee(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,ks._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Xd.getValidate=fee;function Mb(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?Vh.default.this:ks.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,ks._)`await ${(0,tj.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,ks._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,tj.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,ks._)`${p}.errors`;i.assign(Vh.default.vErrors,(0,ks._)`${Vh.default.vErrors} === null ? ${m} : ${Vh.default.vErrors}.concat(${m})`),i.assign(Vh.default.errors,(0,ks._)`${Vh.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=O1.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,ks._)`${p}.evaluated.props`);s.props=O1.mergeEvaluated.props(i,g,s.props,ks.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=O1.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,ks._)`${p}.evaluated.items`);s.items=O1.mergeEvaluated.items(i,g,s.items,ks.Name)}}}Xd.callRef=Mb;Xd.default=oNe;Object.defineProperty(_$,"__esModule",{value:!0});const aNe=v$,uNe=Xd,lNe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",aNe.default,uNe.default];_$.default=lNe;var b$={},w$={};Object.defineProperty(w$,"__esModule",{value:!0});const CT=Yt,yc=CT.operators,OT={maximum:{okStr:"<=",ok:yc.LTE,fail:yc.GT},minimum:{okStr:">=",ok:yc.GTE,fail:yc.LT},exclusiveMaximum:{okStr:"<",ok:yc.LT,fail:yc.GTE},exclusiveMinimum:{okStr:">",ok:yc.GT,fail:yc.LTE}},cNe={message:({keyword:e,schemaCode:t})=>(0,CT.str)`must be ${OT[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,CT._)`{comparison: ${OT[e].okStr}, limit: ${t}}`},fNe={keyword:Object.keys(OT),type:"number",schemaType:"number",$data:!0,error:cNe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,CT._)`${n} ${OT[t].fail} ${r} || isNaN(${n})`)}};w$.default=fNe;var E$={};Object.defineProperty(E$,"__esModule",{value:!0});const ny=Yt,dNe={message:({schemaCode:e})=>(0,ny.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ny._)`{multipleOf: ${e}}`},hNe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:dNe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,ny._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,ny._)`${o} !== parseInt(${o})`;e.fail$data((0,ny._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};E$.default=hNe;var T$={},S$={};Object.defineProperty(S$,"__esModule",{value:!0});function dee(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}S$.default=dee;dee.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(T$,"__esModule",{value:!0});const fd=Yt,pNe=gn,mNe=S$,gNe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,fd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,fd._)`{limit: ${e}}`},yNe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:gNe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?fd.operators.GT:fd.operators.LT,o=i.opts.unicode===!1?(0,fd._)`${n}.length`:(0,fd._)`${(0,pNe.useFunc)(e.gen,mNe.default)}(${n})`;e.fail$data((0,fd._)`${o} ${s} ${r}`)}};T$.default=yNe;var x$={};Object.defineProperty(x$,"__esModule",{value:!0});const _Ne=Wt,PT=Yt,vNe={message:({schemaCode:e})=>(0,PT.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,PT._)`{pattern: ${e}}`},bNe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vNe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,PT._)`(new RegExp(${i}, ${o}))`:(0,_Ne.usePattern)(e,r);e.fail$data((0,PT._)`!${a}.test(${t})`)}};x$.default=bNe;var I$={};Object.defineProperty(I$,"__esModule",{value:!0});const ry=Yt,wNe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,ry.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,ry._)`{limit: ${e}}`},ENe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:wNe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?ry.operators.GT:ry.operators.LT;e.fail$data((0,ry._)`Object.keys(${n}).length ${i} ${r}`)}};I$.default=ENe;var A$={};Object.defineProperty(A$,"__esModule",{value:!0});const Jg=Wt,iy=Yt,TNe=gn,SNe={message:({params:{missingProperty:e}})=>(0,iy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,iy._)`{missingProperty: ${e}}`},xNe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:SNe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,TNe.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(iy.nil,f);else for(const h of n)(0,Jg.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,Jg.checkMissingProp)(e,n,h)),(0,Jg.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,Jg.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,Jg.propertyInData)(t,i,h,a.ownProperties)),t.if((0,iy.not)(p),()=>{e.error(),t.break()})},iy.nil)}}};A$.default=xNe;var C$={};Object.defineProperty(C$,"__esModule",{value:!0});const sy=Yt,INe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,sy.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,sy._)`{limit: ${e}}`},ANe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:INe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?sy.operators.GT:sy.operators.LT;e.fail$data((0,sy._)`${n}.length ${i} ${r}`)}};C$.default=ANe;var O$={},sv={};Object.defineProperty(sv,"__esModule",{value:!0});const hee=d$;hee.code='require("ajv/dist/runtime/equal").default';sv.default=hee;Object.defineProperty(O$,"__esModule",{value:!0});const sO=nv,Si=Yt,CNe=gn,ONe=sv,PNe={message:({params:{i:e,j:t}})=>(0,Si.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Si._)`{i: ${e}, j: ${t}}`},RNe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:PNe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,sO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Si._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Si._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,Si._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,sO.checkDataTypes)(l,y,a.opts.strictNumbers,sO.DataType.Wrong),_=t.const("indices",(0,Si._)`{}`);t.for((0,Si._)`;${p}--;`,()=>{t.let(y,(0,Si._)`${n}[${p}]`),t.if(g,(0,Si._)`continue`),l.length>1&&t.if((0,Si._)`typeof ${y} == "string"`,(0,Si._)`${y} += "_"`),t.if((0,Si._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(m,(0,Si._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Si._)`${_}[${y}] = ${p}`)})}function h(p,m){const y=(0,CNe.useFunc)(t,ONe.default),g=t.name("outer");t.label(g).for((0,Si._)`;${p}--;`,()=>t.for((0,Si._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Si._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};O$.default=RNe;var P$={};Object.defineProperty(P$,"__esModule",{value:!0});const mR=Yt,kNe=gn,NNe=sv,DNe={message:"must be equal to constant",params:({schemaCode:e})=>(0,mR._)`{allowedValue: ${e}}`},$Ne={keyword:"const",$data:!0,error:DNe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,mR._)`!${(0,kNe.useFunc)(t,NNe.default)}(${n}, ${i})`):e.fail((0,mR._)`${s} !== ${n}`)}};P$.default=$Ne;var R$={};Object.defineProperty(R$,"__esModule",{value:!0});const T0=Yt,LNe=gn,MNe=sv,FNe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,T0._)`{allowedValues: ${e}}`},BNe={keyword:"enum",schemaType:"array",$data:!0,error:FNe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,LNe.useFunc)(t,MNe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,T0.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,T0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,T0._)`${l()}(${n}, ${h}[${p}])`:(0,T0._)`${n} === ${m}`}}};R$.default=BNe;Object.defineProperty(b$,"__esModule",{value:!0});const jNe=w$,UNe=E$,VNe=T$,zNe=x$,HNe=I$,qNe=A$,WNe=C$,YNe=O$,GNe=P$,KNe=R$,QNe=[jNe.default,UNe.default,VNe.default,zNe.default,HNe.default,qNe.default,WNe.default,YNe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},GNe.default,KNe.default];b$.default=QNe;var k$={},tg={};Object.defineProperty(tg,"__esModule",{value:!0});tg.validateAdditionalItems=void 0;const dd=Yt,gR=gn,XNe={message:({params:{len:e}})=>(0,dd.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,dd._)`{limit: ${e}}`},JNe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:XNe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,gR.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}pee(e,r)}};function pee(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,dd._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,dd._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,gR.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,dd._)`${a} <= ${t.length}`);n.if((0,dd.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:gR.Type.Num},l),o.allErrors||n.if((0,dd.not)(l),()=>n.break())})}}tg.validateAdditionalItems=pee;tg.default=JNe;var N$={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.validateTuple=void 0;const rj=Yt,Fb=gn,ZNe=Wt,eDe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return mee(e,"additionalItems",t);n.items=!0,!(0,Fb.alwaysValidSchema)(n,t)&&e.ok((0,ZNe.validateArray)(e))}};function mee(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Fb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,rj._)`${s}.length`);n.forEach((f,d)=>{(0,Fb.alwaysValidSchema)(a,f)||(r.if((0,rj._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Fb.checkStrictMode)(a,y,d.strictTuples)}}}ng.validateTuple=mee;ng.default=eDe;Object.defineProperty(N$,"__esModule",{value:!0});const tDe=ng,nDe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,tDe.validateTuple)(e,"items")};N$.default=nDe;var D$={};Object.defineProperty(D$,"__esModule",{value:!0});const ij=Yt,rDe=gn,iDe=Wt,sDe=tg,oDe={message:({params:{len:e}})=>(0,ij.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ij._)`{limit: ${e}}`},aDe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:oDe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,rDe.alwaysValidSchema)(r,t)&&(i?(0,sDe.validateAdditionalItems)(e,i):e.ok((0,iDe.validateArray)(e)))}};D$.default=aDe;var $$={};Object.defineProperty($$,"__esModule",{value:!0});const Fo=Yt,P1=gn,uDe={message:({params:{min:e,max:t}})=>t===void 0?(0,Fo.str)`must contain at least ${e} valid item(s)`:(0,Fo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Fo._)`{minContains: ${e}}`:(0,Fo._)`{minContains: ${e}, maxContains: ${t}}`},lDe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:uDe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Fo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,P1.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,P1.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,P1.alwaysValidSchema)(s,n)){let m=(0,Fo._)`${c} >= ${o}`;a!==void 0&&(m=(0,Fo._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Fo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:P1.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Fo._)`${m}++`),a===void 0?t.if((0,Fo._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Fo._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Fo._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};$$.default=lDe;var gee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Yt,n=gn,r=Wt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(gee);var L$={};Object.defineProperty(L$,"__esModule",{value:!0});const yee=Yt,cDe=gn,fDe={message:"property name must be valid",params:({params:e})=>(0,yee._)`{propertyName: ${e.propertyName}}`},dDe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:fDe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,cDe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,yee.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};L$.default=dDe;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});const R1=Wt,va=Yt,hDe=Ku,k1=gn,pDe={message:"must NOT have additional properties",params:({params:e})=>(0,va._)`{additionalProperty: ${e.additionalProperty}}`},mDe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:pDe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,k1.alwaysValidSchema)(o,n))return;const l=(0,R1.allSchemaProperties)(r.properties),c=(0,R1.allSchemaProperties)(r.patternProperties);f(),e.ok((0,va._)`${s} === ${hDe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const _=(0,k1.schemaRefOrVal)(o,r.properties,"properties");g=(0,R1.isOwnProperty)(t,_,y)}else l.length?g=(0,va.or)(...l.map(_=>(0,va._)`${y} === ${_}`)):g=va.nil;return c.length&&(g=(0,va.or)(g,...c.map(_=>(0,va._)`${(0,R1.usePattern)(e,_)}.test(${y})`))),(0,va.not)(g)}function h(y){t.code((0,va._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,k1.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,va.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,va.not)(g),()=>t.break()))}}function m(y,g,_){const v={keyword:"additionalProperties",dataProp:y,dataPropType:k1.Type.Str};_===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(v,g)}}};uI.default=mDe;var M$={};Object.defineProperty(M$,"__esModule",{value:!0});const gDe=La,sj=Wt,oO=gn,oj=uI,yDe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&oj.default.code(new gDe.KeywordCxt(s,oj.default,"additionalProperties"));const o=(0,sj.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=oO.mergeEvaluated.props(t,(0,oO.toHash)(o),s.props));const a=o.filter(f=>!(0,oO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,sj.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};M$.default=yDe;var F$={};Object.defineProperty(F$,"__esModule",{value:!0});const aj=Wt,N1=Yt,uj=gn,lj=gn,_De={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,aj.allSchemaProperties)(n),u=a.filter(m=>(0,uj.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof N1.Name)&&(s.props=(0,lj.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,uj.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,N1._)`${(0,aj.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:lj.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,N1._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,N1.not)(c),()=>t.break())})})}}};F$.default=_De;var B$={};Object.defineProperty(B$,"__esModule",{value:!0});const vDe=gn,bDe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,vDe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};B$.default=bDe;var j$={};Object.defineProperty(j$,"__esModule",{value:!0});const wDe=Wt,EDe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:wDe.validateUnion,error:{message:"must match a schema in anyOf"}};j$.default=EDe;var U$={};Object.defineProperty(U$,"__esModule",{value:!0});const Bb=Yt,TDe=gn,SDe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Bb._)`{passingSchemas: ${e.passing}}`},xDe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:SDe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,TDe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Bb._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Bb._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Bb.Name)})})}}};U$.default=xDe;var V$={};Object.defineProperty(V$,"__esModule",{value:!0});const IDe=gn,ADe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,IDe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};V$.default=ADe;var z$={};Object.defineProperty(z$,"__esModule",{value:!0});const RT=Yt,_ee=gn,CDe={message:({params:e})=>(0,RT.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,RT._)`{failingKeyword: ${e.ifClause}}`},ODe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:CDe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,_ee.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=cj(r,"then"),s=cj(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,RT.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,RT._)`${c}`):e.setParams({ifClause:c})}}}};function cj(e,t){const n=e.schema[t];return n!==void 0&&!(0,_ee.alwaysValidSchema)(e,n)}z$.default=ODe;var H$={};Object.defineProperty(H$,"__esModule",{value:!0});const PDe=gn,RDe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,PDe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};H$.default=RDe;Object.defineProperty(k$,"__esModule",{value:!0});const kDe=tg,NDe=N$,DDe=ng,$De=D$,LDe=$$,MDe=gee,FDe=L$,BDe=uI,jDe=M$,UDe=F$,VDe=B$,zDe=j$,HDe=U$,qDe=V$,WDe=z$,YDe=H$;function GDe(e=!1){const t=[VDe.default,zDe.default,HDe.default,qDe.default,WDe.default,YDe.default,FDe.default,BDe.default,MDe.default,jDe.default,UDe.default];return e?t.push(NDe.default,$De.default):t.push(kDe.default,DDe.default),t.push(LDe.default),t}k$.default=GDe;var q$={},W$={};Object.defineProperty(W$,"__esModule",{value:!0});const $r=Yt,KDe={message:({schemaCode:e})=>(0,$r.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,$r._)`{format: ${e}}`},QDe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:KDe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,$r._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,$r._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,$r._)`${m}.type || "string"`).assign(g,(0,$r._)`${m}.validate`),()=>n.assign(y,(0,$r._)`"string"`).assign(g,m)),e.fail$data((0,$r.or)(_(),v()));function _(){return u.strictSchema===!1?$r.nil:(0,$r._)`${o} && !${g}`}function v(){const E=c.$async?(0,$r._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,$r._)`${g}(${r})`,S=(0,$r._)`(typeof ${g} == "function" ? ${E} : ${g}.test(${r}))`;return(0,$r._)`${g} && ${g} !== true && ${y} === ${t} && !${S}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[m,y,g]=v(p);m===t&&e.pass(E());function _(){if(u.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function v(S){const w=S instanceof RegExp?(0,$r.regexpCode)(S):u.code.formats?(0,$r._)`${u.code.formats}${(0,$r.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:S,code:w});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,$r._)`${x}.validate`]:["string",S,x]}function E(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,$r._)`await ${g}(${r})`}return typeof y=="function"?(0,$r._)`${g}(${r})`:(0,$r._)`${g}.test(${r})`}}}};W$.default=QDe;Object.defineProperty(q$,"__esModule",{value:!0});const XDe=W$,JDe=[XDe.default];q$.default=JDe;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.contentVocabulary=ym.metadataVocabulary=void 0;ym.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ym.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(y$,"__esModule",{value:!0});const ZDe=_$,e$e=b$,t$e=k$,n$e=q$,fj=ym,r$e=[ZDe.default,e$e.default,(0,t$e.default)(),n$e.default,fj.metadataVocabulary,fj.contentVocabulary];y$.default=r$e;var Y$={},vee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(vee);Object.defineProperty(Y$,"__esModule",{value:!0});const Qh=Yt,yR=vee,dj=Us,i$e=gn,s$e={message:({params:{discrError:e,tagName:t}})=>e===yR.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Qh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},o$e={keyword:"discriminator",type:"object",schemaType:"object",error:s$e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Qh._)`${n}${(0,Qh.getProperty)(a)}`);t.if((0,Qh._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:yR.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Qh._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:yR.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Qh.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let E=0;E<o.length;E++){let S=o[E];S!=null&&S.$ref&&!(0,i$e.schemaHasRulesButRef)(S,s.self.RULES)&&(S=dj.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,S==null?void 0:S.$ref),S instanceof dj.SchemaEnv&&(S=S.schema));const w=(h=S==null?void 0:S.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(S)),_(w,E)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:E}){return Array.isArray(E)&&E.includes(a)}function _(E,S){if(E.const)v(E.const,S);else if(E.enum)for(const w of E.enum)v(w,S);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function v(E,S){if(typeof E!="string"||E in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[E]=S}}}};Y$.default=o$e;const a$e="http://json-schema.org/draft-07/schema#",u$e="http://json-schema.org/draft-07/schema#",l$e="Core schema meta-schema",c$e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},f$e=["object","boolean"],d$e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},h$e={$schema:a$e,$id:u$e,title:l$e,definitions:c$e,type:f$e,properties:d$e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=jZ,r=y$,i=Y$,s=h$e,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=La;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Yt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=rv;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=iv;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(fR,fR.exports);var p$e=fR.exports;const bee=qa(p$e),m$e="#/definitions/StudyConfig",g$e="http://json-schema.org/draft-07/schema#",y$e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},_$e={$ref:m$e,$schema:g$e,definitions:y$e},v$e="#/definitions/GlobalConfig",b$e="http://json-schema.org/draft-07/schema#",w$e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},E$e={$ref:v$e,$schema:b$e,definitions:w$e},wee=new bee;wee.addSchema(E$e);const hj=wee.getSchema("#/definitions/GlobalConfig"),Eee=new bee;Eee.addSchema(_$e);const pj=Eee.getSchema("#/definitions/StudyConfig");function T$e(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function lI(e){return e.baseComponent!==void 0}function S$e(e){const t=u$.parse(e),n=hj(t),r=T$e(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...hj.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function x$e(e){const t=[];return[Object.values(e.components).every(r=>{var i;return lI(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Tee(e,t){const n=u$.parse(e),r=pj(n),i=x$e(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...pj.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Oa(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yf(e){return!!e&&!!e[cr]}function Ul(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===D$e}(e)||Array.isArray(e)||!!e[wj]||!!(!((t=e.constructor)===null||t===void 0)&&t[wj])||G$(e)||K$(e))}function Jd(e,t,n){n===void 0&&(n=!1),rg(e)===0?(n?Object.keys:Up)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function rg(e){var t=e[cr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:G$(e)?2:K$(e)?3:0}function jp(e,t){return rg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function I$e(e,t){return rg(e)===2?e.get(t):e[t]}function See(e,t,n){var r=rg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function xee(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function G$(e){return k$e&&e instanceof Map}function K$(e){return N$e&&e instanceof Set}function nd(e){return e.o||e.t}function Q$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Aee(e);delete t[cr];for(var n=Up(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function X$(e,t){return t===void 0&&(t=!1),J$(e)||yf(e)||!Ul(e)||(rg(e)>1&&(e.set=e.add=e.clear=e.delete=A$e),Object.freeze(e),t&&Jd(e,function(n,r){return X$(r,!0)},!0)),e}function A$e(){Oa(2)}function J$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ou(e){var t=wR[e];return t||Oa(18,e),t}function C$e(e,t){wR[e]||(wR[e]=t)}function _R(){return Ky}function aO(e,t){t&&(Ou("Patches"),e.u=[],e.s=[],e.v=t)}function kT(e){vR(e),e.p.forEach(O$e),e.p=null}function vR(e){e===Ky&&(Ky=e.l)}function mj(e){return Ky={p:[],l:Ky,h:e,m:!0,_:0}}function O$e(e){var t=e[cr];t.i===0||t.i===1?t.j():t.O=!0}function uO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Ou("ES5").S(t,e,r),r?(n[cr].P&&(kT(t),Oa(4)),Ul(e)&&(e=NT(t,e),t.l||DT(t,e)),t.u&&Ou("Patches").M(n[cr].t,e,t.u,t.s)):e=NT(t,n,[]),kT(t),t.u&&t.v(t.u,t.s),e!==Iee?e:void 0}function NT(e,t,n){if(J$(t))return t;var r=t[cr];if(!r)return Jd(t,function(a,u){return gj(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return DT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Q$(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Jd(s,function(a,u){return gj(e,r,i,a,u,n,o)}),DT(e,i,!1),n&&e.u&&Ou("Patches").N(r,n,e.u,e.s)}return r.o}function gj(e,t,n,r,i,s,o){if(yf(i)){var a=NT(e,i,s&&t&&t.i!==3&&!jp(t.R,r)?s.concat(r):void 0);if(See(n,r,a),!yf(a))return;e.m=!1}else o&&n.add(i);if(Ul(i)&&!J$(i)){if(!e.h.D&&e._<1)return;NT(e,i),t&&t.A.l||DT(e,i)}}function DT(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&X$(t,n)}function lO(e,t){var n=e[cr];return(n?nd(n):e)[t]}function yj(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Nc(e){e.P||(e.P=!0,e.l&&Nc(e.l))}function cO(e){e.o||(e.o=Q$(e.t))}function bR(e,t,n){var r=G$(t)?Ou("MapSet").F(t,n):K$(t)?Ou("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:_R(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Qy;o&&(u=[a],l=S0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ou("ES5").J(t,n);return(n?n.A:_R()).p.push(r),r}function P$e(e){return yf(e)||Oa(22,e),function t(n){if(!Ul(n))return n;var r,i=n[cr],s=rg(n);if(i){if(!i.P&&(i.i<4||!Ou("ES5").K(i)))return i.t;i.I=!0,r=_j(n,s),i.I=!1}else r=_j(n,s);return Jd(r,function(o,a){i&&I$e(i.t,o)===a||See(r,o,t(a))}),s===3?new Set(r):r}(e)}function _j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Q$(e)}function R$e(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[cr];return Qy.get(u,s)},set:function(u){var l=this[cr];Qy.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][cr];if(!a.P)switch(a.i){case 5:r(a)&&Nc(a);break;case 4:n(a)&&Nc(a)}}}function n(s){for(var o=s.t,a=s.k,u=Up(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==cr){var f=o[c];if(f===void 0&&!jp(o,c))return!0;var d=a[c],h=d&&d[cr];if(h?h.t!==f:!xee(d,f))return!0}}var p=!!o[cr];return u.length!==Up(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};C$e("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Aee(f);delete p[cr];for(var m=Up(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:_R(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,cr,{value:l,writable:!0}),u},S:function(s,o,a){a?yf(o)&&o[cr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[cr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Jd(d,function(v){v!==cr&&(f[v]!==void 0||jp(f,v)?h[v]||u(d[v]):(h[v]=!0,Nc(c)))}),Jd(f,function(v){d[v]!==void 0||jp(d,v)||(h[v]=!1,Nc(c))});else if(p===5){if(r(c)&&(Nc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),_=0;_<g;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var vj,Ky,Z$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",k$e=typeof Map<"u",N$e=typeof Set<"u",bj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Iee=Z$?Symbol.for("immer-nothing"):((vj={})["immer-nothing"]=!0,vj),wj=Z$?Symbol.for("immer-draftable"):"__$immer_draftable",cr=Z$?Symbol.for("immer-state"):"__$immer_state",D$e=""+Object.prototype.constructor,Up=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Aee=Object.getOwnPropertyDescriptors||function(e){var t={};return Up(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},wR={},Qy={get:function(e,t){if(t===cr)return e;var n=nd(e);if(!jp(n,t))return function(i,s,o){var a,u=yj(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Ul(r)?r:r===lO(e.t,t)?(cO(e),e.o[t]=bR(e.A.h,r,e)):r},has:function(e,t){return t in nd(e)},ownKeys:function(e){return Reflect.ownKeys(nd(e))},set:function(e,t,n){var r=yj(nd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=lO(nd(e),t),s=i==null?void 0:i[cr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(xee(n,i)&&(n!==void 0||jp(e.t,t)))return!0;cO(e),Nc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return lO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,cO(e),Nc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Oa(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Oa(12)}},S0={};Jd(Qy,function(e,t){S0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),S0.deleteProperty=function(e,t){return S0.set.call(this,e,t,void 0)},S0.set=function(e,t,n){return Qy.set.call(this,e[0],t,n,e[0])};var $$e=function(){function e(n){var r=this;this.g=bj,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];return u.produce(m,function(E){var S;return(S=s).call.apply(S,[y,E].concat(_))})}}var l;if(typeof s!="function"&&Oa(6),o!==void 0&&typeof o!="function"&&Oa(7),Ul(i)){var c=mj(r),f=bR(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?kT(c):vR(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return aO(c,o),uO(m,c)},function(m){throw kT(c),m}):(aO(c,o),uO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Iee&&(l=void 0),r.D&&X$(l,!0),o){var h=[],p=[];Ou("Patches").M(i,l,h,p),o(h,p)}return l}Oa(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ul(n)||Oa(8),yf(n)&&(n=P$e(n));var r=mj(this),i=bR(this,n,void 0);return i[cr].C=!0,vR(r),i},t.finishDraft=function(n,r){var i=n&&n[cr],s=i.A;return aO(s,r),uO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!bj&&Oa(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ou("Patches").$;return yf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Eo=new $$e,Cee=Eo.produce;Eo.produceWithPatches.bind(Eo);Eo.setAutoFreeze.bind(Eo);Eo.setUseProxies.bind(Eo);Eo.applyPatches.bind(Eo);Eo.createDraft.bind(Eo);Eo.finishDraft.bind(Eo);function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function L$e(e,t){if(Xy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$e(e){var t=L$e(e,"string");return Xy(t)=="symbol"?t:String(t)}function F$e(e,t,n){return t=M$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){F$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Sj=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fO=function(){return Math.random().toString(36).substring(7).split("").join(".")},$T={INIT:"@@redux/INIT"+fO(),REPLACE:"@@redux/REPLACE"+fO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fO()}};function B$e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Oee(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qi(1));return n(Oee)(e,t)}if(typeof e!="function")throw new Error(Qi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Qi(3));return s}function f(m){if(typeof m!="function")throw new Error(Qi(4));if(u)throw new Error(Qi(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(Qi(6));y=!1,l();var _=a.indexOf(m);a.splice(_,1),o=null}}}function d(m){if(!B$e(m))throw new Error(Qi(7));if(typeof m.type>"u")throw new Error(Qi(8));if(u)throw new Error(Qi(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var _=y[g];_()}return m}function h(m){if(typeof m!="function")throw new Error(Qi(10));i=m,d({type:$T.REPLACE})}function p(){var m,y=f;return m={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Qi(11));function v(){_.next&&_.next(c())}v();var E=y(v);return{unsubscribe:E}}},m[Sj]=function(){return this},m}return d({type:$T.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[Sj]=p,r}function j$e(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:$T.INIT});if(typeof r>"u")throw new Error(Qi(12));if(typeof n(void 0,{type:$T.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qi(13))})}function U$e(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{j$e(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Qi(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function LT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function V$e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Qi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=LT.apply(void 0,a)(i.dispatch),Tj(Tj({},i),{},{dispatch:s})}}}function Pee(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var Ree=Pee();Ree.withExtraArgument=Pee;const xj=Ree;var z$e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ov=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Jy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},H$e=Object.defineProperty,q$e=Object.defineProperties,W$e=Object.getOwnPropertyDescriptors,Ij=Object.getOwnPropertySymbols,Y$e=Object.prototype.hasOwnProperty,G$e=Object.prototype.propertyIsEnumerable,Aj=function(e,t,n){return t in e?H$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},sf=function(e,t){for(var n in t||(t={}))Y$e.call(t,n)&&Aj(e,n,t[n]);if(Ij)for(var r=0,i=Ij(t);r<i.length;r++){var n=i[r];G$e.call(t,n)&&Aj(e,n,t[n])}return e},dO=function(e,t){return q$e(e,W$e(t))},av=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},K$e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?LT:LT.apply(null,arguments)};function Q$e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var X$e=function(e){z$e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Jy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Jy([void 0],n.concat(this))))},t}(Array);function ER(e){return Ul(e)?Cee(e,function(){}):e}function J$e(e){return typeof e=="boolean"}function Z$e(){return function(t){return e3e(t)}}function e3e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new X$e;return n&&(J$e(n)?r.push(xj):r.push(xj.withExtraArgument(n.extraArgument))),r}var t3e=!0;function kee(e){var t=Z$e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Q$e(i))h=U$e(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=V$e.apply(void 0,p),y=LT;u&&(y=K$e(sf({trace:!t3e},typeof u=="object"&&u)));var g=[m];Array.isArray(d)?g=Jy([m],d):typeof d=="function"&&(g=d(g));var _=y.apply(void 0,g);return Oee(h,c,_)}function Pu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return sf(sf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Nee(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function n3e(e){return typeof e=="function"}function r3e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Nee(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(n3e(e))u=function(){return ER(e())};else{var l=ER(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Jy([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(yf(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(Ul(p))return Cee(p,function(_){return m(_,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function i3e(e,t){return e+"/"+t}function Dee(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:ER(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=i3e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Pu(d,p):Pu(d)});function u(){var c=typeof e.extraReducers=="function"?Nee(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=sf(sf({},d),o);return r3e(n,function(_){for(var v in g)_.addCase(v,g[v]);for(var E=0,S=p;E<S.length;E++){var w=S[E];_.addMatcher(w.matcher,w.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var s3e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$ee=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=s3e[Math.random()*64|0];return t},o3e=["name","message","stack","code"],hO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Cj=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),a3e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=o3e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Pu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:dO(sf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Pu(t+"/pending",function(l,c,f){return{payload:void 0,meta:dO(sf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Pu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||a3e)(l||"Rejected"),meta:dO(sf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):$ee(),p=new a,m;function y(_){m=_,p.abort()}var g=function(){return av(this,null,function(){var _,v,E,S,w,x,I;return ov(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),S=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),l3e(S)?[4,S]:[3,2];case 1:S=M.sent(),M.label=2;case 2:if(S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(C,D){return p.signal.addEventListener("abort",function(){return D({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(C,D){return new hO(C,D)},fulfillWithValue:function(C,D){return new Cj(C,D)}})).then(function(C){if(C instanceof hO)throw C;return C instanceof Cj?i(C.payload,h,l,C.meta):i(C,h,l)})])];case 3:return E=M.sent(),[3,5];case 4:return x=M.sent(),E=x instanceof hO?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,I||c(E),[2,E]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(u3e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function u3e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function l3e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var c3e=function(e){return e&&typeof e.match=="function"},f3e=function(e,t){return c3e(e)?e.match(t):e(t)};function Oj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return f3e(r,n)})}}var e3=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},TR=function(){},Lee=function(e,t){return t===void 0&&(t=TR),e.catch(t),e},Mee=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Vp=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},d3e="task",Fee="listener",Bee="completed",t3="cancelled",h3e="task-"+t3,p3e="task-"+Bee,jee=Fee+"-"+t3,m3e=Fee+"-"+Bee,cI=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=d3e+" "+t3+" (reason: "+t+")"}return e}(),zp=function(e){if(e.aborted)throw new cI(e.reason)};function Uee(e,t){var n=TR;return new Promise(function(r,i){var s=function(){return i(new cI(e.reason))};if(e.aborted){s();return}n=Mee(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=TR})}var g3e=function(e,t){return av(void 0,null,function(){var n,r;return ov(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof cI?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},MT=function(e){return function(t){return Lee(Uee(e,t).then(function(n){return zp(e),n}))}},Vee=function(e){var t=MT(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},y3e=Object.assign,Pj={},uv="listenerMiddleware",_3e=function(e){var t=function(n){return Mee(e,function(){return Vp(n,e.reason)})};return function(n){e3(n,"taskExecutor");var r=new AbortController;t(r);var i=g3e(function(){return av(void 0,null,function(){var s;return ov(this,function(o){switch(o.label){case 0:return zp(e),zp(r.signal),[4,n({pause:MT(r.signal),delay:Vee(r.signal),signal:r.signal})];case 1:return s=o.sent(),zp(r.signal),[2,s]}})})},function(){return Vp(r,p3e)});return{result:MT(e)(i),cancel:function(){Vp(r,h3e)}}}},v3e=function(e,t){var n=function(r,i){return av(void 0,null,function(){var s,o,a,u;return ov(this,function(l){switch(l.label){case 0:zp(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,Uee(t,Promise.race(a))];case 2:return u=l.sent(),zp(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Lee(n(r,i))}},zee=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Pu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return e3(s,"options.listener"),{predicate:i,type:t,effect:s}},b3e=function(e){var t=zee(e),n=t.type,r=t.predicate,i=t.effect,s=$ee(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},SR=function(e){e.pending.forEach(function(t){Vp(t,jee)})},w3e=function(e){return function(){e.forEach(SR),e.clear()}},Rj=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},E3e=Pu(uv+"/add"),T3e=Pu(uv+"/removeAll"),S3e=Pu(uv+"/remove"),x3e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Jy([uv+"/error"],e))};function I3e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?x3e:i;e3(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&SR(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=b3e(h)),o(p)},l=function(h){var p=zee(h),m=p.type,y=p.effect,g=p.predicate,_=a(function(v){var E=typeof m=="string"?v.type===m:v.predicate===g;return E&&v.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&SR(_)),!!_},c=function(h,p,m,y){return av(t,null,function(){var g,_,v;return ov(this,function(E){switch(E.label){case 0:g=new AbortController,_=v3e(u,g.signal),E.label=1;case 1:return E.trys.push([1,3,4,5]),h.pending.add(g),[4,Promise.resolve(h.effect(p,y3e({},m,{getOriginalState:y,condition:function(S,w){return _(S,w).then(Boolean)},take:_,delay:Vee(g.signal),pause:MT(g.signal),extra:r,signal:g.signal,fork:_3e(g.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,w,x){S!==g&&(Vp(S,jee),x.delete(S))})}})))];case 2:return E.sent(),[3,5];case 3:return v=E.sent(),v instanceof cI||Rj(s,v,{raisedBy:"effect"}),[3,5];case 4:return Vp(g,m3e),h.pending.delete(g),[7];case 5:return[2]}})})},f=w3e(n),d=function(h){return function(p){return function(m){if(E3e.match(m))return u(m.payload);if(T3e.match(m)){f();return}if(S3e.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===Pj)throw new Error(uv+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(m),n.size>0)for(var v=h.getState(),E=Array.from(n.values()),S=0,w=E;S<w.length;S++){var x=w[S],I=!1;try{I=x.predicate(m,v,y)}catch(M){I=!1,Rj(s,M,{raisedBy:"predicate"})}I&&c(x,m,h,g)}}finally{y=Pj}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var kj;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);R$e();async function A3e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=Dee({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:kee({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const Hee=T.createContext(null);function oc(){return T.useContext(Hee).actions}const ac=LZ,Qu=Y2e;function C3e(e){return Qu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var FT={exports:{}};FT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",_="[object Object]",v="[object Proxy]",E="[object RegExp]",S="[object Set]",w="[object String]",x="[object Undefined]",I="[object WeakMap]",M="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",q="[object Float64Array]",W="[object Int8Array]",U="[object Int16Array]",de="[object Int32Array]",ae="[object Uint8Array]",pe="[object Uint8ClampedArray]",ee="[object Uint16Array]",ie="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,A=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,z={};z[D]=z[q]=z[W]=z[U]=z[de]=z[ae]=z[pe]=z[ee]=z[ie]=!0,z[a]=z[u]=z[M]=z[c]=z[C]=z[f]=z[d]=z[h]=z[m]=z[y]=z[_]=z[E]=z[S]=z[w]=z[I]=!1;var k=typeof mo=="object"&&mo&&mo.Object===Object&&mo,R=typeof self=="object"&&self&&self.Object===Object&&self,Y=k||R||Function("return this")(),se=t&&!t.nodeType&&t,ue=se&&!0&&e&&!e.nodeType&&e,he=ue&&ue.exports===se,fe=he&&k.process,Se=function(){try{var H=ue&&ue.require&&ue.require("util").types;return H||fe&&fe.binding&&fe.binding("util")}catch{}}(),me=Se&&Se.isTypedArray;function Je(H,re,_e){switch(_e.length){case 0:return H.call(re);case 1:return H.call(re,_e[0]);case 2:return H.call(re,_e[0],_e[1]);case 3:return H.call(re,_e[0],_e[1],_e[2])}return H.apply(re,_e)}function Ge(H,re){for(var _e=-1,Qe=Array(H);++_e<H;)Qe[_e]=re(_e);return Qe}function qe(H){return function(re){return H(re)}}function Le(H,re){return H==null?void 0:H[re]}function Ae(H,re){return function(_e){return H(re(_e))}}var Ve=Array.prototype,en=Function.prototype,Me=Object.prototype,Ue=Y["__core-js_shared__"],Et=en.toString,ze=Me.hasOwnProperty,_t=function(){var H=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Gt=Me.toString,ln=Et.call(Object),Kn=RegExp("^"+Et.call(ze).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=he?Y.Buffer:void 0,Ee=Y.Symbol,Fe=Y.Uint8Array,ot=ce?ce.allocUnsafe:void 0,$e=Ae(Object.getPrototypeOf,Object),at=Object.create,Be=Me.propertyIsEnumerable,rt=Ve.splice,En=Ee?Ee.toStringTag:void 0,qt=function(){try{var H=Re(Object,"defineProperty");return H({},"",{}),H}catch{}}(),xt=ce?ce.isBuffer:void 0,jn=Math.max,Tn=Date.now,ma=Re(Y,"Map"),pr=Re(Object,"create"),Ui=function(){function H(){}return function(re){if(!Kf(re))return{};if(at)return at(re);H.prototype=re;var _e=new H;return H.prototype=void 0,_e}}();function Er(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function Fr(){this.__data__=pr?pr(null):{},this.size=0}function mr(H){var re=this.has(H)&&delete this.__data__[H];return this.size-=re?1:0,re}function Un(H){var re=this.__data__;if(pr){var _e=re[H];return _e===r?void 0:_e}return ze.call(re,H)?re[H]:void 0}function tn(H){var re=this.__data__;return pr?re[H]!==void 0:ze.call(re,H)}function ai(H,re){var _e=this.__data__;return this.size+=this.has(H)?0:1,_e[H]=pr&&re===void 0?r:re,this}Er.prototype.clear=Fr,Er.prototype.delete=mr,Er.prototype.get=Un,Er.prototype.has=tn,Er.prototype.set=ai;function Tr(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function Br(){this.__data__=[],this.size=0}function bi(H){var re=this.__data__,_e=ir(re,H);if(_e<0)return!1;var Qe=re.length-1;return _e==Qe?re.pop():rt.call(re,_e,1),--this.size,!0}function Ss(H){var re=this.__data__,_e=ir(re,H);return _e<0?void 0:re[_e][1]}function X(H){return ir(this.__data__,H)>-1}function V(H,re){var _e=this.__data__,Qe=ir(_e,H);return Qe<0?(++this.size,_e.push([H,re])):_e[Qe][1]=re,this}Tr.prototype.clear=Br,Tr.prototype.delete=bi,Tr.prototype.get=Ss,Tr.prototype.has=X,Tr.prototype.set=V;function Z(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function ye(){this.size=0,this.__data__={hash:new Er,map:new(ma||Tr),string:new Er}}function ge(H){var re=Pe(this,H).delete(H);return this.size-=re?1:0,re}function Ke(H){return Pe(this,H).get(H)}function Te(H){return Pe(this,H).has(H)}function We(H,re){var _e=Pe(this,H),Qe=_e.size;return _e.set(H,re),this.size+=_e.size==Qe?0:1,this}Z.prototype.clear=ye,Z.prototype.delete=ge,Z.prototype.get=Ke,Z.prototype.has=Te,Z.prototype.set=We;function dt(H){var re=this.__data__=new Tr(H);this.size=re.size}function nt(){this.__data__=new Tr,this.size=0}function gt(H){var re=this.__data__,_e=re.delete(H);return this.size=re.size,_e}function Lt(H){return this.__data__.get(H)}function Ln(H){return this.__data__.has(H)}function mt(H,re){var _e=this.__data__;if(_e instanceof Tr){var Qe=_e.__data__;if(!ma||Qe.length<n-1)return Qe.push([H,re]),this.size=++_e.size,this;_e=this.__data__=new Z(Qe)}return _e.set(H,re),this.size=_e.size,this}dt.prototype.clear=nt,dt.prototype.delete=gt,dt.prototype.get=Lt,dt.prototype.has=Ln,dt.prototype.set=mt;function Cn(H,re){var _e=KA(H),Qe=!_e&&Lh(H),cn=!_e&&!Qe&&qM(H),Vn=!_e&&!Qe&&!cn&&YM(H),or=_e||Qe||cn||Vn,nn=or?Ge(H.length,String):[],ar=nn.length;for(var ko in H)(re||ze.call(H,ko))&&!(or&&(ko=="length"||cn&&(ko=="offset"||ko=="parent")||Vn&&(ko=="buffer"||ko=="byteLength"||ko=="byteOffset")||Bt(ko,ar)))&&nn.push(ko);return nn}function Tt(H,re,_e){(_e!==void 0&&!$h(H[re],_e)||_e===void 0&&!(re in H))&&Kr(H,re,_e)}function yn(H,re,_e){var Qe=H[re];(!(ze.call(H,re)&&$h(Qe,_e))||_e===void 0&&!(re in H))&&Kr(H,re,_e)}function ir(H,re){for(var _e=H.length;_e--;)if($h(H[_e][0],re))return _e;return-1}function Kr(H,re,_e){re=="__proto__"&&qt?qt(H,re,{configurable:!0,enumerable:!0,value:_e,writable:!0}):H[re]=_e}var Nr=Ie();function cs(H){return H==null?H===void 0?x:g:En&&En in Object(H)?De(H):Gf(H)}function wi(H){return Dg(H)&&cs(H)==a}function gr(H){if(!Kf(H)||Sr(H))return!1;var re=XA(H)?Kn:A;return re.test(GA(H))}function Xe(H){return Dg(H)&&WM(H.length)&&!!z[cs(H)]}function zt(H){if(!Kf(H))return Is(H);var re=sr(H),_e=[];for(var Qe in H)Qe=="constructor"&&(re||!ze.call(H,Qe))||_e.push(Qe);return _e}function qn(H,re,_e,Qe,cn){H!==re&&Nr(re,function(Vn,or){if(cn||(cn=new dt),Kf(Vn))ui(H,re,or,_e,qn,Qe,cn);else{var nn=Qe?Qe(kg(H,or),Vn,or+"",H,re,cn):void 0;nn===void 0&&(nn=Vn),Tt(H,or,nn)}},GM)}function ui(H,re,_e,Qe,cn,Vn,or){var nn=kg(H,_e),ar=kg(re,_e),ko=or.get(ar);if(ko){Tt(H,_e,ko);return}var io=Vn?Vn(nn,ar,_e+"",H,re,or):void 0,$g=io===void 0;if($g){var JA=KA(ar),ZA=!JA&&qM(ar),QM=!JA&&!ZA&&YM(ar);io=ar,JA||ZA||QM?KA(nn)?io=nn:Lfe(nn)?io=oe(nn):ZA?($g=!1,io=Q(ar,!0)):QM?($g=!1,io=ne(ar,!0)):io=[]:Mfe(ar)||Lh(ar)?(io=nn,Lh(nn)?io=Ffe(nn):(!Kf(nn)||XA(nn))&&(io=et(ar))):$g=!1}$g&&(or.set(ar,io),cn(io,ar,Qe,Vn,or),or.delete(ar)),Tt(H,_e,io)}function xs(H,re){return Ng(Rg(H,re,KM),H+"")}var $=qt?function(H,re){return qt(H,"toString",{configurable:!0,enumerable:!1,value:jfe(re),writable:!0})}:KM;function Q(H,re){if(re)return H.slice();var _e=H.length,Qe=ot?ot(_e):new H.constructor(_e);return H.copy(Qe),Qe}function B(H){var re=new H.constructor(H.byteLength);return new Fe(re).set(new Fe(H)),re}function ne(H,re){var _e=re?B(H.buffer):H.buffer;return new H.constructor(_e,H.byteOffset,H.length)}function oe(H,re){var _e=-1,Qe=H.length;for(re||(re=Array(Qe));++_e<Qe;)re[_e]=H[_e];return re}function te(H,re,_e,Qe){var cn=!_e;_e||(_e={});for(var Vn=-1,or=re.length;++Vn<or;){var nn=re[Vn],ar=Qe?Qe(_e[nn],H[nn],nn,_e,H):void 0;ar===void 0&&(ar=H[nn]),cn?Kr(_e,nn,ar):yn(_e,nn,ar)}return _e}function be(H){return xs(function(re,_e){var Qe=-1,cn=_e.length,Vn=cn>1?_e[cn-1]:void 0,or=cn>2?_e[2]:void 0;for(Vn=H.length>3&&typeof Vn=="function"?(cn--,Vn):void 0,or&&_n(_e[0],_e[1],or)&&(Vn=cn<3?void 0:Vn,cn=1),re=Object(re);++Qe<cn;){var nn=_e[Qe];nn&&H(re,nn,Qe,Vn)}return re})}function Ie(H){return function(re,_e,Qe){for(var cn=-1,Vn=Object(re),or=Qe(re),nn=or.length;nn--;){var ar=or[H?nn:++cn];if(_e(Vn[ar],ar,Vn)===!1)break}return re}}function Pe(H,re){var _e=H.__data__;return Sn(re)?_e[typeof re=="string"?"string":"hash"]:_e.map}function Re(H,re){var _e=Le(H,re);return gr(_e)?_e:void 0}function De(H){var re=ze.call(H,En),_e=H[En];try{H[En]=void 0;var Qe=!0}catch{}var cn=Gt.call(H);return Qe&&(re?H[En]=_e:delete H[En]),cn}function et(H){return typeof H.constructor=="function"&&!sr(H)?Ui($e(H)):{}}function Bt(H,re){var _e=typeof H;return re=re??o,!!re&&(_e=="number"||_e!="symbol"&&O.test(H))&&H>-1&&H%1==0&&H<re}function _n(H,re,_e){if(!Kf(_e))return!1;var Qe=typeof re;return(Qe=="number"?QA(_e)&&Bt(re,_e.length):Qe=="string"&&re in _e)?$h(_e[re],H):!1}function Sn(H){var re=typeof H;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?H!=="__proto__":H===null}function Sr(H){return!!_t&&_t in H}function sr(H){var re=H&&H.constructor,_e=typeof re=="function"&&re.prototype||Me;return H===_e}function Is(H){var re=[];if(H!=null)for(var _e in Object(H))re.push(_e);return re}function Gf(H){return Gt.call(H)}function Rg(H,re,_e){return re=jn(re===void 0?H.length-1:re,0),function(){for(var Qe=arguments,cn=-1,Vn=jn(Qe.length-re,0),or=Array(Vn);++cn<Vn;)or[cn]=Qe[re+cn];cn=-1;for(var nn=Array(re+1);++cn<re;)nn[cn]=Qe[cn];return nn[re]=_e(or),Je(H,this,nn)}}function kg(H,re){if(!(re==="constructor"&&typeof H[re]=="function")&&re!="__proto__")return H[re]}var Ng=HM($);function HM(H){var re=0,_e=0;return function(){var Qe=Tn(),cn=s-(Qe-_e);if(_e=Qe,cn>0){if(++re>=i)return arguments[0]}else re=0;return H.apply(void 0,arguments)}}function GA(H){if(H!=null){try{return Et.call(H)}catch{}try{return H+""}catch{}}return""}function $h(H,re){return H===re||H!==H&&re!==re}var Lh=wi(function(){return arguments}())?wi:function(H){return Dg(H)&&ze.call(H,"callee")&&!Be.call(H,"callee")},KA=Array.isArray;function QA(H){return H!=null&&WM(H.length)&&!XA(H)}function Lfe(H){return Dg(H)&&QA(H)}var qM=xt||Ufe;function XA(H){if(!Kf(H))return!1;var re=cs(H);return re==h||re==p||re==l||re==v}function WM(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function Kf(H){var re=typeof H;return H!=null&&(re=="object"||re=="function")}function Dg(H){return H!=null&&typeof H=="object"}function Mfe(H){if(!Dg(H)||cs(H)!=_)return!1;var re=$e(H);if(re===null)return!0;var _e=ze.call(re,"constructor")&&re.constructor;return typeof _e=="function"&&_e instanceof _e&&Et.call(_e)==ln}var YM=me?qe(me):Xe;function Ffe(H){return te(H,GM(H))}function GM(H){return QA(H)?Cn(H,!0):zt(H)}var Bfe=be(function(H,re,_e){qn(H,re,_e)});function jfe(H){return function(){return H}}function KM(H){return H}function Ufe(){return!1}e.exports=Bfe})(FT,FT.exports);var O3e=FT.exports;const n3=qa(O3e);function qee(){return Qm().pathname.split("/")[1]}function ua(){return Qm().pathname.split("/")[2]}function lv(e){return structuredClone(e)}function r3(){const{answers:e}=Qu(n=>n),t=ua();return e[t]}const Wee=T.createContext(null);function P3e(){const e=T.useContext(Wee);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Yee(){const e=ua(),{sequence:t,trialValidation:n}=Qu(g=>g),r=r3(),i=ac(),{saveTrialAnswer:s,setIframeAnswers:o}=oc(),{storageEngine:a}=Lf(),l=!C3e(e),c=r==null?void 0:r.answer,f=Xm(),d=T.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${qee()}/${d}`,p=T.useMemo(()=>Date.now(),[]),m=P3e(),y=T.useCallback(()=>{const g=lv(n[e]),_=Object.values(g).reduce((w,x)=>Object.hasOwn(x,"values")?{...w,...x.values}:w,{}),{provenanceGraph:v}=g,E=Date.now(),S=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:E,provenanceGraph:v,windowEvents:S})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:E,provenanceGraph:v,windowEvents:S}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function R3e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=Yee(),o=T.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return P.jsx(Jo,{type:"submit",disabled:t||i,onClick:o,children:e})}function xR(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var k3e=Object.defineProperty,Nj=Object.getOwnPropertySymbols,N3e=Object.prototype.hasOwnProperty,D3e=Object.prototype.propertyIsEnumerable,Dj=(e,t,n)=>t in e?k3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$3e=(e,t)=>{for(var n in t||(t={}))N3e.call(t,n)&&Dj(e,n,t[n]);if(Nj)for(var n of Nj(t))D3e.call(t,n)&&Dj(e,n,t[n]);return e};function Gee(e,t){if(t===null||typeof t!="object")return{};const n=$3e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const L3e="__MANTINE_FORM_INDEX__";function $j(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${L3e}`)):!1:!1}function Lj(e,t,n){typeof n.value=="object"&&(n.value=_p(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function _p(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(_p(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(_p(a),_p(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(_p(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Lj(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Lj(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Kee(e){return typeof e!="string"?[]:e.split(".")}function fI(e,t,n){const r=Kee(e);if(r.length===0)return n;const i=_p(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function fl(e,t){const n=Kee(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function Mj(e){const t=xR(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function IR(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=fl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>IR(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||IR(o,t,a,i)),i},r)}function AR(e,t){return Mj(typeof e=="function"?e(t):IR(e,t))}function D1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=AR(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function M3e(e,{from:t,to:n},r){const i=fl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),fI(e,s,r)}var F3e=Object.defineProperty,Fj=Object.getOwnPropertySymbols,B3e=Object.prototype.hasOwnProperty,j3e=Object.prototype.propertyIsEnumerable,Bj=(e,t,n)=>t in e?F3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U3e=(e,t)=>{for(var n in t||(t={}))B3e.call(t,n)&&Bj(e,n,t[n]);if(Fj)for(var n of Fj(t))j3e.call(t,n)&&Bj(e,n,t[n]);return e};function V3e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=U3e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function z3e(e,t,n){const r=fl(e,n);return Array.isArray(r)?fI(e,r.filter((i,s)=>s!==t),n):n}var H3e=Object.defineProperty,jj=Object.getOwnPropertySymbols,q3e=Object.prototype.hasOwnProperty,W3e=Object.prototype.propertyIsEnumerable,Uj=(e,t,n)=>t in e?H3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y3e=(e,t)=>{for(var n in t||(t={}))q3e.call(t,n)&&Uj(e,n,t[n]);if(jj)for(var n of jj(t))W3e.call(t,n)&&Uj(e,n,t[n]);return e};function Vj(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function zj(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Gee(`${i}.${t}`,s));const o=Y3e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=Vj(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=Vj(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function G3e(e,t,n,r){const i=fl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),fI(e,s,r)}function Hj(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function K3e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var Q3e=Object.defineProperty,X3e=Object.defineProperties,J3e=Object.getOwnPropertyDescriptors,qj=Object.getOwnPropertySymbols,Z3e=Object.prototype.hasOwnProperty,eLe=Object.prototype.propertyIsEnumerable,Wj=(e,t,n)=>t in e?Q3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_c=(e,t)=>{for(var n in t||(t={}))Z3e.call(t,n)&&Wj(e,n,t[n]);if(qj)for(var n of qj(t))eLe.call(t,n)&&Wj(e,n,t[n]);return e},pO=(e,t)=>X3e(e,J3e(t));function tLe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=T.useState(r),[f,d]=T.useState(n),[h,p]=T.useState(e),[m,y]=T.useState(xR(t)),g=T.useRef(e),_=R=>{g.current=R},v=T.useCallback(()=>c({}),[]),E=R=>{const Y=R?_c(_c({},h),R):h;_(Y),d({})},S=T.useCallback(R=>y(Y=>xR(typeof R=="function"?R(Y):R)),[]),w=T.useCallback(()=>y({}),[]),x=T.useCallback(()=>{p(e),w(),_(e),d({}),v()},[]),I=T.useCallback((R,Y)=>S(se=>pO(_c({},se),{[R]:Y})),[]),M=T.useCallback(R=>S(Y=>{if(typeof R!="string")return Y;const se=_c({},Y);return delete se[R],se}),[]),C=T.useCallback(R=>d(Y=>{if(typeof R!="string")return Y;const se=Gee(R,Y);return delete se[R],se}),[]),D=T.useCallback((R,Y)=>{const se=$j(R,s);C(R),c(ue=>pO(_c({},ue),{[R]:!0})),p(ue=>{const he=fI(R,Y,ue);if(se){const fe=D1(R,u,he);fe.hasError?I(R,fe.error):M(R)}return he}),!se&&i&&I(R,null)},[]),q=T.useCallback(R=>{p(Y=>{const se=typeof R=="function"?R(Y):R;return _c(_c({},Y),se)}),i&&w()},[]),W=T.useCallback((R,Y)=>{C(R),p(se=>M3e(R,Y,se)),y(se=>V3e(R,Y,se))},[]),U=T.useCallback((R,Y)=>{C(R),p(se=>z3e(R,Y,se)),y(se=>zj(R,Y,se,-1))},[]),de=T.useCallback((R,Y,se)=>{C(R),p(ue=>G3e(R,Y,se,ue)),y(ue=>zj(R,se,ue,1))},[]),ae=T.useCallback(()=>{const R=AR(u,h);return y(R.errors),R},[h,u]),pe=T.useCallback(R=>{const Y=D1(R,u,h);return Y.hasError?I(R,Y.error):M(R),Y},[h,u]),ee=(R,{type:Y="input",withError:se=!0,withFocus:ue=!0}={})=>{const fe={onChange:K3e(Se=>D(R,Se))};return se&&(fe.error=m[R]),Y==="checkbox"?fe.checked=fl(R,h):fe.value=fl(R,h),ue&&(fe.onFocus=()=>c(Se=>pO(_c({},Se),{[R]:!0})),fe.onBlur=()=>{if($j(R,o)){const Se=D1(R,u,h);Se.hasError?I(R,Se.error):M(R)}}),fe},ie=(R,Y)=>se=>{se==null||se.preventDefault();const ue=ae();ue.hasErrors?Y==null||Y(ue.errors,h,se):R==null||R(a(h),se)},K=R=>a(R||h),A=T.useCallback(R=>{R.preventDefault(),x()},[]),O=R=>{if(R){const se=fl(R,f);if(typeof se=="boolean")return se;const ue=fl(R,h),he=fl(R,g.current);return!KB(ue,he)}return Object.keys(f).length>0?Hj(f):!KB(h,g.current)},z=T.useCallback(R=>Hj(l,R),[l]),k=T.useCallback(R=>R?!D1(R,u,h).hasError:!AR(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:q,setErrors:S,setFieldValue:D,setFieldError:I,clearFieldError:M,clearErrors:w,reset:x,validate:ae,validateField:pe,reorderListItem:W,removeListItem:U,insertListItem:de,getInputProps:ee,onSubmit:ie,onReset:A,isDirty:O,isTouched:z,setTouched:c,setDirty:d,resetTouched:v,resetDirty:E,isValid:k,getTransformedValues:K}}const nLe=new URLSearchParams(window.location.search),rLe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?nLe.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},iLe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function sLe(e,t,n){const[r,i]=T.useState(null),s=tLe({initialValues:rLe(e,n),validate:iLe(e)});return T.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function bh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const Yj=["http","https","mailto","tel"];function oLe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Yj.length;){const s=Yj[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aLe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const i3=qa(aLe);function Hp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Gj(e.position):"start"in e||"end"in e?Gj(e):"line"in e||"column"in e?CR(e):""}function CR(e){return Kj(e&&e.line)+":"+Kj(e&&e.column)}function Gj(e){return CR(e&&e.start)+"-"+CR(e&&e.end)}function Kj(e){return e&&typeof e=="number"?e:1}let la=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Hp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};la.prototype.file="";la.prototype.name="";la.prototype.reason="";la.prototype.message="";la.prototype.stack="";la.prototype.fatal=null;la.prototype.column=null;la.prototype.line=null;la.prototype.source=null;la.prototype.ruleId=null;la.prototype.position=null;const nu={basename:uLe,dirname:lLe,extname:cLe,join:fLe,sep:"/"};function uLe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');cv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function lLe(e){if(cv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function cLe(e){cv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function fLe(...e){let t=-1,n;for(;++t<e.length;)cv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dLe(n)}function dLe(e){cv(e);const t=e.charCodeAt(0)===47;let n=hLe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hLe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function cv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pLe={cwd:mLe};function mLe(){return"/"}function OR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function gLe(e){if(typeof e=="string")e=new URL(e);else if(!OR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return yLe(e)}function yLe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const mO=["history","path","basename","stem","extname","dirname"];let _Le=class{constructor(t){let n;t?typeof t=="string"||i3(t)?n={value:t}:OR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=pLe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<mO.length;){const s=mO[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)mO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){OR(t)&&(t=gLe(t)),yO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?nu.dirname(this.path):void 0}set dirname(t){Qj(this.basename,"dirname"),this.path=nu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?nu.basename(this.path):void 0}set basename(t){yO(t,"basename"),gO(t,"basename"),this.path=nu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?nu.extname(this.path):void 0}set extname(t){if(gO(t,"extname"),Qj(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?nu.basename(this.path,this.extname):void 0}set stem(t){yO(t,"stem"),gO(t,"stem"),this.path=nu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new la(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function gO(e,t){if(e&&e.includes(nu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nu.sep+"`")}function yO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Qj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Xj(e){if(e)throw e}var jb=Object.prototype.hasOwnProperty,Qee=Object.prototype.toString,Jj=Object.defineProperty,Zj=Object.getOwnPropertyDescriptor,eU=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Qee.call(t)==="[object Array]"},tU=function(t){if(!t||Qee.call(t)!=="[object Object]")return!1;var n=jb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&jb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||jb.call(t,i)},nU=function(t,n){Jj&&n.name==="__proto__"?Jj(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},rU=function(t,n){if(n==="__proto__")if(jb.call(t,n)){if(Zj)return Zj(t,n).value}else return;return t[n]},vLe=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=rU(a,n),i=rU(t,n),a!==i&&(c&&i&&(tU(i)||(s=eU(i)))?(s?(s=!1,o=r&&eU(r)?r:[]):o=r&&tU(r)?r:{},nU(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&nU(a,{name:n,newValue:i}));return a};const iU=qa(vLe);function PR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bLe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?wLe(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function wLe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class ca extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Hp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ca.prototype.file="";ca.prototype.name="";ca.prototype.reason="";ca.prototype.message="";ca.prototype.stack="";ca.prototype.fatal=null;ca.prototype.column=null;ca.prototype.line=null;ca.prototype.source=null;ca.prototype.ruleId=null;ca.prototype.position=null;const ru={basename:ELe,dirname:TLe,extname:SLe,join:xLe,sep:"/"};function ELe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function TLe(e){if(fv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function SLe(e){fv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function xLe(...e){let t=-1,n;for(;++t<e.length;)fv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ILe(n)}function ILe(e){fv(e);const t=e.charCodeAt(0)===47;let n=ALe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ALe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function fv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const CLe={cwd:OLe};function OLe(){return"/"}function RR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function PLe(e){if(typeof e=="string")e=new URL(e);else if(!RR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return RLe(e)}function RLe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _O=["history","path","basename","stem","extname","dirname"];class kLe{constructor(t){let n;t?typeof t=="string"||i3(t)?n={value:t}:RR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=CLe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<_O.length;){const s=_O[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)_O.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){RR(t)&&(t=PLe(t)),bO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?ru.dirname(this.path):void 0}set dirname(t){sU(this.basename,"dirname"),this.path=ru.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?ru.basename(this.path):void 0}set basename(t){bO(t,"basename"),vO(t,"basename"),this.path=ru.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?ru.extname(this.path):void 0}set extname(t){if(vO(t,"extname"),sU(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ru.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?ru.basename(this.path,this.extname):void 0}set stem(t){bO(t,"stem"),vO(t,"stem"),this.path=ru.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new ca(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function vO(e,t){if(e&&e.includes(ru.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ru.sep+"`")}function bO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function sU(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const NLe=Jee().freeze(),Xee={}.hasOwnProperty;function Jee(){const e=bLe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=Jee();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(iU(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(TO("data",r),n[m]=y,s):Xee.call(n,m)&&n[m]||null:m?(TO("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(TO("use",r),m!=null)if(typeof m=="function")S(m,...y);else if(typeof m=="object")Array.isArray(m)?E(m):v(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function _(w){if(typeof w=="function")S(w);else if(typeof w=="object")if(Array.isArray(w)){const[x,...I]=w;S(x,...I)}else v(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function v(w){E(w.plugins),w.settings&&(g=Object.assign(g||{},w.settings))}function E(w){let x=-1;if(w!=null)if(Array.isArray(w))for(;++x<w.length;){const I=w[x];_(I)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function S(w,x){let I=-1,M;for(;++I<t.length;)if(t[I][0]===w){M=t[I];break}M?(PR(M[1])&&PR(x)&&(x=iU(!0,M[1],x)),M[1]=x):t.push([...arguments])}}function l(m){s.freeze();const y=Zg(m),g=s.Parser;return wO("parse",g),oU(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=Zg(y),_=s.Compiler;return EO("stringify",_),aU(m),oU(_,"compile")?new _(m,g).compile():_(m,g)}function f(m,y,g){if(aU(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(_);_(null,g);function _(v,E){e.run(m,Zg(y),S);function S(w,x,I){x=x||m,w?E(w):v?v(x):g(null,x,I)}}}function d(m,y){let g,_;return s.run(m,y,v),uU("runSync","run",_),g;function v(E,S){Xj(E),g=S,_=!0}}function h(m,y){if(s.freeze(),wO("process",s.Parser),EO("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(_,v){const E=Zg(m);s.run(s.parse(E),E,(w,x,I)=>{if(w||!x||!I)S(w);else{const M=s.stringify(x,I);M==null||(LLe(M)?I.value=M:I.result=M),S(w,I)}});function S(w,x){w||!x?v(w):_?_(x):y(null,x)}}}function p(m){let y;s.freeze(),wO("processSync",s.Parser),EO("processSync",s.Compiler);const g=Zg(m);return s.process(g,_),uU("processSync","process",y),g;function _(v){y=!0,Xj(v)}}}function oU(e,t){return typeof e=="function"&&e.prototype&&(DLe(e.prototype)||t in e.prototype)}function DLe(e){let t;for(t in e)if(Xee.call(e,t))return!0;return!1}function wO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function EO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function TO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aU(e){if(!PR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uU(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zg(e){return $Le(e)?e:new kLe(e)}function $Le(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function LLe(e){return typeof e=="string"||i3(e)}function MLe(e,t){var{includeImageAlt:n=!0}=t||{};return Zee(e,n)}function Zee(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&lU(e.children,t)||Array.isArray(e)&&lU(e,t))||""}function lU(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=Zee(e[r],t);return n.join("")}function bo(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Vo(e,t){return e.length>0?(bo(e,e.length,0,t),e):t}const cU={}.hasOwnProperty;function ete(e){const t={};let n=-1;for(;++n<e.length;)FLe(t,e[n]);return t}function FLe(e,t){let n;for(n in t){const i=(cU.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){cU.call(i,o)||(i[o]=[]);const a=s[o];BLe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function BLe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);bo(e,0,0,r)}const jLe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ps=Bf(/[A-Za-z]/),kR=Bf(/\d/),ULe=Bf(/[\dA-Fa-f]/),ts=Bf(/[\dA-Za-z]/),VLe=Bf(/[!-/:-@[-`{-~]/),fU=Bf(/[#-'*+\--9=?A-Z^-~]/);function BT(e){return e!==null&&(e<32||e===127)}function nr(e){return e!==null&&(e<0||e===32)}function pt(e){return e!==null&&e<-2}function zn(e){return e===-2||e===-1||e===32}const Zd=Bf(/\s/),dI=Bf(jLe);function Bf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Qt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return zn(u)?(e.enter(n),a(u)):t(u)}function a(u){return zn(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const zLe={tokenize:HLe};function HLe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Qt(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const qLe={tokenize:WLe},dU={tokenize:YLe};function WLe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,u,l)(v)}return l(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const E=t.events.length;let S=E,w;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){w=t.events[S][1].end;break}g(r);let x=E;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},w),x++;return bo(t.events,S+1,0,t.events.slice(E)),t.events.length=x,l(v)}return a(v)}function l(v){if(r===n.length){if(!i)return d(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dU,c,f)(v)}function c(v){return i&&_(),g(r),d(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(v)}function d(v){return t.containerState={},e.attempt(dU,h,p)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),d(v)}function p(v){if(v===null){i&&_(),g(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(v)}function m(v){if(v===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(v);return}return pt(v)?(e.consume(v),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(v),m)}function y(v,E){const S=t.sliceStream(v);if(E&&S.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(S),t.parser.lazy[v.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const x=t.events.length;let I=x,M,C;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){C=t.events[I][1].end;break}M=!0}for(g(r),w=x;w<t.events.length;)t.events[w][1].end=Object.assign({},C),w++;bo(t.events,I+1,0,t.events.slice(x)),t.events.length=w}}function g(v){let E=n.length;for(;E-- >v;){const S=n[E];t.containerState=S[1],S[0].exit.call(t,e)}n.length=v}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function YLe(e,t,n){return Qt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jT(e){if(e===null||nr(e)||Zd(e))return 1;if(dI(e))return 2}function hI(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const NR={name:"attention",tokenize:KLe,resolveAll:GLe};function GLe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);hU(f,-u),hU(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Vo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Vo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Vo(l,hI(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Vo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Vo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,bo(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function KLe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jT(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=jT(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function hU(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const QLe={name:"autolink",tokenize:XLe};function XLe(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return ps(p)?(e.consume(p),o):fU(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||ts(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||ts(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||BT(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):fU(p)?(e.consume(p),l):n(p)}function c(p){return ts(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||ts(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const pI={tokenize:JLe,partial:!0};function JLe(e,t,n){return Qt(e,r,"linePrefix");function r(i){return i===null||pt(i)?t(i):n(i)}}const tte={name:"blockQuote",tokenize:ZLe,continuation:{tokenize:e6e},exit:t6e};function ZLe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return zn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function e6e(e,t,n){return Qt(e,e.attempt(tte,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function t6e(e){e.exit("blockQuote")}const nte={name:"characterEscape",tokenize:n6e};function n6e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return VLe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const pU=document.createElement("i");function s3(e){const t="&"+e+";";pU.innerHTML=t;const n=pU.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const rte={name:"characterReference",tokenize:r6e};function r6e(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=ts,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=ULe,c):(e.enter("characterReferenceValue"),s=7,o=kR,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===ts&&!s3(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const mU={name:"codeFenced",tokenize:i6e,concrete:!0};function i6e(e,t,n){const r=this,i={tokenize:S,partial:!0},s={tokenize:E,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(w){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=w,f(w)}function f(w){return w===l?(e.consume(w),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(w):Qt(e,d,"whitespace")(w))}function d(w){return w===null||pt(w)?y(w):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||nr(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qt(e,p,"whitespace")(w)):w===96&&w===l?n(w):(e.consume(w),h)}function p(w){return w===null||pt(w)?y(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(w)):w===96&&w===l?n(w):(e.consume(w),m)}function y(w){return e.exit("codeFencedFence"),r.interrupt?t(w):g(w)}function g(w){return w===null?v(w):pt(w)?e.attempt(s,e.attempt(i,v,a?Qt(e,g,"linePrefix",a+1):g),v)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||pt(w)?(e.exit("codeFlowValue"),g(w)):(e.consume(w),_)}function v(w){return e.exit("codeFenced"),t(w)}function E(w,x,I){const M=this;return C;function C(q){return w.enter("lineEnding"),w.consume(q),w.exit("lineEnding"),D}function D(q){return M.parser.lazy[M.now().line]?I(q):x(q)}}function S(w,x,I){let M=0;return Qt(w,C,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function C(W){return w.enter("codeFencedFence"),w.enter("codeFencedFenceSequence"),D(W)}function D(W){return W===l?(w.consume(W),M++,D):M<u?I(W):(w.exit("codeFencedFenceSequence"),Qt(w,q,"whitespace")(W))}function q(W){return W===null||pt(W)?(w.exit("codeFencedFence"),x(W)):I(W)}}}const SO={name:"codeIndented",tokenize:o6e},s6e={tokenize:a6e,partial:!0};function o6e(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Qt(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):pt(l)?e.attempt(s6e,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||pt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function a6e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):pt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Qt(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):pt(o)?i(o):n(o)}}const u6e={name:"codeText",tokenize:f6e,resolve:l6e,previous:c6e};function l6e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function c6e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f6e(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||pt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function ite(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,d6e(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),bo(e,i,n-i+1,a))}}return!l}function d6e(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+g.length-1]),bo(e,_,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const h6e={tokenize:g6e,resolve:m6e},p6e={tokenize:y6e,partial:!0};function m6e(e){return ite(e),e}function g6e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):pt(a)?e.check(p6e,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function y6e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Qt(e,s,"linePrefix")}function s(o){if(o===null||pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ste(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===41||BT(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||pt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return g===40?++c>l?n(g):(e.consume(g),m):g===41?c--?(e.consume(g),m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):g===null||nr(g)?c?n(g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):BT(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function ote(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!zn(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function ate(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Qt(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||pt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function oy(e,t){let n;return r;function r(i){return pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):zn(i)?Qt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Ma(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _6e={name:"definition",tokenize:b6e},v6e={tokenize:w6e,partial:!0};function b6e(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),ote.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),oy(e,ste(e,e.attempt(v6e,Qt(e,a,"whitespace"),Qt(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||pt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function w6e(e,t,n){return r;function r(o){return nr(o)?oy(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?ate(e,Qt(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||pt(o)?t(o):n(o)}}const E6e={name:"hardBreakEscape",tokenize:T6e};function T6e(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return pt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const S6e={name:"headingAtx",tokenize:I6e,resolve:x6e};function x6e(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},bo(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function I6e(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||nr(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||pt(c)?(e.exit("atxHeading"),t(c)):zn(c)?Qt(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||nr(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const A6e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gU=["pre","script","style","textarea"],C6e={name:"htmlFlow",tokenize:R6e,resolveTo:P6e,concrete:!0},O6e={tokenize:k6e,partial:!0};function P6e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function R6e(e,t,n){const r=this;let i,s,o,a,u;return l;function l(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),f):O===47?(e.consume(O),p):O===63?(e.consume(O),i=3,r.interrupt?t:ie):ps(O)?(e.consume(O),o=String.fromCharCode(O),s=!0,m):n(O)}function f(O){return O===45?(e.consume(O),i=2,d):O===91?(e.consume(O),i=5,o="CDATA[",a=0,h):ps(O)?(e.consume(O),i=4,r.interrupt?t:ie):n(O)}function d(O){return O===45?(e.consume(O),r.interrupt?t:ie):n(O)}function h(O){return O===o.charCodeAt(a++)?(e.consume(O),a===o.length?r.interrupt?t:D:h):n(O)}function p(O){return ps(O)?(e.consume(O),o=String.fromCharCode(O),m):n(O)}function m(O){return O===null||O===47||O===62||nr(O)?O!==47&&s&&gU.includes(o.toLowerCase())?(i=1,r.interrupt?t(O):D(O)):A6e.includes(o.toLowerCase())?(i=6,O===47?(e.consume(O),y):r.interrupt?t(O):D(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?_(O):g(O)):O===45||ts(O)?(e.consume(O),o+=String.fromCharCode(O),m):n(O)}function y(O){return O===62?(e.consume(O),r.interrupt?t:D):n(O)}function g(O){return zn(O)?(e.consume(O),g):M(O)}function _(O){return O===47?(e.consume(O),M):O===58||O===95||ps(O)?(e.consume(O),v):zn(O)?(e.consume(O),_):M(O)}function v(O){return O===45||O===46||O===58||O===95||ts(O)?(e.consume(O),v):E(O)}function E(O){return O===61?(e.consume(O),S):zn(O)?(e.consume(O),E):_(O)}function S(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),u=O,w):zn(O)?(e.consume(O),S):(u=null,x(O))}function w(O){return O===null||pt(O)?n(O):O===u?(e.consume(O),I):(e.consume(O),w)}function x(O){return O===null||O===34||O===39||O===60||O===61||O===62||O===96||nr(O)?E(O):(e.consume(O),x)}function I(O){return O===47||O===62||zn(O)?_(O):n(O)}function M(O){return O===62?(e.consume(O),C):n(O)}function C(O){return zn(O)?(e.consume(O),C):O===null||pt(O)?D(O):n(O)}function D(O){return O===45&&i===2?(e.consume(O),de):O===60&&i===1?(e.consume(O),ae):O===62&&i===4?(e.consume(O),K):O===63&&i===3?(e.consume(O),ie):O===93&&i===5?(e.consume(O),ee):pt(O)&&(i===6||i===7)?e.check(O6e,K,q)(O):O===null||pt(O)?q(O):(e.consume(O),D)}function q(O){return e.exit("htmlFlowData"),W(O)}function W(O){return O===null?A(O):pt(O)?e.attempt({tokenize:U,partial:!0},W,A)(O):(e.enter("htmlFlowData"),D(O))}function U(O,z,k){return R;function R(se){return O.enter("lineEnding"),O.consume(se),O.exit("lineEnding"),Y}function Y(se){return r.parser.lazy[r.now().line]?k(se):z(se)}}function de(O){return O===45?(e.consume(O),ie):D(O)}function ae(O){return O===47?(e.consume(O),o="",pe):D(O)}function pe(O){return O===62&&gU.includes(o.toLowerCase())?(e.consume(O),K):ps(O)&&o.length<8?(e.consume(O),o+=String.fromCharCode(O),pe):D(O)}function ee(O){return O===93?(e.consume(O),ie):D(O)}function ie(O){return O===62?(e.consume(O),K):O===45&&i===2?(e.consume(O),ie):D(O)}function K(O){return O===null||pt(O)?(e.exit("htmlFlowData"),A(O)):(e.consume(O),K)}function A(O){return e.exit("htmlFlow"),t(O)}}function k6e(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(pI,t,n)}}const N6e={name:"htmlText",tokenize:D6e};function D6e(e,t,n){const r=this;let i,s,o,a;return u;function u(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),c):A===47?(e.consume(A),x):A===63?(e.consume(A),S):ps(A)?(e.consume(A),C):n(A)}function c(A){return A===45?(e.consume(A),f):A===91?(e.consume(A),s="CDATA[",o=0,y):ps(A)?(e.consume(A),E):n(A)}function f(A){return A===45?(e.consume(A),d):n(A)}function d(A){return A===null||A===62?n(A):A===45?(e.consume(A),h):p(A)}function h(A){return A===null||A===62?n(A):p(A)}function p(A){return A===null?n(A):A===45?(e.consume(A),m):pt(A)?(a=p,ee(A)):(e.consume(A),p)}function m(A){return A===45?(e.consume(A),K):p(A)}function y(A){return A===s.charCodeAt(o++)?(e.consume(A),o===s.length?g:y):n(A)}function g(A){return A===null?n(A):A===93?(e.consume(A),_):pt(A)?(a=g,ee(A)):(e.consume(A),g)}function _(A){return A===93?(e.consume(A),v):g(A)}function v(A){return A===62?K(A):A===93?(e.consume(A),v):g(A)}function E(A){return A===null||A===62?K(A):pt(A)?(a=E,ee(A)):(e.consume(A),E)}function S(A){return A===null?n(A):A===63?(e.consume(A),w):pt(A)?(a=S,ee(A)):(e.consume(A),S)}function w(A){return A===62?K(A):S(A)}function x(A){return ps(A)?(e.consume(A),I):n(A)}function I(A){return A===45||ts(A)?(e.consume(A),I):M(A)}function M(A){return pt(A)?(a=M,ee(A)):zn(A)?(e.consume(A),M):K(A)}function C(A){return A===45||ts(A)?(e.consume(A),C):A===47||A===62||nr(A)?D(A):n(A)}function D(A){return A===47?(e.consume(A),K):A===58||A===95||ps(A)?(e.consume(A),q):pt(A)?(a=D,ee(A)):zn(A)?(e.consume(A),D):K(A)}function q(A){return A===45||A===46||A===58||A===95||ts(A)?(e.consume(A),q):W(A)}function W(A){return A===61?(e.consume(A),U):pt(A)?(a=W,ee(A)):zn(A)?(e.consume(A),W):D(A)}function U(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,de):pt(A)?(a=U,ee(A)):zn(A)?(e.consume(A),U):(e.consume(A),i=void 0,pe)}function de(A){return A===i?(e.consume(A),ae):A===null?n(A):pt(A)?(a=de,ee(A)):(e.consume(A),de)}function ae(A){return A===62||A===47||nr(A)?D(A):n(A)}function pe(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===62||nr(A)?D(A):(e.consume(A),pe)}function ee(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Qt(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ie(A){return e.enter("htmlTextData"),a(A)}function K(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}}const o3={name:"labelEnd",tokenize:j6e,resolveTo:B6e,resolveAll:F6e},$6e={tokenize:U6e},L6e={tokenize:V6e},M6e={tokenize:z6e};function F6e(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function B6e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Vo(a,e.slice(s+1,s+r+3)),a=Vo(a,[["enter",c,t]]),a=Vo(a,hI(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Vo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Vo(a,e.slice(o+1)),a=Vo(a,[["exit",u,t]]),bo(e,s,e.length,a),e}function j6e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(Ma(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt($6e,t,o?t:l)(c):c===91?e.attempt(L6e,t,o?e.attempt(M6e,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function U6e(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),oy(e,i)}function i(u){return u===41?a(u):ste(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return nr(u)?oy(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?ate(e,oy(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function V6e(e,t,n){const r=this;return i;function i(o){return ote.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function z6e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const H6e={name:"labelStartImage",tokenize:q6e,resolveAll:o3.resolveAll};function q6e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const W6e={name:"labelStartLink",tokenize:Y6e,resolveAll:o3.resolveAll};function Y6e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const xO={name:"lineEnding",tokenize:G6e};function G6e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Qt(e,t,"linePrefix")}}const Ub={name:"thematicBreak",tokenize:K6e};function K6e(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):zn(u)?Qt(e,o,"whitespace")(u):r<3||u!==null&&!pt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const Os={name:"list",tokenize:J6e,continuation:{tokenize:Z6e},exit:tMe},Q6e={tokenize:nMe,partial:!0},X6e={tokenize:eMe,partial:!0};function J6e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:kR(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Ub,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return kR(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(pI,r.interrupt?n:c,e.attempt(Q6e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return zn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Z6e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(pI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Qt(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!zn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(X6e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Qt(e,e.attempt(Os,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function eMe(e,t,n){const r=this;return Qt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function tMe(e){e.exit(this.containerState.type)}function nMe(e,t,n){const r=this;return Qt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!zn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const yU={name:"setextUnderline",tokenize:iMe,resolveTo:rMe};function rMe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function iMe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Qt(e,l,"lineSuffix")(c))}function l(c){return c===null||pt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const sMe={tokenize:oMe};function oMe(e){const t=this,n=e.attempt(pI,r,e.attempt(this.parser.constructs.flowInitial,i,Qt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(h6e,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const aMe={resolveAll:lte()},uMe=ute("string"),lMe=ute("text");function ute(e){return{tokenize:t,resolveAll:lte(e==="text"?cMe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function lte(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function cMe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function fMe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:v,exit:E,attempt:x(S),check:x(w),interrupt:x(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(D){return o=Vo(o,D),y(),o[o.length-1]!==null?[]:(I(t,0),l.events=hI(s,l.events,l),l.events)}function d(D,q){return hMe(h(D),q)}function h(D){return dMe(o,D)}function p(){return Object.assign({},r)}function m(D){i[D.line]=D.column,C()}function y(){let D;for(;r._index<o.length;){const q=o[r._index];if(typeof q=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<q.length;)g(q.charCodeAt(r._bufferIndex));else g(q)}}function g(D){c=c(D)}function _(D){pt(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,C()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=D}function v(D,q){const W=q||{};return W.type=D,W.start=p(),l.events.push(["enter",W,l]),a.push(W),W}function E(D){const q=a.pop();return q.end=p(),l.events.push(["exit",q,l]),q}function S(D,q){I(D,q.from)}function w(D,q){q.restore()}function x(D,q){return W;function W(U,de,ae){let pe,ee,ie,K;return Array.isArray(U)?O(U):"tokenize"in U?O([U]):A(U);function A(Y){return se;function se(ue){const he=ue!==null&&Y[ue],fe=ue!==null&&Y.null,Se=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return O(Se)(ue)}}function O(Y){return pe=Y,ee=0,Y.length===0?ae:z(Y[ee])}function z(Y){return se;function se(ue){return K=M(),ie=Y,Y.partial||(l.currentConstruct=Y),Y.name&&l.parser.constructs.disable.null.includes(Y.name)?R():Y.tokenize.call(q?Object.assign(Object.create(l),q):l,u,k,R)(ue)}}function k(Y){return D(ie,K),de}function R(Y){return K.restore(),++ee<pe.length?z(pe[ee]):ae}}}function I(D,q){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&bo(l.events,q,l.events.length-q,D.resolve(l.events.slice(q),l)),D.resolveTo&&(l.events=D.resolveTo(l.events,l))}function M(){const D=p(),q=l.previous,W=l.currentConstruct,U=l.events.length,de=Array.from(a);return{restore:ae,from:U};function ae(){r=D,l.previous=q,l.currentConstruct=W,l.events.length=U,a=de,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dMe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function hMe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const pMe={42:Os,43:Os,45:Os,48:Os,49:Os,50:Os,51:Os,52:Os,53:Os,54:Os,55:Os,56:Os,57:Os,62:tte},mMe={91:_6e},gMe={[-2]:SO,[-1]:SO,32:SO},yMe={35:S6e,42:Ub,45:[yU,Ub],60:C6e,61:yU,95:Ub,96:mU,126:mU},_Me={38:rte,92:nte},vMe={[-5]:xO,[-4]:xO,[-3]:xO,33:H6e,38:rte,42:NR,60:[QLe,N6e],91:W6e,92:[E6e,nte],93:o3,95:NR,96:u6e},bMe={null:[NR,aMe]},wMe={null:[42,95]},EMe={null:[]},TMe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wMe,contentInitial:mMe,disable:EMe,document:pMe,flow:yMe,flowInitial:gMe,insideSpan:bMe,string:_Me,text:vMe},Symbol.toStringTag,{value:"Module"}));function SMe(e={}){const t=ete([TMe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(zLe),document:r(qLe),flow:r(sMe),string:r(uMe),text:r(lMe)};return n;function r(i){return s;function s(o){return fMe(n,i,o)}}}const _U=/[\0\t\n\r]/g;function xMe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(_U.lastIndex=f,l=_U.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function IMe(e){for(;!ite(e););return e}function cte(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const AMe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fte(e){return e.replace(AMe,CMe)}function CMe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cte(n.slice(s?2:1),s?16:10)}return s3(n)||e}const DR={}.hasOwnProperty,OMe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),PMe(n)(IMe(SMe(n).document().write(xMe()(e,t,!0))))};function PMe(e={}){const t=dte({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ue),autolinkProtocol:q,autolinkEmail:q,atxHeading:u(Ae),blockQuote:u(me),characterEscape:q,characterReference:q,codeFenced:u(Je),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(Je,l),codeText:u(Ge,l),codeTextData:q,data:q,codeFlowValue:q,definition:u(qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Le),hardBreakEscape:u(Ve),hardBreakTrailing:u(Ve),htmlFlow:u(en,l),htmlFlowData:q,htmlText:u(en,l),htmlTextData:q,image:u(Me),label:l,link:u(Ue),listItem:u(ze),listItemValue:m,listOrdered:u(Et,p),listUnordered:u(Et),paragraph:u(_t),reference:Y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(Ae),strong:u(Gt),thematicBreak:u(Kn)},exit:{atxHeading:f(),atxHeadingSequence:I,autolink:f(),autolinkEmail:Se,autolinkProtocol:fe,blockQuote:f(),characterEscapeValue:W,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:he,codeFenced:f(v),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:g,codeFlowValue:W,codeIndented:f(E),codeText:f(ee),codeTextData:W,data:W,definition:f(),definitionDestinationString:x,definitionLabelString:S,definitionTitleString:w,emphasis:f(),hardBreakEscape:f(de),hardBreakTrailing:f(de),htmlFlow:f(ae),htmlFlowData:W,htmlText:f(pe),htmlTextData:W,image:f(K),label:O,labelText:A,lineEnding:U,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:se,resourceDestinationString:z,resourceTitleString:k,resource:R,setextHeading:f(D),setextHeadingLineSequence:C,setextHeadingText:M,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(ce){let Ee={type:"root",children:[]};const Fe=[Ee],ot=[],$e=[],at={stack:Fe,tokenStack:ot,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Be=-1;for(;++Be<ce.length;)if(ce[Be][1].type==="listOrdered"||ce[Be][1].type==="listUnordered")if(ce[Be][0]==="enter")$e.push(Be);else{const rt=$e.pop();Be=i(ce,rt,Be)}for(Be=-1;++Be<ce.length;){const rt=t[ce[Be][0]];DR.call(rt,ce[Be][1].type)&&rt[ce[Be][1].type].call(Object.assign({sliceSerialize:ce[Be][2].sliceSerialize},at),ce[Be][1])}if(ot.length>0){const rt=ot[ot.length-1];(rt[1]||vU).call(at,void 0,rt[0])}for(Ee.position={start:a(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:a(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)Ee=t.transforms[Be](Ee)||Ee;return Ee}function i(ce,Ee,Fe){let ot=Ee-1,$e=-1,at=!1,Be,rt,En,qt;for(;++ot<=Fe;){const xt=ce[ot];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?$e++:$e--,qt=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(Be&&!qt&&!$e&&!En&&(En=ot),qt=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(qt=void 0),!$e&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||$e===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Be){let jn=ot;for(rt=void 0;jn--;){const Tn=ce[jn];if(Tn[1].type==="lineEnding"||Tn[1].type==="lineEndingBlank"){if(Tn[0]==="exit")continue;rt&&(ce[rt][1].type="lineEndingBlank",at=!0),Tn[1].type="lineEnding",rt=jn}else if(!(Tn[1].type==="linePrefix"||Tn[1].type==="blockQuotePrefix"||Tn[1].type==="blockQuotePrefixWhitespace"||Tn[1].type==="blockQuoteMarker"||Tn[1].type==="listItemIndent"))break}En&&(!rt||En<rt)&&(Be._spread=!0),Be.end=Object.assign({},rt?ce[rt][1].start:xt[1].end),ce.splice(rt||ot,0,["exit",Be,xt[2]]),ot++,Fe++}xt[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start)},ce.splice(ot,0,["enter",Be,xt[2]]),ot++,Fe++,En=void 0,qt=!0)}}return ce[Ee][1]._spread=at,Fe}function s(ce,Ee){n[ce]=Ee}function o(ce){return n[ce]}function a(ce){return{line:ce.line,column:ce.column,offset:ce.offset}}function u(ce,Ee){return Fe;function Fe(ot){c.call(this,ce(ot),ot),Ee&&Ee.call(this,ot)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ce,Ee,Fe){return this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Ee,Fe]),ce.position={start:a(Ee.start)},ce}function f(ce){return Ee;function Ee(Fe){ce&&ce.call(this,Fe),d.call(this,Fe)}}function d(ce,Ee){const Fe=this.stack.pop(),ot=this.tokenStack.pop();if(ot)ot[0].type!==ce.type&&(Ee?Ee.call(this,ce,ot[0]):(ot[1]||vU).call(this,ce,ot[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Hp({start:ce.start,end:ce.end})+"): its not open");return Fe.position.end=a(ce.end),Fe}function h(){return MLe(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function m(ce){if(o("expectingFirstListItemValue")){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(ce),10),s("expectingFirstListItemValue")}}function y(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=ce}function g(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=ce}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function E(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/(\r?\n|\r)$/g,"")}function S(ce){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Ma(this.sliceSerialize(ce)).toLowerCase()}function w(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function x(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function I(ce){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Fe=this.sliceSerialize(ce).length;Ee.depth=Fe}}function M(){s("setextHeadingSlurpLineEnding",!0)}function C(ce){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(ce).charCodeAt(0)===61?1:2}function D(){s("setextHeadingSlurpLineEnding")}function q(ce){const Ee=this.stack[this.stack.length-1];let Fe=Ee.children[Ee.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=ln(),Fe.position={start:a(ce.start)},Ee.children.push(Fe)),this.stack.push(Fe)}function W(ce){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(ce),Ee.position.end=a(ce.end)}function U(ce){const Ee=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=Ee.children[Ee.children.length-1];Fe.position.end=a(ce.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ee.type)&&(q.call(this,ce),W.call(this,ce))}function de(){s("atHardBreak",!0)}function ae(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function pe(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function ee(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function ie(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function K(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function A(ce){const Ee=this.stack[this.stack.length-2],Fe=this.sliceSerialize(ce);Ee.label=fte(Fe),Ee.identifier=Ma(Fe).toLowerCase()}function O(){const ce=this.stack[this.stack.length-1],Ee=this.resume(),Fe=this.stack[this.stack.length-1];s("inReference",!0),Fe.type==="link"?Fe.children=ce.children:Fe.alt=Ee}function z(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function k(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function R(){s("inReference")}function Y(){s("referenceType","collapsed")}function se(ce){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Ma(this.sliceSerialize(ce)).toLowerCase(),s("referenceType","full")}function ue(ce){s("characterReferenceType",ce.type)}function he(ce){const Ee=this.sliceSerialize(ce),Fe=o("characterReferenceType");let ot;Fe?(ot=cte(Ee,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ot=s3(Ee);const $e=this.stack.pop();$e.value+=ot,$e.position.end=a(ce.end)}function fe(ce){W.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(ce)}function Se(ce){W.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(ce)}function me(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:void 0,children:[]}}function Ve(){return{type:"break"}}function en(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function Et(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function ze(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function _t(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function ln(){return{type:"text",value:""}}function Kn(){return{type:"thematicBreak"}}}function dte(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?dte(e,r):RMe(e,r)}return e}function RMe(e,t){let n;for(n in t)if(DR.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(DR.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function vU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hp({start:t.start,end:t.end})+") is still open")}function kMe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return OMe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ni=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const Vb={}.hasOwnProperty;function NMe(e,t){const n=t.data||{};return"value"in t&&!(Vb.call(n,"hName")||Vb.call(n,"hProperties")||Vb.call(n,"hChildren"))?e.augment(t,ni("text",t.value)):e(t,"div",us(e,t))}function hte(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return Vb.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=DMe:i=e.unknownHandler,(typeof i=="function"?i:NMe)(e,t,n)}function DMe(e,t){return"children"in t?{...t,children:us(e,t)}:t}function us(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=hte(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const mI=function(e){if(e==null)return FMe;if(typeof e=="string")return MMe(e);if(typeof e=="object")return Array.isArray(e)?$Me(e):LMe(e);if(typeof e=="function")return gI(e);throw new Error("Expected function, string, or object as test")};function $Me(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mI(e[n]);return gI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function LMe(e){return gI(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function MMe(e){return gI(t);function t(n){return n&&n.type===e}}function gI(e){return t;function t(...n){return!!e.call(this,...n)}}function FMe(){return!0}const BMe=!0,jMe="skip",bU=!1,UMe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=mI(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,m,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=VMe(n(a,l)),h[0]===bU))return h;if(a.children&&h[0]!==jMe)for(m=(r?a.children.length:-1)+s,y=l.concat(a);m>-1&&m<a.children.length;){if(p=o(a.children[m],m,y)(),p[0]===bU)return p;m=typeof p[1]=="number"?p[1]:m+s}return h}}};function VMe(e){return Array.isArray(e)?e:typeof e=="number"?[BMe,e]:[e]}const a3=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),UMe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},pte=gte("start"),mte=gte("end");function gte(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function zMe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const wU={}.hasOwnProperty;function HMe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return a3(e,"definition",r=>{const i=EU(r.identifier);i&&!wU.call(t,i)&&(t[i]=r)}),n;function n(r){const i=EU(r);return i&&wU.call(t,i)?t[i]:null}}function EU(e){return String(e||"").toUpperCase()}function ig(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ts(e.charCodeAt(n+1))&&ts(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bl(e,t){const n=[];let r=-1;for(t&&n.push(ni("text",`
`));++r<e.length;)r&&n.push(ni("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(ni("text",`
`)),n}function qMe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=us(e,r),s=String(r.identifier),o=ig(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:bl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[ni("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:bl(n,!0)},{type:"text",value:`
`}]}}function WMe(e,t){return e(t,"blockquote",bl(us(e,t),!0))}function YMe(e,t){return[e(t,"br"),ni("text",`
`)]}function GMe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[ni("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function KMe(e,t){return e(t,"del",us(e,t))}function QMe(e,t){return e(t,"em",us(e,t))}function yte(e,t){const n=String(t.identifier),r=ig(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[ni("text",String(s))])])}function XMe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},yte(e,{type:"footnoteReference",identifier:i,position:t.position})}function JMe(e,t){return e(t,"h"+t.depth,us(e,t))}function ZMe(e,t){return e.dangerous?e.augment(t,ni("raw",t.value)):null}function _te(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return ni("text","!["+t.alt+r);const i=us(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(ni("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(ni("text",r)),i}function e4e(e,t){const n=e.definition(t.identifier);if(!n)return _te(e,t);const r={src:ig(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function t4e(e,t){const n={src:ig(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function n4e(e,t){return e(t,"code",[ni("text",t.value.replace(/\r?\n|\r/g," "))])}function r4e(e,t){const n=e.definition(t.identifier);if(!n)return _te(e,t);const r={href:ig(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,us(e,t))}function i4e(e,t){const n={href:ig(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,us(e,t))}function s4e(e,t,n){const r=us(e,t),i=n?o4e(n):vte(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(ni("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(ni("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(ni("text",`
`)),e(t,"li",s,o)}function o4e(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=vte(n[r]);return!!t}function vte(e){const t=e.spread;return t??e.children.length>1}function a4e(e,t){const n={},r=t.ordered?"ol":"ul",i=us(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,bl(i,!0))}function u4e(e,t){return e(t,"p",us(e,t))}function l4e(e,t){return e.augment(t,ni("root",bl(us(e,t))))}function c4e(e,t){return e(t,"strong",us(e,t))}function f4e(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?us(e,f):[]))}s[r]=e(n[r],"tr",bl(u,!0))}return e(t,"table",bl([e(s[0].position,"thead",bl([s[0]],!0))].concat(s[1]?e({start:pte(s[1]),end:mte(s[s.length-1])},"tbody",bl(s.slice(1),!0)):[]),!0))}const TU=9,SU=32;function d4e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(xU(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(xU(t.slice(i),i>0,!1)),s.join("")}function xU(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===TU||s===SU;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===TU||s===SU;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function h4e(e,t){return e.augment(t,ni("text",d4e(String(t.value))))}function p4e(e,t){return e(t,"hr")}const m4e={blockquote:WMe,break:YMe,code:GMe,delete:KMe,emphasis:QMe,footnoteReference:yte,footnote:XMe,heading:JMe,html:ZMe,imageReference:e4e,image:t4e,inlineCode:n4e,linkReference:r4e,link:i4e,listItem:s4e,list:a4e,paragraph:u4e,root:l4e,strong:c4e,table:f4e,text:h4e,thematicBreak:p4e,toml:$1,yaml:$1,definition:$1,footnoteDefinition:$1};function $1(){return null}const g4e={}.hasOwnProperty;function y4e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=HMe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...m4e,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,a3(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();g4e.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};zMe(l)||(u.position={start:pte(l),end:mte(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function bte(e,t){const n=y4e(e,t),r=hte(n,e,null),i=qMe(n);return i&&r.children.push(ni("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const _4e=function(e,t){return e&&"run"in e?b4e(e,t):w4e(e||t)},v4e=_4e;function b4e(e,t){return(n,r,i)=>{e.run(bte(n,t),r,s=>{i(s)})}}function w4e(e){return t=>bte(t,e)}var wte={exports:{}},E4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T4e=E4e,S4e=T4e;function Ete(){}function Tte(){}Tte.resetWarningCache=Ete;var x4e=function(){function e(r,i,s,o,a,u){if(u!==S4e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tte,resetWarningCache:Ete};return n.PropTypes=n,n};wte.exports=x4e();var I4e=wte.exports;const ht=qa(I4e);let dv=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};dv.prototype.property={};dv.prototype.normal={};dv.prototype.space=null;function Ste(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new dv(n,r,t)}function Zy(e){return e.toLowerCase()}class fa{constructor(t,n){this.property=t,this.attribute=n}}fa.prototype.space=null;fa.prototype.boolean=!1;fa.prototype.booleanish=!1;fa.prototype.overloadedBoolean=!1;fa.prototype.number=!1;fa.prototype.commaSeparated=!1;fa.prototype.spaceSeparated=!1;fa.prototype.commaOrSpaceSeparated=!1;fa.prototype.mustUseProperty=!1;fa.prototype.defined=!1;let A4e=0;const Ut=wh(),Ur=wh(),xte=wh(),Ne=wh(),Xn=wh(),qp=wh(),ao=wh();function wh(){return 2**++A4e}const $R=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Ur,commaOrSpaceSeparated:ao,commaSeparated:qp,number:Ne,overloadedBoolean:xte,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),IO=Object.keys($R);class u3 extends fa{constructor(t,n,r,i){let s=-1;if(super(t,n),IU(this,"space",i),typeof r=="number")for(;++s<IO.length;){const o=IO[s];IU(this,IO[s],(r&$R[o])===$R[o])}}}u3.prototype.defined=!0;function IU(e,t,n){n&&(e[t]=n)}const C4e={}.hasOwnProperty;function sg(e){const t={},n={};let r;for(r in e.properties)if(C4e.call(e.properties,r)){const i=e.properties[r],s=new u3(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Zy(r)]=r,n[Zy(s.attribute)]=r}return new dv(t,n,e.space)}const Ite=sg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ate=sg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Cte(e,t){return t in e?e[t]:t}function Ote(e,t){return Cte(e,t.toLowerCase())}const Pte=sg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Ote,properties:{xmlns:null,xmlnsXLink:null}}),Rte=sg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ur,ariaAutoComplete:null,ariaBusy:Ur,ariaChecked:Ur,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:Ur,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:Ur,ariaFlowTo:Xn,ariaGrabbed:Ur,ariaHasPopup:null,ariaHidden:Ur,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:Ne,ariaLive:null,ariaModal:Ur,ariaMultiLine:Ur,ariaMultiSelectable:Ur,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Ur,ariaReadOnly:Ur,ariaRelevant:null,ariaRequired:Ur,ariaRoleDescription:Xn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Ur,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null}}),O4e=sg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Ote,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qp,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Xn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Xn,cols:Ne,colSpan:null,content:null,contentEditable:Ur,controls:Ut,controlsList:Xn,coords:Ne|qp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:xte,draggable:Ur,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Xn,height:Ne,hidden:Ut,high:Ne,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:Ut,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Ne,pattern:null,ping:Xn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Xn,required:Ut,reversed:Ut,rows:Ne,rowSpan:Ne,sandbox:Xn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Ur,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Ur,width:Ne,wrap:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Ur,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Ne,security:null,unselectable:null}}),P4e=sg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Cte,properties:{about:ao,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qp,g2:qp,glyphName:qp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:ao,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ao,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ao,rev:ao,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ao,requiredFeatures:ao,requiredFonts:ao,requiredFormats:ao,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:ao,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ao,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ao,to:null,transform:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),R4e=/^data[-\w.:]+$/i,AU=/-[a-z]/g,k4e=/[A-Z]/g;function yI(e,t){const n=Zy(t);let r=t,i=fa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&R4e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(AU,D4e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!AU.test(s)){let o=s.replace(k4e,N4e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=u3}return new i(r,t)}function N4e(e){return"-"+e.toLowerCase()}function D4e(e){return e.charAt(1).toUpperCase()}const CU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hv=Ste([Ate,Ite,Pte,Rte,O4e],"html"),og=Ste([Ate,Ite,Pte,Rte,P4e],"svg");function $4e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{a3(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var kte={exports:{}},$n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3=Symbol.for("react.element"),c3=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),vI=Symbol.for("react.strict_mode"),bI=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),EI=Symbol.for("react.context"),L4e=Symbol.for("react.server_context"),TI=Symbol.for("react.forward_ref"),SI=Symbol.for("react.suspense"),xI=Symbol.for("react.suspense_list"),II=Symbol.for("react.memo"),AI=Symbol.for("react.lazy"),M4e=Symbol.for("react.offscreen"),Nte;Nte=Symbol.for("react.module.reference");function da(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case l3:switch(e=e.type,e){case _I:case bI:case vI:case SI:case xI:return e;default:switch(e=e&&e.$$typeof,e){case L4e:case EI:case TI:case AI:case II:case wI:return e;default:return t}}case c3:return t}}}$n.ContextConsumer=EI;$n.ContextProvider=wI;$n.Element=l3;$n.ForwardRef=TI;$n.Fragment=_I;$n.Lazy=AI;$n.Memo=II;$n.Portal=c3;$n.Profiler=bI;$n.StrictMode=vI;$n.Suspense=SI;$n.SuspenseList=xI;$n.isAsyncMode=function(){return!1};$n.isConcurrentMode=function(){return!1};$n.isContextConsumer=function(e){return da(e)===EI};$n.isContextProvider=function(e){return da(e)===wI};$n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===l3};$n.isForwardRef=function(e){return da(e)===TI};$n.isFragment=function(e){return da(e)===_I};$n.isLazy=function(e){return da(e)===AI};$n.isMemo=function(e){return da(e)===II};$n.isPortal=function(e){return da(e)===c3};$n.isProfiler=function(e){return da(e)===bI};$n.isStrictMode=function(e){return da(e)===vI};$n.isSuspense=function(e){return da(e)===SI};$n.isSuspenseList=function(e){return da(e)===xI};$n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_I||e===bI||e===vI||e===SI||e===xI||e===M4e||typeof e=="object"&&e!==null&&(e.$$typeof===AI||e.$$typeof===II||e.$$typeof===wI||e.$$typeof===EI||e.$$typeof===TI||e.$$typeof===Nte||e.getModuleId!==void 0)};$n.typeOf=da;kte.exports=$n;var F4e=kte.exports;const B4e=qa(F4e);function j4e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function OU(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Dte(e){return e.join(" ").trim()}function PU(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function $te(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var f3={exports:{}},RU=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,U4e=/\n/g,V4e=/^\s*/,z4e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,H4e=/^:\s*/,q4e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,W4e=/^[;\s]*/,Y4e=/^\s+|\s+$/g,G4e=`
`,kU="/",NU="*",hd="",K4e="comment",Q4e="declaration",X4e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(U4e);m&&(n+=m.length);var y=p.lastIndexOf(G4e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(V4e)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(kU!=e.charAt(0)||NU!=e.charAt(1))){for(var m=2;hd!=e.charAt(m)&&(NU!=e.charAt(m)||kU!=e.charAt(m+1));)++m;if(m+=2,hd===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:K4e,comment:y})}}function d(){var p=s(),m=u(z4e);if(m){if(f(),!u(H4e))return a("property missing ':'");var y=u(q4e),g=p({type:Q4e,property:DU(m[0].replace(RU,hd)),value:y?DU(y[0].replace(RU,hd)):hd});return u(W4e),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function DU(e){return e?e.replace(Y4e,hd):hd}var J4e=X4e;function Lte(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=J4e(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}f3.exports=Lte;f3.exports.default=Lte;var Z4e=f3.exports;const e5e=qa(Z4e),LR={}.hasOwnProperty,t5e=new Set(["table","thead","tbody","tfoot","tr"]);function Mte(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(n5e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!t5e.has(t.tagName)||!j4e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function n5e(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?oLe:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=og,e.schema=l),t.properties)for(c in t.properties)LR.call(t.properties,c)&&i5e(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Mte(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&LR.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===N.Fragment;if(!B4e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=r5e(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=AO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=a5e(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=AO(r,t),u.siblingCount=AO(r)),p||(u.node=t),f.length>0?N.createElement(h,u,f):N.createElement(h,u)}function r5e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function AO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function i5e(e,t,n,r){const i=yI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?$te(s):Dte(s)),i.property==="style"&&typeof s=="string"&&(s=s5e(s)),i.space&&i.property?e[LR.call(CU,i.property)?CU[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function s5e(e){const t={};try{e5e(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,o5e)]=i}}function o5e(e,t){return t.toUpperCase()}function a5e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const $U={}.hasOwnProperty,u5e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",L1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Fte(e){for(const s in L1)if($U.call(L1,s)&&$U.call(e,s)){const o=L1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${u5e}#${o.id}> for more info)`),delete L1[s]}const t=NLe().use(kMe).use(e.remarkPlugins||[]).use(v4e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use($4e,e),n=new _Le;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=N.createElement(N.Fragment,{},Mte({options:e,schema:hv,listDepth:0},r));return e.className&&(i=N.createElement("div",{className:e.className},i)),i}Fte.propTypes={children:ht.string,className:ht.string,allowElement:ht.func,allowedElements:ht.arrayOf(ht.string),disallowedElements:ht.arrayOf(ht.string),unwrapDisallowed:ht.bool,remarkPlugins:ht.arrayOf(ht.oneOfType([ht.object,ht.func,ht.arrayOf(ht.oneOfType([ht.bool,ht.string,ht.object,ht.func,ht.arrayOf(ht.any)]))])),rehypePlugins:ht.arrayOf(ht.oneOfType([ht.object,ht.func,ht.arrayOf(ht.oneOfType([ht.bool,ht.string,ht.object,ht.func,ht.arrayOf(ht.any)]))])),sourcePos:ht.bool,rawSourcePos:ht.bool,skipHtml:ht.bool,includeElementIndex:ht.bool,transformLinkUri:ht.oneOfType([ht.func,ht.bool]),linkTarget:ht.oneOfType([ht.func,ht.string]),transformImageUri:ht.func,components:ht.object};const Bte=-1,CI=0,UT=1,VT=2,d3=3,h3=4,p3=5,m3=6,jte=7,Ute=8,LU=typeof self=="object"?self:globalThis,l5e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case CI:case Bte:return n(o,i);case UT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case VT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case d3:return n(new Date(o),i);case h3:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case p3:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case m3:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case jte:{const{name:a,message:u}=o;return n(new LU[a](u),i)}case Ute:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new LU[s](o),i)};return r},MU=e=>l5e(new Map,e)(0),zh="",{toString:c5e}={},{keys:f5e}=Object,e0=e=>{const t=typeof e;if(t!=="object"||!e)return[CI,t];const n=c5e.call(e).slice(8,-1);switch(n){case"Array":return[UT,zh];case"Object":return[VT,zh];case"Date":return[d3,zh];case"RegExp":return[h3,zh];case"Map":return[p3,zh];case"Set":return[m3,zh]}return n.includes("Array")?[UT,n]:n.includes("Error")?[jte,n]:[VT,n]},M1=([e,t])=>e===CI&&(t==="function"||t==="symbol"),d5e=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=e0(o);switch(a){case CI:{let c=o;switch(u){case"bigint":a=Ute,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Bte],o)}return i([a,c],o)}case UT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case VT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of f5e(o))(e||!M1(e0(o[d])))&&c.push([s(d),s(o[d])]);return f}case d3:return i([a,o.toISOString()],o);case h3:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case p3:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(M1(e0(d))||M1(e0(h))))&&c.push([s(d),s(h)]);return f}case m3:{const c=[],f=i([a,c],o);for(const d of o)(e||!M1(e0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},FU=(e,{json:t,lossy:n}={})=>{const r=[];return d5e(!(t||n),!!t,new Map,r)(e),r},BU=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?MU(FU(e,t)):structuredClone(e):(e,t)=>MU(FU(e,t));const jU=/[#.]/g;function h5e(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){jU.lastIndex=i;const a=jU.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const p5e=new Set(["button","menu","reset","submit"]),MR={}.hasOwnProperty;function Vte(e,t,n){const r=n&&_5e(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=h5e(s,t),l.tagName=l.tagName.toLowerCase(),r&&MR.call(r,l.tagName)&&(l.tagName=r[l.tagName]),m5e(o,l.tagName)){let c;for(c in o)MR.call(o,c)&&g5e(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)FR(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function m5e(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?p5e.has(e.type.toLowerCase()):!("value"in e)}function g5e(e,t,n,r){const i=yI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=OU(r):i.commaSeparated?o=PU(r):i.commaOrSpaceSeparated?o=OU(PU(r).join(" ")):o=UU(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?y5e(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=UU(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function FR(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)FR(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?FR(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function UU(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Zy(n)===Zy(t)))return!0}return n}function y5e(e){const t=[];let n;for(n in e)MR.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function _5e(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const v5e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],b5e=Vte(hv,"div"),w5e=Vte(og,"g",v5e),CO=/\r?\n|\r/g;function E5e(e){const t=String(e),n=[];for(CO.lastIndex=0;CO.test(t);)n.push(CO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const bd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zte={}.hasOwnProperty,T5e=Object.prototype;function S5e(e,t){const n=t||{};return g3({file:n.file||void 0,location:!1,schema:n.space==="svg"?og:hv,verbose:n.verbose||!1},e)}function g3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},zb(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Hte(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=E5e(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},zb(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},zb(e,r,n),n}default:return n=x5e(e,t),n}}function Hte(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=g3(e,t[n]);r.push(i)}return r}function x5e(e,t){const n=e.schema;e.schema=t.namespaceURI===bd.svg?og:hv;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;zte.call(T5e,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?w5e:b5e)(t.tagName,i,Hte(e,t.childNodes));if(zb(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&vp(u.startTag),c=u&&u.endTag&&vp(u.endTag),f=g3(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function zb(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=I5e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function I5e(e,t,n){const r=vp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)zte.call(n.attrs,o)&&(s[yI(e.schema,o).property]=vp(n.attrs[o]));n.startTag;const a=vp(n.startTag),u=n.endTag?vp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function vp(e){const t=VU({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=VU({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function VU(e){return e.line&&e.column?e:void 0}const zU={}.hasOwnProperty;function qte(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&zU.call(i,e)){const u=String(i[e]);o=zU.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const A5e={},C5e={}.hasOwnProperty,Wte=qte("type",{handlers:{root:P5e,element:$5e,text:N5e,comment:D5e,doctype:k5e}});function O5e(e,t){const r=(t||A5e).space;return Wte(e,r==="svg"?og:hv)}function P5e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=y3(e.children,n,t),ag(e,n),n}function R5e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=y3(e.children,n,t),ag(e,n),n}function k5e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ag(e,t),t}function N5e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ag(e,t),t}function D5e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ag(e,t),t}function $5e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=og);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&C5e.call(e.properties,s)){const u=L5e(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:bd[o],childNodes:[],parentNode:null};return a.childNodes=y3(e.children,a,r),ag(e,a),e.tagName==="template"&&e.content&&(a.content=R5e(e.content,r)),a}function L5e(e,t,n){const r=yI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?$te(n):Dte(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=bd[r.space]}return i}function y3(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Wte(e[r],n);s.parentNode=t,i.push(s)}return i}function ag(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const M5e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],F5e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),lr="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(F=F||(F={}));const As={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Yte(e){return e>=55296&&e<=57343}function B5e(e){return e>=56320&&e<=57343}function j5e(e,t){return(e-55296)*1024+9216+t}function Gte(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Kte(e){return e>=64976&&e<=65007||F5e.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const U5e=65536;class V5e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=U5e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(B5e(n))return this.pos++,this._addGap(),j5e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Yte(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Gte(t)?this._err(ve.controlCharacterInInputStream):Kte(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function Qte(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const wc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),z5e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var OO;const H5e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),q5e=(OO=String.fromCodePoint)!==null&&OO!==void 0?OO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function W5e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=H5e.get(e))!==null&&t!==void 0?t:e}var pi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(pi||(pi={}));const Y5e=32;var wu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(wu||(wu={}));function BR(e){return e>=pi.ZERO&&e<=pi.NINE}function G5e(e){return e>=pi.UPPER_A&&e<=pi.UPPER_F||e>=pi.LOWER_A&&e<=pi.LOWER_F}function K5e(e){return e>=pi.UPPER_A&&e<=pi.UPPER_Z||e>=pi.LOWER_A&&e<=pi.LOWER_Z||BR(e)}function Q5e(e){return e===pi.EQUALS||K5e(e)}var ci;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ci||(ci={}));var pd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(pd||(pd={}));class X5e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ci.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=pd.Strict}startEntity(t){this.decodeMode=t,this.state=ci.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ci.EntityStart:return t.charCodeAt(n)===pi.NUM?(this.state=ci.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ci.NamedEntity,this.stateNamedEntity(t,n));case ci.NumericStart:return this.stateNumericStart(t,n);case ci.NumericDecimal:return this.stateNumericDecimal(t,n);case ci.NumericHex:return this.stateNumericHex(t,n);case ci.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Y5e)===pi.LOWER_X?(this.state=ci.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ci.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(BR(i)||G5e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(BR(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===pi.SEMI)this.consumed+=1;else if(this.decodeMode===pd.Strict)return 0;return this.emitCodePoint(W5e(this.result),this.consumed),this.errors&&(t!==pi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&wu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Jte(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===pd.Attribute&&(s===0||Q5e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&wu.VALUE_LENGTH)>>14,s!==0){if(o===pi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==pd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&wu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~wu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case ci.NamedEntity:return this.result!==0&&(this.decodeMode!==pd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ci.NumericDecimal:return this.emitNumericEntity(0,2);case ci.NumericHex:return this.emitNumericEntity(0,3);case ci.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ci.EntityStart:return 0}}}function Xte(e){let t="";const n=new X5e(e,r=>t+=q5e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function Jte(e,t,n,r){const i=(t&wu.BRANCH_LENGTH)>>7,s=t&wu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}Xte(wc);Xte(z5e);var we;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(we=we||(we={}));var of;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(of=of||(of={}));var co;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(co=co||(co={}));var le;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(le=le||(le={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const J5e=new Map([[le.A,b.A],[le.ADDRESS,b.ADDRESS],[le.ANNOTATION_XML,b.ANNOTATION_XML],[le.APPLET,b.APPLET],[le.AREA,b.AREA],[le.ARTICLE,b.ARTICLE],[le.ASIDE,b.ASIDE],[le.B,b.B],[le.BASE,b.BASE],[le.BASEFONT,b.BASEFONT],[le.BGSOUND,b.BGSOUND],[le.BIG,b.BIG],[le.BLOCKQUOTE,b.BLOCKQUOTE],[le.BODY,b.BODY],[le.BR,b.BR],[le.BUTTON,b.BUTTON],[le.CAPTION,b.CAPTION],[le.CENTER,b.CENTER],[le.CODE,b.CODE],[le.COL,b.COL],[le.COLGROUP,b.COLGROUP],[le.DD,b.DD],[le.DESC,b.DESC],[le.DETAILS,b.DETAILS],[le.DIALOG,b.DIALOG],[le.DIR,b.DIR],[le.DIV,b.DIV],[le.DL,b.DL],[le.DT,b.DT],[le.EM,b.EM],[le.EMBED,b.EMBED],[le.FIELDSET,b.FIELDSET],[le.FIGCAPTION,b.FIGCAPTION],[le.FIGURE,b.FIGURE],[le.FONT,b.FONT],[le.FOOTER,b.FOOTER],[le.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[le.FORM,b.FORM],[le.FRAME,b.FRAME],[le.FRAMESET,b.FRAMESET],[le.H1,b.H1],[le.H2,b.H2],[le.H3,b.H3],[le.H4,b.H4],[le.H5,b.H5],[le.H6,b.H6],[le.HEAD,b.HEAD],[le.HEADER,b.HEADER],[le.HGROUP,b.HGROUP],[le.HR,b.HR],[le.HTML,b.HTML],[le.I,b.I],[le.IMG,b.IMG],[le.IMAGE,b.IMAGE],[le.INPUT,b.INPUT],[le.IFRAME,b.IFRAME],[le.KEYGEN,b.KEYGEN],[le.LABEL,b.LABEL],[le.LI,b.LI],[le.LINK,b.LINK],[le.LISTING,b.LISTING],[le.MAIN,b.MAIN],[le.MALIGNMARK,b.MALIGNMARK],[le.MARQUEE,b.MARQUEE],[le.MATH,b.MATH],[le.MENU,b.MENU],[le.META,b.META],[le.MGLYPH,b.MGLYPH],[le.MI,b.MI],[le.MO,b.MO],[le.MN,b.MN],[le.MS,b.MS],[le.MTEXT,b.MTEXT],[le.NAV,b.NAV],[le.NOBR,b.NOBR],[le.NOFRAMES,b.NOFRAMES],[le.NOEMBED,b.NOEMBED],[le.NOSCRIPT,b.NOSCRIPT],[le.OBJECT,b.OBJECT],[le.OL,b.OL],[le.OPTGROUP,b.OPTGROUP],[le.OPTION,b.OPTION],[le.P,b.P],[le.PARAM,b.PARAM],[le.PLAINTEXT,b.PLAINTEXT],[le.PRE,b.PRE],[le.RB,b.RB],[le.RP,b.RP],[le.RT,b.RT],[le.RTC,b.RTC],[le.RUBY,b.RUBY],[le.S,b.S],[le.SCRIPT,b.SCRIPT],[le.SECTION,b.SECTION],[le.SELECT,b.SELECT],[le.SOURCE,b.SOURCE],[le.SMALL,b.SMALL],[le.SPAN,b.SPAN],[le.STRIKE,b.STRIKE],[le.STRONG,b.STRONG],[le.STYLE,b.STYLE],[le.SUB,b.SUB],[le.SUMMARY,b.SUMMARY],[le.SUP,b.SUP],[le.TABLE,b.TABLE],[le.TBODY,b.TBODY],[le.TEMPLATE,b.TEMPLATE],[le.TEXTAREA,b.TEXTAREA],[le.TFOOT,b.TFOOT],[le.TD,b.TD],[le.TH,b.TH],[le.THEAD,b.THEAD],[le.TITLE,b.TITLE],[le.TR,b.TR],[le.TRACK,b.TRACK],[le.TT,b.TT],[le.U,b.U],[le.UL,b.UL],[le.SVG,b.SVG],[le.VAR,b.VAR],[le.WBR,b.WBR],[le.XMP,b.XMP]]);function ug(e){var t;return(t=J5e.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Oe=b,Z5e={[we.HTML]:new Set([Oe.ADDRESS,Oe.APPLET,Oe.AREA,Oe.ARTICLE,Oe.ASIDE,Oe.BASE,Oe.BASEFONT,Oe.BGSOUND,Oe.BLOCKQUOTE,Oe.BODY,Oe.BR,Oe.BUTTON,Oe.CAPTION,Oe.CENTER,Oe.COL,Oe.COLGROUP,Oe.DD,Oe.DETAILS,Oe.DIR,Oe.DIV,Oe.DL,Oe.DT,Oe.EMBED,Oe.FIELDSET,Oe.FIGCAPTION,Oe.FIGURE,Oe.FOOTER,Oe.FORM,Oe.FRAME,Oe.FRAMESET,Oe.H1,Oe.H2,Oe.H3,Oe.H4,Oe.H5,Oe.H6,Oe.HEAD,Oe.HEADER,Oe.HGROUP,Oe.HR,Oe.HTML,Oe.IFRAME,Oe.IMG,Oe.INPUT,Oe.LI,Oe.LINK,Oe.LISTING,Oe.MAIN,Oe.MARQUEE,Oe.MENU,Oe.META,Oe.NAV,Oe.NOEMBED,Oe.NOFRAMES,Oe.NOSCRIPT,Oe.OBJECT,Oe.OL,Oe.P,Oe.PARAM,Oe.PLAINTEXT,Oe.PRE,Oe.SCRIPT,Oe.SECTION,Oe.SELECT,Oe.SOURCE,Oe.STYLE,Oe.SUMMARY,Oe.TABLE,Oe.TBODY,Oe.TD,Oe.TEMPLATE,Oe.TEXTAREA,Oe.TFOOT,Oe.TH,Oe.THEAD,Oe.TITLE,Oe.TR,Oe.TRACK,Oe.UL,Oe.WBR,Oe.XMP]),[we.MATHML]:new Set([Oe.MI,Oe.MO,Oe.MN,Oe.MS,Oe.MTEXT,Oe.ANNOTATION_XML]),[we.SVG]:new Set([Oe.TITLE,Oe.FOREIGN_OBJECT,Oe.DESC]),[we.XLINK]:new Set,[we.XML]:new Set,[we.XMLNS]:new Set};function Zte(e){return e===Oe.H1||e===Oe.H2||e===Oe.H3||e===Oe.H4||e===Oe.H5||e===Oe.H6}le.STYLE,le.SCRIPT,le.XMP,le.IFRAME,le.NOEMBED,le.NOFRAMES,le.PLAINTEXT;const eFe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));const Mr={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function ay(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function x0(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function tFe(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function Ec(e){return tFe(e)||x0(e)}function jR(e){return Ec(e)||ay(e)}function ene(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_F}function tne(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_F}function nFe(e){return ay(e)||ene(e)||tne(e)}function F1(e){return e+32}function nne(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function rFe(e){return e===F.EQUALS_SIGN||jR(e)}function HU(e){return nne(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}class iFe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new V5e(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Qte(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ug(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=nne(t)?Ht.WHITESPACE_CHARACTER:t===F.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=wc[0];s>=0&&(s=Jte(wc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=wc[s];const a=o&wu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==F.SEMICOLON&&this._isCharacterReferenceInAttribute()&&rFe(this.preprocessor.peek(1))?(n=[F.AMPERSAND],s+=u):(n=u===0?[wc[s]&~wu.VALUE_LENGTH]:u===1?[wc[++s]]:[wc[++s],wc[++s]],r=0,i=t!==F.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case j.DATA:{this._stateData(t);break}case j.RCDATA:{this._stateRcdata(t);break}case j.RAWTEXT:{this._stateRawtext(t);break}case j.SCRIPT_DATA:{this._stateScriptData(t);break}case j.PLAINTEXT:{this._statePlaintext(t);break}case j.TAG_OPEN:{this._stateTagOpen(t);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case j.TAG_NAME:{this._stateTagName(t);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case j.BOGUS_COMMENT:{this._stateBogusComment(t);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case j.COMMENT_START:{this._stateCommentStart(t);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case j.COMMENT:{this._stateComment(t);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case j.COMMENT_END:{this._stateCommentEnd(t);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case j.DOCTYPE:{this._stateDoctype(t);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case j.CDATA_SECTION:{this._stateCdataSection(t);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case F.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case F.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ec(t))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ec(t))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=lr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(x0(t)?F1(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ec(t)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ec(t)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ec(t)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ec(t)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ec(t)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(As.SCRIPT,!1)&&HU(this.preprocessor.peek(As.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<As.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(lr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(As.SCRIPT,!1)&&HU(this.preprocessor.peek(As.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<As.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=lr;break}default:this.currentAttr.name+=String.fromCodePoint(x0(t)?F1(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=lr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=lr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=lr;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=lr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(As.DASH_DASH,!0)?(this._createCommentToken(As.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(As.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(As.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(As.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(As.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=lr;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(ve.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=j.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=j.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(x0(t))this._createDoctypeToken(String.fromCharCode(F1(t))),this.state=j.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(lr),this.state=j.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=lr;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(x0(t)?F1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(As.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(As.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=lr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=lr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=lr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=lr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.NULL:{this._err(ve.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===F.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:jR(t)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){jR(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===F.LATIN_SMALL_X||t===F.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:ay(t)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){nFe(t)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){ene(t)?this.charRefCode=this.charRefCode*16+t-55:tne(t)?this.charRefCode=this.charRefCode*16+t-87:ay(t)?this.charRefCode=this.charRefCode*16+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){ay(t)?this.charRefCode=this.charRefCode*10+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===F.NULL)this._err(ve.nullCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Yte(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Kte(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(Gte(this.charRefCode)||this.charRefCode===F.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=eFe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const rne=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),qU=new Set([...rne,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),B1=new Map([[b.APPLET,we.HTML],[b.CAPTION,we.HTML],[b.HTML,we.HTML],[b.MARQUEE,we.HTML],[b.OBJECT,we.HTML],[b.TABLE,we.HTML],[b.TD,we.HTML],[b.TEMPLATE,we.HTML],[b.TH,we.HTML],[b.ANNOTATION_XML,we.MATHML],[b.MI,we.MATHML],[b.MN,we.MATHML],[b.MO,we.MATHML],[b.MS,we.MATHML],[b.MTEXT,we.MATHML],[b.DESC,we.SVG],[b.FOREIGN_OBJECT,we.SVG],[b.TITLE,we.SVG]]),sFe=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],oFe=[b.TR,b.TEMPLATE,b.HTML],aFe=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],uFe=[b.TABLE,b.TEMPLATE,b.HTML],lFe=[b.TD,b.TH];class cFe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===we.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==we.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(sFe,we.HTML)}popUntilTableCellPopped(){this.popUntilPopped(lFe,we.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(uFe,we.HTML)}clearBackToTableBodyContext(){this.clearBackTo(aFe,we.HTML)}clearBackToTableRowContext(){this.clearBackTo(oFe,we.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(B1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Zte(n)&&r===we.HTML)return!0;if(B1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if((r===b.UL||r===b.OL)&&i===we.HTML||B1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(r===b.BUTTON&&i===we.HTML||B1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===we.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;rne.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;qU.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&qU.has(this.currentTagId);)this.pop()}}const PO=3;var Ia;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ia=Ia||(Ia={}));const WU={type:Ia.Marker};class fFe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ia.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<PO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<PO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=PO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(WU)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ia.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ia.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(WU);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ia.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ia.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ia.Element&&n.element===t)}}function YU(e){return{nodeName:"#text",value:e,parentNode:null}}const Xh={createDocument(){return{nodeName:"#document",mode:co.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Xh.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Xh.isTextNode(n)){n.value+=t;return}}Xh.appendChild(e,YU(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Xh.isTextNode(r)?r.value+=t:Xh.insertBefore(e,YU(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},ine="html",dFe="about:legacy-compat",hFe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",sne=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],pFe=[...sne,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],mFe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),one=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],gFe=[...one,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function GU(e,t){return t.some(n=>e.startsWith(n))}function yFe(e){return e.name===ine&&e.publicId===null&&(e.systemId===null||e.systemId===dFe)}function _Fe(e){if(e.name!==ine)return co.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===hFe)return co.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),mFe.has(n))return co.QUIRKS;let r=t===null?pFe:sne;if(GU(n,r))return co.QUIRKS;if(r=t===null?one:gFe,GU(n,r))return co.LIMITED_QUIRKS}return co.NO_QUIRKS}const KU={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},vFe="definitionurl",bFe="definitionURL",wFe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),EFe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:we.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:we.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:we.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:we.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:we.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:we.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:we.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:we.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:we.XML}],["xml:space",{prefix:"xml",name:"space",namespace:we.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:we.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:we.XMLNS}]]),TFe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),SFe=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function xFe(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===of.COLOR||r===of.SIZE||r===of.FACE)||SFe.has(t)}function ane(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===vFe){e.attrs[t].name=bFe;break}}function une(e){for(let t=0;t<e.attrs.length;t++){const n=wFe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function _3(e){for(let t=0;t<e.attrs.length;t++){const n=EFe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function IFe(e){const t=TFe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ug(e.tagName))}function AFe(e,t){return t===we.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function CFe(e,t,n){if(t===we.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===of.ENCODING){const i=n[r].value.toLowerCase();return i===KU.TEXT_HTML||i===KU.APPLICATION_XML}}return t===we.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function OFe(e,t,n,r){return(!r||r===we.HTML)&&CFe(e,t,n)||(!r||r===we.MATHML)&&AFe(e,t)}const PFe="hidden",RFe=8,kFe=3;var G;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(G||(G={}));const NFe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},lne=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),QU={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Xh,onParseError:null};let XU=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=G.INITIAL,this.originalInsertionMode=G.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...QU,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new iFe(this.options,this),this.activeFormattingElements=new fFe(this.treeAdapter),this.fragmentContextID=r?ug(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new cFe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...QU,...n};t??(t=r.treeAdapter.createElement(le.TEMPLATE,we.HTML,[]));const i=r.treeAdapter.createElement("documentmock",we.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(G.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:NFe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===we.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,we.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=G.TEXT}switchToPlaintextParsing(){this.insertionMode=G.TEXT,this.originalInsertionMode=G.IN_BODY,this.tokenizer.state=Mr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===le.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==we.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Mr.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Mr.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Mr.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Mr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,we.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,we.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(le.HTML,we.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===le.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===we.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,we.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return OFe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ia.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=G.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=G.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=G.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=G.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=G.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=G.IN_TABLE;return}case b.BODY:{this.insertionMode=G.IN_BODY;return}case b.FRAMESET:{this.insertionMode=G.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?G.AFTER_HEAD:G.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=G.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=G.IN_HEAD;return}break}}this.insertionMode=G.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=G.IN_SELECT_IN_TABLE;return}}this.insertionMode=G.IN_SELECT}_isElementCausesFosterParenting(t){return lne.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===we.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Z5e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){l9e(this,t);return}switch(this.insertionMode){case G.INITIAL:{t0(this,t);break}case G.BEFORE_HTML:{uy(this,t);break}case G.BEFORE_HEAD:{ly(this,t);break}case G.IN_HEAD:{cy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{fy(this,t);break}case G.AFTER_HEAD:{dy(this,t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:{fne(this,t);break}case G.TEXT:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{RO(this,t);break}case G.IN_TABLE_TEXT:{yne(this,t);break}case G.IN_COLUMN_GROUP:{zT(this,t);break}case G.AFTER_BODY:{HT(this,t);break}case G.AFTER_AFTER_BODY:{Hb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){u9e(this,t);return}switch(this.insertionMode){case G.INITIAL:{t0(this,t);break}case G.BEFORE_HTML:{uy(this,t);break}case G.BEFORE_HEAD:{ly(this,t);break}case G.IN_HEAD:{cy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{fy(this,t);break}case G.AFTER_HEAD:{dy(this,t);break}case G.TEXT:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{RO(this,t);break}case G.IN_COLUMN_GROUP:{zT(this,t);break}case G.AFTER_BODY:{HT(this,t);break}case G.AFTER_AFTER_BODY:{Hb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){UR(this,t);return}switch(this.insertionMode){case G.INITIAL:case G.BEFORE_HTML:case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_TEMPLATE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{UR(this,t);break}case G.IN_TABLE_TEXT:{n0(this,t);break}case G.AFTER_BODY:{jFe(this,t);break}case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{UFe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case G.INITIAL:{VFe(this,t);break}case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case G.IN_TABLE_TEXT:{n0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?c9e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{t0(this,t);break}case G.BEFORE_HTML:{zFe(this,t);break}case G.BEFORE_HEAD:{qFe(this,t);break}case G.IN_HEAD:{Wa(this,t);break}case G.IN_HEAD_NO_SCRIPT:{GFe(this,t);break}case G.AFTER_HEAD:{QFe(this,t);break}case G.IN_BODY:{ls(this,t);break}case G.IN_TABLE:{_m(this,t);break}case G.IN_TABLE_TEXT:{n0(this,t);break}case G.IN_CAPTION:{W8e(this,t);break}case G.IN_COLUMN_GROUP:{w3(this,t);break}case G.IN_TABLE_BODY:{RI(this,t);break}case G.IN_ROW:{kI(this,t);break}case G.IN_CELL:{K8e(this,t);break}case G.IN_SELECT:{bne(this,t);break}case G.IN_SELECT_IN_TABLE:{X8e(this,t);break}case G.IN_TEMPLATE:{Z8e(this,t);break}case G.AFTER_BODY:{t9e(this,t);break}case G.IN_FRAMESET:{n9e(this,t);break}case G.AFTER_FRAMESET:{i9e(this,t);break}case G.AFTER_AFTER_BODY:{o9e(this,t);break}case G.AFTER_AFTER_FRAMESET:{a9e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?f9e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{t0(this,t);break}case G.BEFORE_HTML:{HFe(this,t);break}case G.BEFORE_HEAD:{WFe(this,t);break}case G.IN_HEAD:{YFe(this,t);break}case G.IN_HEAD_NO_SCRIPT:{KFe(this,t);break}case G.AFTER_HEAD:{XFe(this,t);break}case G.IN_BODY:{PI(this,t);break}case G.TEXT:{L8e(this,t);break}case G.IN_TABLE:{e_(this,t);break}case G.IN_TABLE_TEXT:{n0(this,t);break}case G.IN_CAPTION:{Y8e(this,t);break}case G.IN_COLUMN_GROUP:{G8e(this,t);break}case G.IN_TABLE_BODY:{VR(this,t);break}case G.IN_ROW:{vne(this,t);break}case G.IN_CELL:{Q8e(this,t);break}case G.IN_SELECT:{wne(this,t);break}case G.IN_SELECT_IN_TABLE:{J8e(this,t);break}case G.IN_TEMPLATE:{e9e(this,t);break}case G.AFTER_BODY:{Tne(this,t);break}case G.IN_FRAMESET:{r9e(this,t);break}case G.AFTER_FRAMESET:{s9e(this,t);break}case G.AFTER_AFTER_BODY:{Hb(this,t);break}}}onEof(t){switch(this.insertionMode){case G.INITIAL:{t0(this,t);break}case G.BEFORE_HTML:{uy(this,t);break}case G.BEFORE_HEAD:{ly(this,t);break}case G.IN_HEAD:{cy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{fy(this,t);break}case G.AFTER_HEAD:{dy(this,t);break}case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{mne(this,t);break}case G.TEXT:{M8e(this,t);break}case G.IN_TABLE_TEXT:{n0(this,t);break}case G.IN_TEMPLATE:{Ene(this,t);break}case G.AFTER_BODY:case G.IN_FRAMESET:case G.AFTER_FRAMESET:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{b3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.TEXT:case G.IN_COLUMN_GROUP:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{this._insertCharacters(t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:case G.AFTER_BODY:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{cne(this,t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{RO(this,t);break}case G.IN_TABLE_TEXT:{gne(this,t);break}}}};function DFe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):pne(e,t),n}function $Fe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function LFe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=kFe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=MFe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function MFe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function FFe(e,t,n){const r=e.treeAdapter.getTagName(t),i=ug(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===we.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function BFe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function v3(e,t){for(let n=0;n<RFe;n++){const r=DFe(e,t);if(!r)break;const i=$Fe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=LFe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&FFe(e,o,s),BFe(e,i,r)}}function UR(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function jFe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function UFe(e,t){e._appendCommentNode(t,e.document)}function b3(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function VFe(e,t){e._setDocumentType(t);const n=t.forceQuirks?co.QUIRKS:_Fe(t);yFe(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=G.BEFORE_HTML}function t0(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,co.QUIRKS),e.insertionMode=G.BEFORE_HTML,e._processToken(t)}function zFe(e,t){t.tagID===b.HTML?(e._insertElement(t,we.HTML),e.insertionMode=G.BEFORE_HEAD):uy(e,t)}function HFe(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&uy(e,t)}function uy(e,t){e._insertFakeRootElement(),e.insertionMode=G.BEFORE_HEAD,e._processToken(t)}function qFe(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.HEAD:{e._insertElement(t,we.HTML),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD;break}default:ly(e,t)}}function WFe(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?ly(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function ly(e,t){e._insertFakeElement(le.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD,e._processToken(t)}function Wa(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Mr.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Mr.RAWTEXT):(e._insertElement(t,we.HTML),e.insertionMode=G.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Mr.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Mr.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=G.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(G.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:cy(e,t)}}function YFe(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=G.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{cy(e,t);break}case b.TEMPLATE:{Eh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function Eh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function cy(e,t){e.openElements.pop(),e.insertionMode=G.AFTER_HEAD,e._processToken(t)}function GFe(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{Wa(e,t);break}case b.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:fy(e,t)}}function KFe(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=G.IN_HEAD;break}case b.BR:{fy(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function fy(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=G.IN_HEAD,e._processToken(t)}function QFe(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.BODY:{e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),Wa(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:dy(e,t)}}function XFe(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{dy(e,t);break}case b.TEMPLATE:{Eh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function dy(e,t){e._insertFakeElement(le.BODY,b.BODY),e.insertionMode=G.IN_BODY,OI(e,t)}function OI(e,t){switch(t.type){case Ht.CHARACTER:{fne(e,t);break}case Ht.WHITESPACE_CHARACTER:{cne(e,t);break}case Ht.COMMENT:{UR(e,t);break}case Ht.START_TAG:{ls(e,t);break}case Ht.END_TAG:{PI(e,t);break}case Ht.EOF:{mne(e,t);break}}}function cne(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function fne(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function JFe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function ZFe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function e8e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET)}function t8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function n8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),Zte(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,we.HTML)}function r8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function i8e(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),n||(e.formElement=e.openElements.current))}function s8e(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function o8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.tokenizer.state=Mr.PLAINTEXT}function a8e(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1}function u8e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(le.A);n&&(v3(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function l8e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function c8e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(v3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function f8e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function d8e(e,t){e.treeAdapter.getDocumentMode(e.document)!==co.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_TABLE}function dne(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function hne(e){const t=Qte(e,of.TYPE);return t!=null&&t.toLowerCase()===PFe}function h8e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),hne(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function p8e(e,t){e._appendElement(t,we.HTML),t.ackSelfClosing=!0}function m8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function g8e(e,t){t.tagName=le.IMG,t.tagID=b.IMG,dne(e,t)}function y8e(e,t){e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Mr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=G.TEXT}function _8e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Mr.RAWTEXT)}function v8e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Mr.RAWTEXT)}function JU(e,t){e._switchToTextParsing(t,Mr.RAWTEXT)}function b8e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===G.IN_TABLE||e.insertionMode===G.IN_CAPTION||e.insertionMode===G.IN_TABLE_BODY||e.insertionMode===G.IN_ROW||e.insertionMode===G.IN_CELL?G.IN_SELECT_IN_TABLE:G.IN_SELECT}function w8e(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function E8e(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,we.HTML)}function T8e(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,we.HTML)}function S8e(e,t){e._reconstructActiveFormattingElements(),ane(t),_3(t),t.selfClosing?e._appendElement(t,we.MATHML):e._insertElement(t,we.MATHML),t.ackSelfClosing=!0}function x8e(e,t){e._reconstructActiveFormattingElements(),une(t),_3(t),t.selfClosing?e._appendElement(t,we.SVG):e._insertElement(t,we.SVG),t.ackSelfClosing=!0}function ZU(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function ls(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{l8e(e,t);break}case b.A:{u8e(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{n8e(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{t8e(e,t);break}case b.LI:case b.DD:case b.DT:{s8e(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{dne(e,t);break}case b.HR:{m8e(e,t);break}case b.RB:case b.RTC:{E8e(e,t);break}case b.RT:case b.RP:{T8e(e,t);break}case b.PRE:case b.LISTING:{r8e(e,t);break}case b.XMP:{_8e(e,t);break}case b.SVG:{x8e(e,t);break}case b.HTML:{JFe(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{Wa(e,t);break}case b.BODY:{ZFe(e,t);break}case b.FORM:{i8e(e,t);break}case b.NOBR:{c8e(e,t);break}case b.MATH:{S8e(e,t);break}case b.TABLE:{d8e(e,t);break}case b.INPUT:{h8e(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{p8e(e,t);break}case b.IMAGE:{g8e(e,t);break}case b.BUTTON:{a8e(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{f8e(e,t);break}case b.IFRAME:{v8e(e,t);break}case b.SELECT:{b8e(e,t);break}case b.OPTION:case b.OPTGROUP:{w8e(e,t);break}case b.NOEMBED:{JU(e,t);break}case b.FRAMESET:{e8e(e,t);break}case b.TEXTAREA:{y8e(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?JU(e,t):ZU(e,t);break}case b.PLAINTEXT:{o8e(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:ZU(e,t)}}function I8e(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function A8e(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,Tne(e,t))}function C8e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function O8e(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function P8e(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(le.P,b.P),e._closePElement()}function R8e(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function k8e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function N8e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function D8e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function $8e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(le.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function pne(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function PI(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{v3(e,t);break}case b.P:{P8e(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{C8e(e,t);break}case b.LI:{R8e(e);break}case b.DD:case b.DT:{k8e(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{N8e(e);break}case b.BR:{$8e(e);break}case b.BODY:{I8e(e,t);break}case b.HTML:{A8e(e,t);break}case b.FORM:{O8e(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{D8e(e,t);break}case b.TEMPLATE:{Eh(e,t);break}default:pne(e,t)}}function mne(e,t){e.tmplInsertionModeStack.length>0?Ene(e,t):b3(e,t)}function L8e(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function M8e(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function RO(e,t){if(lne.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=G.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{yne(e,t);break}case Ht.WHITESPACE_CHARACTER:{gne(e,t);break}}else pv(e,t)}function F8e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CAPTION}function B8e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_COLUMN_GROUP}function j8e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.COLGROUP,b.COLGROUP),e.insertionMode=G.IN_COLUMN_GROUP,w3(e,t)}function U8e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_TABLE_BODY}function V8e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.TBODY,b.TBODY),e.insertionMode=G.IN_TABLE_BODY,RI(e,t)}function z8e(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function H8e(e,t){hne(t)?e._appendElement(t,we.HTML):pv(e,t),t.ackSelfClosing=!0}function q8e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,we.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function _m(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{V8e(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{Wa(e,t);break}case b.COL:{j8e(e,t);break}case b.FORM:{q8e(e,t);break}case b.TABLE:{z8e(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{U8e(e,t);break}case b.INPUT:{H8e(e,t);break}case b.CAPTION:{F8e(e,t);break}case b.COLGROUP:{B8e(e,t);break}default:pv(e,t)}}function e_(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{Eh(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:pv(e,t)}}function pv(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,OI(e,t),e.fosterParentingEnabled=n}function gne(e,t){e.pendingCharacterTokens.push(t)}function yne(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function n0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)pv(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const _ne=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function W8e(e,t){const n=t.tagID;_ne.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,_m(e,t)):ls(e,t)}function Y8e(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,n===b.TABLE&&e_(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:PI(e,t)}}function w3(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.COL:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{Wa(e,t);break}default:zT(e,t)}}function G8e(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TEMPLATE:{Eh(e,t);break}case b.COL:break;default:zT(e,t)}}function zT(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE,e._processToken(t))}function RI(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(le.TR,b.TR),e.insertionMode=G.IN_ROW,kI(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,_m(e,t));break}default:_m(e,t)}}function VR(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,e_(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:e_(e,t)}}function kI(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,RI(e,t));break}default:_m(e,t)}}function vne(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,VR(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,VR(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:e_(e,t)}}function K8e(e,t){const n=t.tagID;_ne.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),kI(e,t)):ls(e,t)}function Q8e(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),vne(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:PI(e,t)}}function bne(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{Wa(e,t);break}}}function wne(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{Eh(e,t);break}}}function X8e(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):bne(e,t)}function J8e(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):wne(e,t)}function Z8e(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{Wa(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=G.IN_TABLE,e.insertionMode=G.IN_TABLE,_m(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=G.IN_COLUMN_GROUP,e.insertionMode=G.IN_COLUMN_GROUP,w3(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=G.IN_TABLE_BODY,e.insertionMode=G.IN_TABLE_BODY,RI(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=G.IN_ROW,e.insertionMode=G.IN_ROW,kI(e,t);break}default:e.tmplInsertionModeStack[0]=G.IN_BODY,e.insertionMode=G.IN_BODY,ls(e,t)}}function e9e(e,t){t.tagID===b.TEMPLATE&&Eh(e,t)}function Ene(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):b3(e,t)}function t9e(e,t){t.tagID===b.HTML?ls(e,t):HT(e,t)}function Tne(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=G.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else HT(e,t)}function HT(e,t){e.insertionMode=G.IN_BODY,OI(e,t)}function n9e(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.FRAMESET:{e._insertElement(t,we.HTML);break}case b.FRAME:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{Wa(e,t);break}}}function r9e(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=G.AFTER_FRAMESET))}function i9e(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.NOFRAMES:{Wa(e,t);break}}}function s9e(e,t){t.tagID===b.HTML&&(e.insertionMode=G.AFTER_AFTER_FRAMESET)}function o9e(e,t){t.tagID===b.HTML?ls(e,t):Hb(e,t)}function Hb(e,t){e.insertionMode=G.IN_BODY,OI(e,t)}function a9e(e,t){switch(t.tagID){case b.HTML:{ls(e,t);break}case b.NOFRAMES:{Wa(e,t);break}}}function u9e(e,t){t.chars=lr,e._insertCharacters(t)}function l9e(e,t){e._insertCharacters(t),e.framesetOk=!1}function Sne(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==we.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function c9e(e,t){if(xFe(t))Sne(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===we.MATHML?ane(t):r===we.SVG&&(IFe(t),une(t)),_3(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function f9e(e,t){if(t.tagID===b.P||t.tagID===b.BR){Sne(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===we.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}le.AREA,le.BASE,le.BASEFONT,le.BGSOUND,le.BR,le.COL,le.EMBED,le.FRAME,le.HR,le.IMG,le.INPUT,le.KEYGEN,le.LINK,le.META,le.PARAM,le.SOURCE,le.TRACK,le.WBR;const xne=Ine("end"),Th=Ine("start");function Ine(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Ane=function(e){if(e==null)return m9e;if(typeof e=="function")return NI(e);if(typeof e=="object")return Array.isArray(e)?d9e(e):h9e(e);if(typeof e=="string")return p9e(e);throw new Error("Expected function, string, or object as test")};function d9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ane(e[n]);return NI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function h9e(e){const t=e;return NI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function p9e(e){return NI(t);function t(n){return n&&n.type===e}}function NI(e){return t;function t(n,r,i){return!!(g9e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function m9e(){return!0}function g9e(e){return e!==null&&typeof e=="object"&&"type"in e}const Cne=[],y9e=!0,eV=!1,_9e="skip";function v9e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Ane(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Cne,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=b9e(n(u,c)),h[0]===eV))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==_9e)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const _=g.children[m];if(p=a(_,m,y)(),p[0]===eV)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function b9e(e){return Array.isArray(e)?e:typeof e=="number"?[y9e,e]:e==null?Cne:[e]}function w9e(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),v9e(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const E9e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),tV={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function One(e,t){const n=k9e(e),r=qte("type",{handlers:{root:T9e,element:S9e,text:x9e,comment:Rne,doctype:I9e,raw:C9e},unknown:O9e}),i={parser:n?new XU(tV):XU.getFragmentParser(void 0,tV),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),lg(i,Th());const s=n?i.parser.document:i.parser.getFragment(),o=S5e(s,{file:i.options.file});return i.stitches&&w9e(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Pne(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function T9e(e,t){Pne(e.children,t)}function S9e(e,t){P9e(e,t),Pne(e.children,t),R9e(e,t)}function x9e(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:mv(e)};lg(t,Th(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function I9e(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:mv(e)};lg(t,Th(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function A9e(e,t){t.stitches=!0;const n=N9e(e);if("children"in e&&"children"in n){const r=One({type:"root",children:e.children},t.options);n.children=r.children}Rne({type:"comment",value:{stitch:n}},t)}function Rne(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:mv(e)};lg(t,Th(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function C9e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,kne(t,Th(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function O9e(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))A9e(n,t);else{let r="";throw E9e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function lg(e,t){kne(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Mr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function kne(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function P9e(e,t){if(t.parser.tokenizer.state===Mr.PLAINTEXT)return;lg(t,Th(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:bd.html;r===bd.html&&e.tagName==="svg"&&(r=bd.svg);const i=O5e({...e,children:[]},{space:r===bd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:ug(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:mv(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function R9e(e,t){if(!t.parser.tokenizer.inForeignNode&&M5e.includes(e.tagName)||t.parser.tokenizer.state===Mr.PLAINTEXT)return;lg(t,xne(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:ug(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:mv(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Mr.RCDATA||t.parser.tokenizer.state===Mr.RAWTEXT||t.parser.tokenizer.state===Mr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Mr.DATA)}function k9e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function mv(e){const t=Th(e)||{line:void 0,column:void 0,offset:void 0},n=xne(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function N9e(e){return"children"in e?BU({...e,children:[]}):BU(e)}function D9e(e){return function(t,n){return One(t,{...e,file:n})}}const $9e={tokenize:U9e,partial:!0},Nne={tokenize:V9e,partial:!0},Dne={tokenize:z9e,partial:!0},$ne={tokenize:H9e,partial:!0},L9e={tokenize:q9e,partial:!0},Lne={tokenize:B9e,previous:Fne},Mne={tokenize:j9e,previous:Bne},uc={tokenize:F9e,previous:jne},Xu={},M9e={text:Xu};let Jf=48;for(;Jf<123;)Xu[Jf]=uc,Jf++,Jf===58?Jf=65:Jf===91&&(Jf=97);Xu[43]=uc;Xu[45]=uc;Xu[46]=uc;Xu[95]=uc;Xu[72]=[uc,Mne];Xu[104]=[uc,Mne];Xu[87]=[uc,Lne];Xu[119]=[uc,Lne];function F9e(e,t,n){const r=this;let i,s;return o;function o(f){return!zR(f)||!jne.call(r,r.previous)||E3(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(f))}function a(f){return zR(f)?(e.consume(f),a):f===64?(e.consume(f),u):n(f)}function u(f){return f===46?e.check(L9e,c,l)(f):f===45||f===95||ts(f)?(s=!0,e.consume(f),u):c(f)}function l(f){return e.consume(f),i=!0,u}function c(f){return s&&i&&ps(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function B9e(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Fne.call(r,r.previous)||E3(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check($9e,e.attempt(Nne,e.attempt(Dne,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function j9e(e,t,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&Bne.call(r,r.previous)&&!E3(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),a):n(f)}function a(f){if(ps(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),a;if(f===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(f),u}return n(f)}function u(f){return f===47?(e.consume(f),s?l:(s=!0,u)):n(f)}function l(f){return f===null||BT(f)||nr(f)||Zd(f)||dI(f)?n(f):e.attempt(Nne,e.attempt(Dne,c),n)(f)}function c(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function U9e(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function V9e(e,t,n){let r,i,s;return o;function o(l){return l===46||l===95?e.check($ne,u,a)(l):l===null||nr(l)||Zd(l)||l!==45&&dI(l)?u(l):(s=!0,e.consume(l),o)}function a(l){return l===95?r=!0:(i=r,r=void 0),e.consume(l),o}function u(l){return i||r||!s?n(l):t(l)}}function z9e(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check($ne,t,s)(o):o===null||nr(o)||Zd(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function H9e(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||nr(a)||Zd(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||nr(a)||Zd(a)?t(a):r(a)}function s(a){return ps(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):ps(a)?(e.consume(a),o):n(a)}}function q9e(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ts(s)?n(s):t(s)}}function Fne(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||nr(e)}function Bne(e){return!ps(e)}function jne(e){return!(e===47||zR(e))}function zR(e){return e===43||e===45||e===46||e===95||ts(e)}function E3(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const W9e={tokenize:Y9e,partial:!0};function Y9e(e,t,n){return r;function r(s){return zn(s)?Qt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||pt(s)?t(s):n(s)}}const G9e={tokenize:nBe,partial:!0};function K9e(){return{document:{91:{tokenize:Z9e,continuation:{tokenize:eBe},exit:tBe}},text:{91:{tokenize:J9e},93:{add:"after",tokenize:Q9e,resolveTo:X9e}}}}function Q9e(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return a;function a(u){if(!o||!o._balanced)return n(u);const l=Ma(r.sliceSerialize({start:o.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function X9e(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function J9e(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(f){if(s>999||f===93&&!o||f===null||f===91||nr(f))return n(f);if(f===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(Ma(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return nr(f)||(o=!0),s++,e.consume(f),f===92?c:l}function c(f){return f===91||f===92||f===93?(e.consume(f),s++,l):l(f)}}function Z9e(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return u;function u(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!a||p===null||p===91||nr(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=Ma(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return nr(p)||(a=!0),o++,e.consume(p),p===92?f:c}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}function d(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),Qt(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function eBe(e,t,n){return e.check(W9e,t,e.attempt(G9e,t,n))}function tBe(e){e.exit("gfmFootnoteDefinition")}function nBe(e,t,n){const r=this;return Qt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function rBe(e){let n=(e||{}).singleTilde;const r={tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let l=u;for(;l--;)if(o[l][0]==="exit"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[l][1].end.offset-o[l][1].start.offset){o[u][1].type="strikethroughSequence",o[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[l][1].start),end:Object.assign({},o[u][1].end)},f={type:"strikethroughText",start:Object.assign({},o[l][1].end),end:Object.assign({},o[u][1].start)},d=[["enter",c,a],["enter",o[l][1],a],["exit",o[l][1],a],["enter",f,a]],h=a.parser.constructs.insideSpan.null;h&&bo(d,d.length,0,hI(h,o.slice(l+1,u),a)),bo(d,d.length,0,[["exit",f,a],["enter",o[u][1],a],["exit",o[u][1],a],["exit",c,a]]),bo(o,l-1,u-l+3,d),u=l+d.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function s(o,a,u){const l=this.previous,c=this.events;let f=0;return d;function d(p){return l===126&&c[c.length-1][1].type!=="characterEscape"?u(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=jT(l);if(p===126)return f>1?u(p):(o.consume(p),f++,h);if(f<2&&!n)return u(p);const y=o.exit("strikethroughSequenceTemporary"),g=jT(p);return y._open=!g||g===2&&!!m,y._close=!m||m===2&&!!g,a(p)}}}class iBe{constructor(){this.map=[]}add(t,n,r){sBe(this,t,n,r)}consume(t){if(this.map.sort((s,o)=>s[0]-o[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function sBe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function oBe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}const aBe={flow:{null:{tokenize:uBe,resolveAll:lBe}}};function uBe(e,t,n){const r=this;let i=0,s=0,o;return a;function a(C){let D=r.events.length-1;for(;D>-1;){const U=r.events[D][1].type;if(U==="lineEnding"||U==="linePrefix")D--;else break}const q=D>-1?r.events[D][1].type:null,W=q==="tableHead"||q==="tableRow"?w:u;return W===w&&r.parser.lazy[r.now().line]?n(C):W(C)}function u(C){return e.enter("tableHead"),e.enter("tableRow"),l(C)}function l(C){return C===124||(o=!0,s+=1),c(C)}function c(C){return C===null?n(C):pt(C)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),h):n(C):zn(C)?Qt(e,c,"whitespace")(C):(s+=1,o&&(o=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),f(C)))}function f(C){return C===null||C===124||nr(C)?(e.exit("data"),c(C)):(e.consume(C),C===92?d:f)}function d(C){return C===92||C===124?(e.consume(C),f):f(C)}function h(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),o=!1,zn(C)?Qt(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):p(C))}function p(C){return C===45||C===58?y(C):C===124?(o=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),m):S(C)}function m(C){return zn(C)?Qt(e,y,"whitespace")(C):y(C)}function y(C){return C===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),g):C===45?(s+=1,g(C)):C===null||pt(C)?E(C):S(C)}function g(C){return C===45?(e.enter("tableDelimiterFiller"),_(C)):S(C)}function _(C){return C===45?(e.consume(C),_):C===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(C))}function v(C){return zn(C)?Qt(e,E,"whitespace")(C):E(C)}function E(C){return C===124?p(C):C===null||pt(C)?!o||i!==s?S(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):S(C)}function S(C){return n(C)}function w(C){return e.enter("tableRow"),x(C)}function x(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),x):C===null||pt(C)?(e.exit("tableRow"),t(C)):zn(C)?Qt(e,x,"whitespace")(C):(e.enter("data"),I(C))}function I(C){return C===null||C===124||nr(C)?(e.exit("data"),x(C)):(e.consume(C),C===92?M:I)}function M(C){return C===92||C===124?(e.consume(C),I):I(C)}}function lBe(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,u=0,l,c,f;const d=new iBe;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,u!==0&&(nV(d,t,u,l,c),c=void 0,u=0),l={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",l,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=j1(d,t,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=j1(d,t,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(a=!0,u=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(u=n,s[1]!==0?(o[0]=o[1],f=j1(d,t,s,i,n,f)):o[1]!==0&&(f=j1(d,t,o,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&nV(d,t,u,l,c),d.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=oBe(t.events,n))}return e}function j1(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Jh(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=Jh(t.events,n[1]);if(s={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=Jh(t.events,n[2]),c=Jh(t.events,n[3]),f={type:a,start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const d=t.events[n[2]],h=t.events[n[3]];if(d[1].end=Object.assign({},h[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},Jh(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function nV(e,t,n,r,i){const s=[],o=Jh(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Jh(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const cBe={tokenize:dBe},fBe={text:{91:cBe}};function dBe(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return nr(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(u)}function a(u){return pt(u)?t(u):zn(u)?e.check({tokenize:hBe},t,n)(u):n(u)}}function hBe(e,t,n){return Qt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function pBe(e){return ete([M9e,K9e(),rBe(e),aBe,fBe])}function rV(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function mBe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const gBe=!0,iV=!1,yBe="skip",_Be=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=mI(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,m;if((!t||i(a,u,l[l.length-1]||null))&&(d=vBe(n(a,l)),d[0]===iV))return d;if(a.children&&d[0]!==yBe)for(p=(r?a.children.length:-1)+s,m=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,m)(),h[0]===iV)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function vBe(e){return Array.isArray(e)?e:typeof e=="number"?[gBe,e]:[e]}const bBe={}.hasOwnProperty,wBe=function(e,t,n,r){let i,s;typeof t=="string"||t instanceof RegExp?(s=[[t,n]],i=r):(s=t,i=n),i||(i={});const o=mI(i.ignore||[]),a=EBe(s);let u=-1;for(;++u<a.length;)_Be(e,"text",l);return e;function l(f,d){let h=-1,p;for(;++h<d.length;){const m=d[h];if(o(m,p?p.children.indexOf(m):void 0,p))return;p=m}if(p)return c(f,d)}function c(f,d){const h=d[d.length-1],p=a[u][0],m=a[u][1];let y=0;const g=h.children.indexOf(f);let _=!1,v=[];p.lastIndex=0;let E=p.exec(f.value);for(;E;){const S=E.index,w={index:E.index,input:E.input,stack:[...d,f]};let x=m(...E,w);if(typeof x=="string"&&(x=x.length>0?{type:"text",value:x}:void 0),x!==!1&&(y!==S&&v.push({type:"text",value:f.value.slice(y,S)}),Array.isArray(x)?v.push(...x):x&&v.push(x),y=S+E[0].length,_=!0),!p.global)break;E=p.exec(f.value)}return _?(y<f.value.length&&v.push({type:"text",value:f.value.slice(y)}),h.children.splice(g,1,...v)):v=[f],g+v.length}};function EBe(e){const t=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([sV(e[n][0]),oV(e[n][1])])}else{let n;for(n in e)bBe.call(e,n)&&t.push([sV(n),oV(e[n])])}return t}function sV(e){return typeof e=="string"?new RegExp(mBe(e),"g"):e}function oV(e){return typeof e=="function"?e:()=>e}const kO="phrasing",NO=["autolink","link","image","label"],TBe={transforms:[PBe],enter:{literalAutolink:xBe,literalAutolinkEmail:DO,literalAutolinkHttp:DO,literalAutolinkWww:DO},exit:{literalAutolink:OBe,literalAutolinkEmail:CBe,literalAutolinkHttp:IBe,literalAutolinkWww:ABe}},SBe={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:kO,notInConstruct:NO},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:kO,notInConstruct:NO},{character:":",before:"[ps]",after:"\\/",inConstruct:kO,notInConstruct:NO}]};function xBe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function DO(e){this.config.enter.autolinkProtocol.call(this,e)}function IBe(e){this.config.exit.autolinkProtocol.call(this,e)}function ABe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}function CBe(e){this.config.exit.autolinkEmail.call(this,e)}function OBe(e){this.exit(e)}function PBe(e){wBe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,RBe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,kBe]],{ignore:["link","linkReference"]})}function RBe(e,t,n,r,i){let s="";if(!Une(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!NBe(n)))return!1;const o=DBe(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function kBe(e,t,n,r){return!Une(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function NBe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function DBe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=rV(e,"(");let s=rV(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Une(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Zd(n)||dI(n))&&(!t||n!==47)}function Vne(e){return e.label||!e.identifier?e.label||"":fte(e.identifier)}function $Be(e,t,n){const r=t.indexStack,i=e.children||[],s=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const u=i[a];r[r.length-1]=a,o.push(s.move(t.handle(u,e,t,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(LBe(u,i[a+1],e,t)))}return r.pop(),o.join("")}function LBe(e,t,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const MBe=/\r?\n|\r/g;function FBe(e,t){const n=[];let r=0,i=0,s;for(;s=MBe.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,i,!a))}}function zne(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function BBe(e,t){return aV(e,t.inConstruct,!0)&&!aV(e,t.notInConstruct,!1)}function aV(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Hne(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<e.unsafe.length;){const c=e.unsafe[a];if(!BBe(e.stack,c))continue;const f=zne(c);let d;for(;d=f.exec(r);){const h="before"in c||!!c.atBreak,p="after"in c,m=d.index+(h?d[1].length:0);i.includes(m)?(o[m].before&&!h&&(o[m].before=!1),o[m].after&&!p&&(o[m].after=!1)):(i.push(m),o[m]={before:h,after:p})}}i.sort(jBe);let u=n.before?n.before.length:0;const l=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const c=i[a];c<u||c>=l||c+1<l&&i[a+1]===c+1&&o[c].after&&!o[c+1].before&&!o[c+1].after||i[a-1]===c-1&&o[c].before&&!o[c-1].before&&!o[c-1].after||(u!==c&&s.push(uV(r.slice(u,c),"\\")),u=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),u++))}return s.push(uV(r.slice(u,l),n.after)),s.join("")}function jBe(e,t){return e-t}function uV(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=e+t;let o=-1,a=0,u;for(;u=n.exec(s);)r.push(u.index);for(;++o<r.length;)a!==r[o]&&i.push(e.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(e.slice(a)),i.join("")}function DI(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,s=n.column||1;return{move:u,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(l){r+=l}function u(l){const c=l||"",f=c.split(/\r?\n|\r/g),d=f[f.length-1];return i+=f.length-1,s=f.length===1?s+d.length:1+d.length+r,c}}qne.peek=XBe;function UBe(){return{enter:{gfmFootnoteDefinition:zBe,gfmFootnoteDefinitionLabelString:HBe,gfmFootnoteCall:YBe,gfmFootnoteCallString:GBe},exit:{gfmFootnoteDefinition:WBe,gfmFootnoteDefinitionLabelString:qBe,gfmFootnoteCall:QBe,gfmFootnoteCallString:KBe}}}function VBe(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:JBe,footnoteReference:qne}}}function zBe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function HBe(){this.buffer()}function qBe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ma(this.sliceSerialize(e)).toLowerCase()}function WBe(e){this.exit(e)}function YBe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function GBe(){this.buffer()}function KBe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ma(this.sliceSerialize(e)).toLowerCase()}function QBe(e){this.exit(e)}function qne(e,t,n,r){const i=DI(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(Hne(n,Vne(e),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function XBe(){return"["}function JBe(e,t,n,r){const i=DI(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(Hne(n,Vne(e),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),s+=i.move(FBe($Be(e,n,i.current()),ZBe)),o(),s}function ZBe(e,t,n){return t===0?e:(n?"":"    ")+e}function Wne(e,t,n){const r=t.indexStack,i=e.children||[],s=[];let o=-1,a=n.before;r.push(-1);let u=t.createTracker(n);for(;++o<i.length;){const l=i[o];let c;if(r[r.length-1]=o,o+1<i.length){let f=t.handle.handlers[i[o+1].type];f&&f.peek&&(f=f.peek),c=f?f(i[o+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else c=n.after;s.length>0&&(a==="\r"||a===`
`)&&l.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",u=t.createTracker(n),u.move(s.join(""))),s.push(u.move(t.handle(l,e,t,{...u.current(),before:a,after:c}))),a=s[s.length-1].slice(-1)}return r.pop(),s.join("")}const eje=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Yne.peek=sje;const tje={canContainEols:["delete"],enter:{strikethrough:rje},exit:{strikethrough:ije}},nje={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:eje}],handlers:{delete:Yne}};function rje(e){this.enter({type:"delete",children:[]},e)}function ije(e){this.exit(e)}function Yne(e,t,n,r){const i=DI(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=Wne(e,n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function sje(){return"~"}Gne.peek=oje;function Gne(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=zne(o);let u;if(o.atBreak)for(;u=a.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function oje(){return"`"}function aje(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||lje,i=[],s=[],o=[],a=[];let u=0,l=-1;for(;++l<e.length;){const p=[],m=[];let y=-1;for(e[l].length>u&&(u=e[l].length);++y<e[l].length;){const g=uje(e[l][y]);if(t.alignDelimiters!==!1){const _=r(g);m[y]=_,(a[y]===void 0||_>a[y])&&(a[y]=_)}p.push(g)}s[l]=p,o[l]=m}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<u;)i[c]=lV(n[c]);else{const p=lV(n);for(;++c<u;)i[c]=p}c=-1;const f=[],d=[];for(;++c<u;){const p=i[c];let m="",y="";p===99?(m=":",y=":"):p===108?m=":":p===114&&(y=":");let g=t.alignDelimiters===!1?1:Math.max(1,a[c]-m.length-y.length);const _=m+"-".repeat(g)+y;t.alignDelimiters!==!1&&(g=m.length+g+y.length,g>a[c]&&(a[c]=g),d[c]=g),f[c]=_}s.splice(1,0,f),o.splice(1,0,d),l=-1;const h=[];for(;++l<s.length;){const p=s[l],m=o[l];c=-1;const y=[];for(;++c<u;){const g=p[c]||"";let _="",v="";if(t.alignDelimiters!==!1){const E=a[c]-(m[c]||0),S=i[c];S===114?_=" ".repeat(E):S===99?E%2?(_=" ".repeat(E/2+.5),v=" ".repeat(E/2-.5)):(_=" ".repeat(E/2),v=_):v=" ".repeat(E)}t.delimiterStart!==!1&&!c&&y.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&g==="")&&(t.delimiterStart!==!1||c)&&y.push(" "),t.alignDelimiters!==!1&&y.push(_),y.push(g),t.alignDelimiters!==!1&&y.push(v),t.padding!==!1&&y.push(" "),(t.delimiterEnd!==!1||c!==u-1)&&y.push("|")}h.push(t.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function uje(e){return e==null?"":String(e)}function lje(e){return e.length}function lV(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const cje={enter:{table:fje,tableData:cV,tableHeader:cV,tableRow:hje},exit:{codeText:pje,table:dje,tableData:$O,tableHeader:$O,tableRow:$O}};function fje(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)}function dje(e){this.exit(e),this.setData("inTable")}function hje(e){this.enter({type:"tableRow",children:[]},e)}function $O(e){this.exit(e)}function cV(e){this.enter({type:"tableCell",children:[]},e)}function pje(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,mje));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)}function mje(e,t){return t==="|"?t:e}function gje(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:u,inlineCode:d}};function o(h,p,m,y){return l(c(h,m,y),h.align)}function a(h,p,m,y){const g=f(h,m,y),_=l([g]);return _.slice(0,_.indexOf(`
`))}function u(h,p,m,y){const g=m.enter("tableCell"),_=m.enter("phrasing"),v=Wne(h,m,{...y,before:s,after:s});return _(),g(),v}function l(h,p){return aje(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const y=h.children;let g=-1;const _=[],v=p.enter("table");for(;++g<y.length;)_[g]=f(y[g],p,m);return v(),_}function f(h,p,m){const y=h.children;let g=-1;const _=[],v=p.enter("tableRow");for(;++g<y.length;)_[g]=u(y[g],h,p,m);return v(),_}function d(h,p,m){let y=Gne(h,p,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function yje(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _je(e){const t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function vje(e,t,n,r){const i=_je(n);let s=n.bulletCurrent||yje(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,a.current()),c);return u(),l;function c(f,d,h){return d?(h?"":" ".repeat(o))+f:(h?s:s+" ".repeat(o-s.length))+f}}const bje={exit:{taskListCheckValueChecked:fV,taskListCheckValueUnchecked:fV,paragraph:Eje}},wje={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Tje}};function fV(e){const t=this.stack[this.stack.length-2];t.checked=e.type==="taskListCheckValueChecked"}function Eje(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Tje(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=DI(r);s&&a.move(o);let u=vje(e,t,n,{...r,...a.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(c){return c+o}}function Sje(){return[TBe,UBe(),tje,cje,bje]}function xje(e){return{extensions:[SBe,VBe(),nje,gje(e),wje]}}function Ije(e={}){const t=this.data();n("micromarkExtensions",pBe(e)),n("fromMarkdownExtensions",Sje()),n("toMarkdownExtensions",xje(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}function Js({text:e}){const t={img:({node:n,...r})=>P.jsx(eg,{...r}),p:({node:n,...r})=>P.jsx(yt,{...r,pb:8}),h1:({node:n,...r})=>P.jsx(Ac,{order:1,...r,pb:12}),h2:({node:n,...r})=>P.jsx(Ac,{order:2,...r,pb:12}),h3:({node:n,...r})=>P.jsx(Ac,{order:3,...r,pb:12}),h4:({node:n,...r})=>P.jsx(Ac,{order:4,...r,pb:12}),h5:({node:n,...r})=>P.jsx(Ac,{order:5,...r,pb:12}),h6:({node:n,...r})=>P.jsx(Ac,{order:6,...r,pb:12}),a:({node:n,...r})=>P.jsx(fK,{...r}),ul:({node:n,...r})=>P.jsx(pm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>P.jsx(pm,{type:"ordered",withPadding:!0,...r,pb:8})};return P.jsx("div",{style:{display:"inherit"},children:P.jsx(Fte,{components:t,remarkPlugins:[Ije],rehypePlugins:[D9e],children:e})})}function Aje({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return P.jsx(jE.Group,{label:P.jsx(Js,{text:r}),withAsterisk:i,...n,error:bh(e,n,s),size:"md",children:P.jsx(na,{mt:"md",children:s.map(o=>P.jsx(jE,{disabled:t,value:o.value,label:o.label},o.value))})})}function Cje({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return P.jsx(hZ,{disabled:t,label:P.jsx(Js,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:bh(e,n,o)})}function Oje({response:e,answer:t}){const{prompt:n}=e;return P.jsxs(P.Fragment,{children:[P.jsx(yt,{fz:"md",fw:500,children:P.jsx(Js,{text:n})}),P.jsx(pm,{children:Array.isArray(t.value)&&t.value.map(r=>P.jsx(pm.Item,{children:r},r))})]})}function Kne({response:e,disabled:t,answer:n,vertical:r=!1}){const{prompt:i,required:s,options:o,leftLabel:a,rightLabel:u}=e;return P.jsxs(Mp.Group,{name:`radioInput${e.id}`,label:P.jsx(Js,{text:i}),size:"md",...n,error:bh(e,n,o),children:[a?P.jsx(yt,{children:a}):null,r?P.jsx(vu,{mt:"xs",children:o.map(l=>P.jsxs(P.Fragment,{children:[P.jsx(Mp,{disabled:t,value:l.value,label:l.label},l.label),P.jsx(qy,{})]}))}):P.jsx(na,{mt:"xs",children:o.map(l=>P.jsx(Mp,{disabled:t,value:l.value,label:l.label},l.label))}),P.jsx(yt,{children:u})]},e.id)}function Pje({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return P.jsx(Kne,{disabled:t,response:s,answer:n,vertical:!1})}function Rje({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return P.jsx(UJ,{disabled:t,placeholder:a,label:P.jsx(Js,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:bh(e,n)})}function kje({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=bh(e,n);return P.jsx(Ks.Wrapper,{withAsterisk:i,label:P.jsx(Js,{text:r}),error:o,size:"md",children:P.jsx(i$,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function Nje({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return P.jsx(t$,{disabled:t,placeholder:r,label:P.jsx(Js,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:bh(e,n)})}function Dje({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return P.jsx(YX,{disabled:t,placeholder:r,label:P.jsx(Js,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:bh(e,n)})}function $je({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=bD(),o=T.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return P.jsxs(P.Fragment,{children:[P.jsxs(ut,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&P.jsx(Rje,{response:e,disabled:o,answer:r}),e.type==="shortText"&&P.jsx(Nje,{response:e,disabled:o,answer:r}),e.type==="longText"&&P.jsx(Dje,{response:e,disabled:o,answer:r}),e.type==="likert"&&P.jsx(Pje,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&P.jsx(Cje,{response:e,disabled:o,answer:r}),e.type==="slider"&&P.jsx(kje,{response:e,disabled:o,answer:r}),e.type==="radio"&&P.jsx(Kne,{response:e,disabled:o,answer:r,vertical:!1}),e.type==="checkbox"&&P.jsx(Aje,{response:e,disabled:o,answer:r}),e.type==="iframe"&&P.jsx(Oje,{response:e,answer:r})]}),P.jsx(qy,{})]})}function qT({config:e,location:t,status:n,style:r}){var y,g;const i=ua(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=ac(),{updateResponseBlockValidation:l}=oc(),c=sLe(a,i,s||{}),[f,d]=T.useState(!1),{iframeAnswers:h}=Qu(_=>_),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return T.useEffect(()=>{const _=a.find(v=>v.type==="iframe");if(_){const v=_.id;c.setValues({...c.values,[v]:h})}},[h]),T.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:lv(c.values)}))},[c.values,i,t]),P.jsxs("div",{style:r,children:[a.map(_=>{var v,E;return P.jsx(N.Fragment,{children:_.hidden?"":P.jsxs(P.Fragment,{children:[P.jsx($je,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&P.jsx(yt,{children:`The correct answer is: ${(E=(v=o.correctAnswer)==null?void 0:v.find(S=>S.id===_.id))==null?void 0:E.answer}`})]})},`${_.id}-${i}`)}),P.jsxs(na,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&P.jsx(Jo,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&P.jsx(R3e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const U1="@REVISIT_COMMS",Lje={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function Mje({currentConfig:e}){const{setIframeAnswers:t}=oc(),n=ac(),r=LZ(),i=T.useRef(null),s=T.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=ua(),a=Xm(),u=T.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${U1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return T.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${U1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${U1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${U1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),P.jsx("div",{children:P.jsx("iframe",{ref:i,src:`${Gu}${e.path}?trialid=${o}&id=${s}`,style:Lje})})}const Fje={maxWidth:"100%"};function Bje({currentConfig:e}){const t={...Fje,...e.style};return P.jsx(eg,{mx:"auto",src:`${Gu}${e.path}`,style:t})}function qb(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T3(e){let t,n,r;e.length!==2?(t=qb,n=(a,u)=>qb(e(a),u),r=(a,u)=>e(a)-u):(t=e===qb||e===jje?e:Uje,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function Uje(){return 0}function Vje(e){return e===null?NaN:+e}const zje=T3(qb),Hje=zje.right;T3(Vje).center;const qje=Hje;function dV(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class hV extends Map{constructor(t,n=Gje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(pV(this,t))}has(t){return super.has(pV(this,t))}set(t,n){return super.set(Wje(this,t),n)}delete(t){return super.delete(Yje(this,t))}}function pV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Wje({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Yje({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Gje(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Kje=Math.sqrt(50),Qje=Math.sqrt(10),Xje=Math.sqrt(2);function WT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Kje?10:s>=Qje?5:s>=Xje?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?WT(e,t,n*2):[a,u,l]}function Jje(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?WT(t,e,n):WT(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function HR(e,t,n){return t=+t,e=+e,n=+n,WT(e,t,n)[2]}function qR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?HR(t,e,n):HR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Zje(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function eUe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var tUe={value:()=>{}};function S3(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wb(n)}function Wb(e){this._=e}function nUe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wb.prototype=S3.prototype={constructor:Wb,on:function(e,t){var n=this._,r=nUe(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=rUe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=mV(n[i],e.name,t);else if(t==null)for(i in n)n[i]=mV(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wb(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function rUe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function mV(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tUe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var WR="http://www.w3.org/1999/xhtml";const gV={svg:"http://www.w3.org/2000/svg",xhtml:WR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $I(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),gV.hasOwnProperty(t)?{space:gV[t],local:e}:e}function iUe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===WR&&t.documentElement.namespaceURI===WR?t.createElement(e):t.createElementNS(n,e)}}function sUe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qne(e){var t=$I(e);return(t.local?sUe:iUe)(t)}function oUe(){}function x3(e){return e==null?oUe:function(){return this.querySelector(e)}}function aUe(e){typeof e!="function"&&(e=x3(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new _s(r,this._parents)}function Xne(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uUe(){return[]}function Jne(e){return e==null?uUe:function(){return this.querySelectorAll(e)}}function lUe(e){return function(){return Xne(e.apply(this,arguments))}}function cUe(e){typeof e=="function"?e=lUe(e):e=Jne(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new _s(r,i)}function Zne(e){return function(){return this.matches(e)}}function ere(e){return function(t){return t.matches(e)}}var fUe=Array.prototype.find;function dUe(e){return function(){return fUe.call(this.children,e)}}function hUe(){return this.firstElementChild}function pUe(e){return this.select(e==null?hUe:dUe(typeof e=="function"?e:ere(e)))}var mUe=Array.prototype.filter;function gUe(){return Array.from(this.children)}function yUe(e){return function(){return mUe.call(this.children,e)}}function _Ue(e){return this.selectAll(e==null?gUe:yUe(typeof e=="function"?e:ere(e)))}function vUe(e){typeof e!="function"&&(e=Zne(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new _s(r,this._parents)}function tre(e){return new Array(e.length)}function bUe(){return new _s(this._enter||this._groups.map(tre),this._parents)}function YT(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}YT.prototype={constructor:YT,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wUe(e){return function(){return e}}function EUe(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new YT(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function TUe(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new YT(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function SUe(e){return e.__data__}function xUe(e,t){if(!arguments.length)return Array.from(this,SUe);var n=t?TUe:EUe,r=this._parents,i=this._groups;typeof e!="function"&&(e=wUe(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=IUe(e.call(c,c&&c.__data__,l,r)),p=h.length,m=a[l]=new Array(p),y=o[l]=new Array(p),g=u[l]=new Array(d);n(c,f,m,y,g,h,t);for(var _=0,v=0,E,S;_<p;++_)if(E=m[_]){for(_>=v&&(v=_+1);!(S=y[v])&&++v<p;);E._next=S||null}}return o=new _s(o,r),o._enter=a,o._exit=u,o}function IUe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AUe(){return new _s(this._exit||this._groups.map(tre),this._parents)}function CUe(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function OUe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new _s(a,this._parents)}function PUe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function RUe(e){e||(e=kUe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new _s(i,this._parents).order()}function kUe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function NUe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function DUe(){return Array.from(this)}function $Ue(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function LUe(){let e=0;for(const t of this)++e;return e}function MUe(){return!this.node()}function FUe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function BUe(e){return function(){this.removeAttribute(e)}}function jUe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UUe(e,t){return function(){this.setAttribute(e,t)}}function VUe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zUe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function HUe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qUe(e,t){var n=$I(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?jUe:BUe:typeof t=="function"?n.local?HUe:zUe:n.local?VUe:UUe)(n,t))}function nre(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function WUe(e){return function(){this.style.removeProperty(e)}}function YUe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function GUe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function KUe(e,t,n){return arguments.length>1?this.each((t==null?WUe:typeof t=="function"?GUe:YUe)(e,t,n??"")):vm(this.node(),e)}function vm(e,t){return e.style.getPropertyValue(t)||nre(e).getComputedStyle(e,null).getPropertyValue(t)}function QUe(e){return function(){delete this[e]}}function XUe(e,t){return function(){this[e]=t}}function JUe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ZUe(e,t){return arguments.length>1?this.each((t==null?QUe:typeof t=="function"?JUe:XUe)(e,t)):this.node()[e]}function rre(e){return e.trim().split(/^|\s+/)}function I3(e){return e.classList||new ire(e)}function ire(e){this._node=e,this._names=rre(e.getAttribute("class")||"")}ire.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sre(e,t){for(var n=I3(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ore(e,t){for(var n=I3(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function eVe(e){return function(){sre(this,e)}}function tVe(e){return function(){ore(this,e)}}function nVe(e,t){return function(){(t.apply(this,arguments)?sre:ore)(this,e)}}function rVe(e,t){var n=rre(e+"");if(arguments.length<2){for(var r=I3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?nVe:t?eVe:tVe)(n,t))}function iVe(){this.textContent=""}function sVe(e){return function(){this.textContent=e}}function oVe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function aVe(e){return arguments.length?this.each(e==null?iVe:(typeof e=="function"?oVe:sVe)(e)):this.node().textContent}function uVe(){this.innerHTML=""}function lVe(e){return function(){this.innerHTML=e}}function cVe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fVe(e){return arguments.length?this.each(e==null?uVe:(typeof e=="function"?cVe:lVe)(e)):this.node().innerHTML}function dVe(){this.nextSibling&&this.parentNode.appendChild(this)}function hVe(){return this.each(dVe)}function pVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mVe(){return this.each(pVe)}function gVe(e){var t=typeof e=="function"?e:Qne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function yVe(){return null}function _Ve(e,t){var n=typeof e=="function"?e:Qne(e),r=t==null?yVe:typeof t=="function"?t:x3(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vVe(){var e=this.parentNode;e&&e.removeChild(this)}function bVe(){return this.each(vVe)}function wVe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EVe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TVe(e){return this.select(e?EVe:wVe)}function SVe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function xVe(e){return function(t){e.call(this,t,this.__data__)}}function IVe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function AVe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function CVe(e,t,n){return function(){var r=this.__on,i,s=xVe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function OVe(e,t,n){var r=IVe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?CVe:AVe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function are(e,t,n){var r=nre(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function PVe(e,t){return function(){return are(this,e,t)}}function RVe(e,t){return function(){return are(this,e,t.apply(this,arguments))}}function kVe(e,t){return this.each((typeof t=="function"?RVe:PVe)(e,t))}function*NVe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var A3=[null];function _s(e,t){this._groups=e,this._parents=t}function gv(){return new _s([[document.documentElement]],A3)}function DVe(){return this}_s.prototype=gv.prototype={constructor:_s,select:aUe,selectAll:cUe,selectChild:pUe,selectChildren:_Ue,filter:vUe,data:xUe,enter:bUe,exit:AUe,join:CUe,merge:OUe,selection:DVe,order:PUe,sort:RUe,call:NUe,nodes:DUe,node:$Ue,size:LUe,empty:MUe,each:FUe,attr:qUe,style:KUe,property:ZUe,classed:rVe,text:aVe,html:fVe,raise:hVe,lower:mVe,append:gVe,insert:_Ve,remove:bVe,clone:TVe,datum:SVe,on:OVe,dispatch:kVe,[Symbol.iterator]:NVe};function Vr(e){return typeof e=="string"?new _s([[document.querySelector(e)]],[document.documentElement]):new _s([[e]],A3)}function $Ve(e){let t;for(;t=e.sourceEvent;)e=t;return e}function YR(e,t){if(e=$Ve(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function LVe(e){return typeof e=="string"?new _s([document.querySelectorAll(e)],[document.documentElement]):new _s([Xne(e)],A3)}const GR={capture:!0,passive:!1};function KR(e){e.preventDefault(),e.stopImmediatePropagation()}function MVe(e){var t=e.document.documentElement,n=Vr(e).on("dragstart.drag",KR,GR);"onselectstart"in t?n.on("selectstart.drag",KR,GR):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function FVe(e,t){var n=e.document.documentElement,r=Vr(e).on("dragstart.drag",null);t&&(r.on("click.drag",KR,GR),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function C3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ure(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yv(){}var t_=.7,GT=1/t_,Wp="\\s*([+-]?\\d+)\\s*",n_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BVe=/^#([0-9a-f]{3,8})$/,jVe=new RegExp(`^rgb\\(${Wp},${Wp},${Wp}\\)$`),UVe=new RegExp(`^rgb\\(${Ru},${Ru},${Ru}\\)$`),VVe=new RegExp(`^rgba\\(${Wp},${Wp},${Wp},${n_}\\)$`),zVe=new RegExp(`^rgba\\(${Ru},${Ru},${Ru},${n_}\\)$`),HVe=new RegExp(`^hsl\\(${n_},${Ru},${Ru}\\)$`),qVe=new RegExp(`^hsla\\(${n_},${Ru},${Ru},${n_}\\)$`),yV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C3(yv,eh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_V,formatHex:_V,formatHex8:WVe,formatHsl:YVe,formatRgb:vV,toString:vV});function _V(){return this.rgb().formatHex()}function WVe(){return this.rgb().formatHex8()}function YVe(){return lre(this).formatHsl()}function vV(){return this.rgb().formatRgb()}function eh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BVe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bV(t):n===3?new zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?V1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?V1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jVe.exec(e))?new zs(t[1],t[2],t[3],1):(t=UVe.exec(e))?new zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VVe.exec(e))?V1(t[1],t[2],t[3],t[4]):(t=zVe.exec(e))?V1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HVe.exec(e))?TV(t[1],t[2]/100,t[3]/100,1):(t=qVe.exec(e))?TV(t[1],t[2]/100,t[3]/100,t[4]):yV.hasOwnProperty(e)?bV(yV[e]):e==="transparent"?new zs(NaN,NaN,NaN,0):null}function bV(e){return new zs(e>>16&255,e>>8&255,e&255,1)}function V1(e,t,n,r){return r<=0&&(e=t=n=NaN),new zs(e,t,n,r)}function GVe(e){return e instanceof yv||(e=eh(e)),e?(e=e.rgb(),new zs(e.r,e.g,e.b,e.opacity)):new zs}function QR(e,t,n,r){return arguments.length===1?GVe(e):new zs(e,t,n,r??1)}function zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}C3(zs,QR,ure(yv,{brighter(e){return e=e==null?GT:Math.pow(GT,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?t_:Math.pow(t_,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zs(Ld(this.r),Ld(this.g),Ld(this.b),KT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wV,formatHex:wV,formatHex8:KVe,formatRgb:EV,toString:EV}));function wV(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}`}function KVe(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}${wd((isNaN(this.opacity)?1:this.opacity)*255)}`}function EV(){const e=KT(this.opacity);return`${e===1?"rgb(":"rgba("}${Ld(this.r)}, ${Ld(this.g)}, ${Ld(this.b)}${e===1?")":`, ${e})`}`}function KT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ld(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wd(e){return e=Ld(e),(e<16?"0":"")+e.toString(16)}function TV(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pa(e,t,n,r)}function lre(e){if(e instanceof Pa)return new Pa(e.h,e.s,e.l,e.opacity);if(e instanceof yv||(e=eh(e)),!e)return new Pa;if(e instanceof Pa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Pa(o,a,u,e.opacity)}function QVe(e,t,n,r){return arguments.length===1?lre(e):new Pa(e,t,n,r??1)}function Pa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}C3(Pa,QVe,ure(yv,{brighter(e){return e=e==null?GT:Math.pow(GT,e),new Pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?t_:Math.pow(t_,e),new Pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zs(LO(e>=240?e-240:e+120,i,r),LO(e,i,r),LO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Pa(SV(this.h),z1(this.s),z1(this.l),KT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KT(this.opacity);return`${e===1?"hsl(":"hsla("}${SV(this.h)}, ${z1(this.s)*100}%, ${z1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SV(e){return e=(e||0)%360,e<0?e+360:e}function z1(e){return Math.max(0,Math.min(1,e||0))}function LO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const O3=e=>()=>e;function XVe(e,t){return function(n){return e+n*t}}function JVe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ZVe(e){return(e=+e)==1?cre:function(t,n){return n-t?JVe(t,n,e):O3(isNaN(t)?n:t)}}function cre(e,t){var n=t-e;return n?XVe(e,n):O3(isNaN(e)?t:e)}const QT=function e(t){var n=ZVe(t);function r(i,s){var o=n((i=QR(i)).r,(s=QR(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=cre(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function e7e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function t7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n7e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=LI(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function r7e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Aa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function i7e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=LI(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var XR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MO=new RegExp(XR.source,"g");function s7e(e){return function(){return e}}function o7e(e){return function(t){return e(t)+""}}function fre(e,t){var n=XR.lastIndex=MO.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=XR.exec(e))&&(i=MO.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Aa(r,i)})),n=MO.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?o7e(u[0].x):s7e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function LI(e,t){var n=typeof t,r;return t==null||n==="boolean"?O3(t):(n==="number"?Aa:n==="string"?(r=eh(t))?(t=r,QT):fre:t instanceof eh?QT:t instanceof Date?r7e:t7e(t)?e7e:Array.isArray(t)?n7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?i7e:Aa)(e,t)}function a7e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var xV=180/Math.PI,JR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dre(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*xV,skewX:Math.atan(u)*xV,scaleX:o,scaleY:a}}var H1;function u7e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?JR:dre(t.a,t.b,t.c,t.d,t.e,t.f)}function l7e(e){return e==null||(H1||(H1=document.createElementNS("http://www.w3.org/2000/svg","g")),H1.setAttribute("transform",e),!(e=H1.transform.baseVal.consolidate()))?JR:(e=e.matrix,dre(e.a,e.b,e.c,e.d,e.e,e.f))}function hre(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Aa(l,f)},{i:m-2,x:Aa(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Aa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Aa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Aa(l,f)},{i:m-2,x:Aa(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,y;++p<m;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var c7e=hre(u7e,"px, ","px)","deg)"),f7e=hre(l7e,", ",")",")"),bm=0,I0=0,r0=0,pre=1e3,XT,A0,JT=0,th=0,MI=0,r_=typeof performance=="object"&&performance.now?performance:Date,mre=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function P3(){return th||(mre(d7e),th=r_.now()+MI)}function d7e(){th=0}function ZT(){this._call=this._time=this._next=null}ZT.prototype=gre.prototype={constructor:ZT,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?P3():+n)+(t==null?0:+t),!this._next&&A0!==this&&(A0?A0._next=this:XT=this,A0=this),this._call=e,this._time=n,ZR()},stop:function(){this._call&&(this._call=null,this._time=1/0,ZR())}};function gre(e,t,n){var r=new ZT;return r.restart(e,t,n),r}function h7e(){P3(),++bm;for(var e=XT,t;e;)(t=th-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bm}function IV(){th=(JT=r_.now())+MI,bm=I0=0;try{h7e()}finally{bm=0,m7e(),th=0}}function p7e(){var e=r_.now(),t=e-JT;t>pre&&(MI-=t,JT=e)}function m7e(){for(var e,t=XT,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:XT=n);A0=e,ZR(r)}function ZR(e){if(!bm){I0&&(I0=clearTimeout(I0));var t=e-th;t>24?(e<1/0&&(I0=setTimeout(IV,e-r_.now()-MI)),r0&&(r0=clearInterval(r0))):(r0||(JT=r_.now(),r0=setInterval(p7e,pre)),bm=1,mre(IV))}}function AV(e,t,n){var r=new ZT;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var g7e=S3("start","end","cancel","interrupt"),y7e=[],yre=0,CV=1,ek=2,Yb=3,OV=4,tk=5,Gb=6;function FI(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;_7e(e,n,{name:t,index:r,group:i,on:g7e,tween:y7e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:yre})}function R3(e,t){var n=Ya(e,t);if(n.state>yre)throw new Error("too late; already scheduled");return n}function Ju(e,t){var n=Ya(e,t);if(n.state>Yb)throw new Error("too late; already running");return n}function Ya(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function _7e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gre(s,0,n.time);function s(l){n.state=CV,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==CV)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Yb)return AV(o);h.state===OV?(h.state=Gb,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Gb,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(AV(function(){n.state===Yb&&(n.state=OV,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ek,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ek){for(n.state=Yb,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=tk,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===tk&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Gb,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function nk(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>ek&&r.state<tk,r.state=Gb,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function v7e(e){return this.each(function(){nk(this,e)})}function b7e(e,t){var n,r;return function(){var i=Ju(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function w7e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ju(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function E7e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ya(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?b7e:w7e)(n,e,t))}function k3(e,t,n){var r=e._id;return e.each(function(){var i=Ju(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ya(i,r).value[t]}}function _re(e,t){var n;return(typeof t=="number"?Aa:t instanceof eh?QT:(n=eh(t))?(t=n,QT):fre)(e,t)}function T7e(e){return function(){this.removeAttribute(e)}}function S7e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x7e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function I7e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function A7e(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function C7e(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function O7e(e,t){var n=$I(e),r=n==="transform"?f7e:_re;return this.attrTween(e,typeof t=="function"?(n.local?C7e:A7e)(n,r,k3(this,"attr."+e,t)):t==null?(n.local?S7e:T7e)(n):(n.local?I7e:x7e)(n,r,t))}function P7e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function R7e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function k7e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&R7e(e,s)),n}return i._value=t,i}function N7e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&P7e(e,s)),n}return i._value=t,i}function D7e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=$I(e);return this.tween(n,(r.local?k7e:N7e)(r,t))}function $7e(e,t){return function(){R3(this,e).delay=+t.apply(this,arguments)}}function L7e(e,t){return t=+t,function(){R3(this,e).delay=t}}function M7e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$7e:L7e)(t,e)):Ya(this.node(),t).delay}function F7e(e,t){return function(){Ju(this,e).duration=+t.apply(this,arguments)}}function B7e(e,t){return t=+t,function(){Ju(this,e).duration=t}}function j7e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?F7e:B7e)(t,e)):Ya(this.node(),t).duration}function U7e(e,t){if(typeof t!="function")throw new Error;return function(){Ju(this,e).ease=t}}function V7e(e){var t=this._id;return arguments.length?this.each(U7e(t,e)):Ya(this.node(),t).ease}function z7e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ju(this,e).ease=n}}function H7e(e){if(typeof e!="function")throw new Error;return this.each(z7e(this._id,e))}function q7e(e){typeof e!="function"&&(e=Zne(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Vl(r,this._parents,this._name,this._id)}function W7e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Vl(o,this._parents,this._name,this._id)}function Y7e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function G7e(e,t,n){var r,i,s=Y7e(t)?R3:Ju;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function K7e(e,t){var n=this._id;return arguments.length<2?Ya(this.node(),n).on.on(e):this.each(G7e(n,e,t))}function Q7e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function X7e(){return this.on("end.remove",Q7e(this._id))}function J7e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=x3(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,FI(l[d],t,n,d,l,Ya(c,n)));return new Vl(s,this._parents,t,n)}function Z7e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jne(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=Ya(c,n),m=0,y=d.length;m<y;++m)(h=d[m])&&FI(h,t,n,m,d,p);s.push(d),o.push(c)}return new Vl(s,o,t,n)}var eze=gv.prototype.constructor;function tze(){return new eze(this._groups,this._parents)}function nze(e,t){var n,r,i;return function(){var s=vm(this,e),o=(this.style.removeProperty(e),vm(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function vre(e){return function(){this.style.removeProperty(e)}}function rze(e,t,n){var r,i=n+"",s;return function(){var o=vm(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function ize(e,t,n){var r,i,s;return function(){var o=vm(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),vm(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function sze(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Ju(this,e),l=u.on,c=u.value[s]==null?a||(a=vre(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function oze(e,t,n){var r=(e+="")=="transform"?c7e:_re;return t==null?this.styleTween(e,nze(e,r)).on("end.style."+e,vre(e)):typeof t=="function"?this.styleTween(e,ize(e,r,k3(this,"style."+e,t))).each(sze(this._id,e)):this.styleTween(e,rze(e,r,t),n).on("end.style."+e,null)}function aze(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function uze(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&aze(e,o,n)),r}return s._value=t,s}function lze(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,uze(e,t,n??""))}function cze(e){return function(){this.textContent=e}}function fze(e){return function(){var t=e(this);this.textContent=t??""}}function dze(e){return this.tween("text",typeof e=="function"?fze(k3(this,"text",e)):cze(e==null?"":e+""))}function hze(e){return function(t){this.textContent=e.call(this,t)}}function pze(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&hze(i)),t}return r._value=e,r}function mze(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pze(e))}function gze(){for(var e=this._name,t=this._id,n=bre(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=Ya(u,t);FI(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Vl(r,this._parents,e,n)}function yze(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Ju(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var _ze=0;function Vl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bre(){return++_ze}var rl=gv.prototype;Vl.prototype={constructor:Vl,select:J7e,selectAll:Z7e,selectChild:rl.selectChild,selectChildren:rl.selectChildren,filter:q7e,merge:W7e,selection:tze,transition:gze,call:rl.call,nodes:rl.nodes,node:rl.node,size:rl.size,empty:rl.empty,each:rl.each,on:K7e,attr:O7e,attrTween:D7e,style:oze,styleTween:lze,text:dze,textTween:mze,remove:X7e,tween:E7e,delay:M7e,duration:j7e,ease:V7e,easeVarying:H7e,end:yze,[Symbol.iterator]:rl[Symbol.iterator]};const vze=e=>+e;function bze(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wze={time:null,delay:0,duration:250,ease:bze};function Eze(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Tze(e){var t,n;e instanceof Vl?(t=e._id,e=e._name):(t=bre(),(n=wze).time=P3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&FI(u,e,t,l,o,n||Eze(u,t));return new Vl(r,this._parents,e,t)}gv.prototype.interrupt=v7e;gv.prototype.transition=Tze;const FO=e=>()=>e;function Sze(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function xze(e){e.stopImmediatePropagation()}function BO(e){e.preventDefault(),e.stopImmediatePropagation()}var PV={name:"drag"},jO={name:"space"},Hh={name:"handle"},qh={name:"center"};const{abs:RV,max:qi,min:Wi}=Math;function kV(e){return[+e[0],+e[1]]}function rk(e){return[kV(e[0]),kV(e[1])]}var Kb={name:"x",handles:["w","e"].map(i_),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Qb={name:"y",handles:["n","s"].map(i_),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ize={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(i_),input:function(e){return e==null?null:rk(e)},output:function(e){return e}},il={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},NV={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},DV={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Aze={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Cze={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function i_(e){return{type:e}}function Oze(e){return!e.ctrlKey&&!e.button}function Pze(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Rze(){return navigator.maxTouchPoints||"ontouchstart"in this}function UO(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function kze(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Nze(){return N3(Kb)}function Dze(){return N3(Qb)}function $ze(){return N3(Ize)}function N3(e){var t=Pze,n=Oze,r=Rze,i=!0,s=S3("start","brush","end"),o=6,a;function u(y){var g=y.property("__brush",m).selectAll(".overlay").data([i_("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",il.overlay).merge(g).each(function(){var v=UO(this).extent;Vr(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),y.selectAll(".selection").data([i_("selection")]).enter().append("rect").attr("class","selection").attr("cursor",il.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=y.selectAll(".handle").data(e.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return il[v.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,g,_){y.tween?y.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,E=v.__brush,S=c(v,arguments),w=E.selection,x=e.input(typeof g=="function"?g.apply(this,arguments):g,E.extent),I=LI(w,x);function M(C){E.selection=C===1&&x===null?null:I(C),l.call(v),S.brush()}return w!==null&&x!==null?M:M(1)}):y.each(function(){var v=this,E=arguments,S=v.__brush,w=e.input(typeof g=="function"?g.apply(v,E):g,S.extent),x=c(v,E).beforestart();nk(v),S.selection=w===null?null:w,l.call(v),x.start(_).brush(_).end(_)})},u.clear=function(y,g){u.move(y,null,g)};function l(){var y=Vr(this),g=UO(this).selection;g?(y.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?g[1][0]-o/2:g[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?g[1][1]-o/2:g[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?g[1][0]-g[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?g[1][1]-g[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,g,_){var v=y.__brush.emitter;return v&&(!_||!v.clean)?v:new f(y,g,_)}function f(y,g,_){this.that=y,this.args=g,this.state=y.__brush,this.active=0,this.clean=_}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,g){return this.starting?(this.starting=!1,this.emit("start",y,g)):this.emit("brush",y),this},brush:function(y,g){return this.emit("brush",y,g),this},end:function(y,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,g)),this},emit:function(y,g,_){var v=Vr(this.that).datum();s.call(y,this.that,new Sze(y,{sourceEvent:g,target:u,selection:e.output(this.state.selection),mode:_,dispatch:s}),v)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var g=this,_=y.target.__data__.type,v=(i&&y.metaKey?_="overlay":_)==="selection"?PV:i&&y.altKey?qh:Hh,E=e===Qb?null:Aze[_],S=e===Kb?null:Cze[_],w=UO(g),x=w.extent,I=w.selection,M=x[0][0],C,D,q=x[0][1],W,U,de=x[1][0],ae,pe,ee=x[1][1],ie,K,A=0,O=0,z,k=E&&S&&i&&y.shiftKey,R,Y,se=Array.from(y.touches||[y],Ae=>{const Ve=Ae.identifier;return Ae=YR(Ae,g),Ae.point0=Ae.slice(),Ae.identifier=Ve,Ae});nk(g);var ue=c(g,arguments,!0).beforestart();if(_==="overlay"){I&&(z=!0);const Ae=[se[0],se[1]||se[0]];w.selection=I=[[C=e===Qb?M:Wi(Ae[0][0],Ae[1][0]),W=e===Kb?q:Wi(Ae[0][1],Ae[1][1])],[ae=e===Qb?de:qi(Ae[0][0],Ae[1][0]),ie=e===Kb?ee:qi(Ae[0][1],Ae[1][1])]],se.length>1&&Je(y)}else C=I[0][0],W=I[0][1],ae=I[1][0],ie=I[1][1];D=C,U=W,pe=ae,K=ie;var he=Vr(g).attr("pointer-events","none"),fe=he.selectAll(".overlay").attr("cursor",il[_]);if(y.touches)ue.moved=me,ue.ended=Ge;else{var Se=Vr(y.view).on("mousemove.brush",me,!0).on("mouseup.brush",Ge,!0);i&&Se.on("keydown.brush",qe,!0).on("keyup.brush",Le,!0),MVe(y.view)}l.call(g),ue.start(y,v.name);function me(Ae){for(const Ve of Ae.changedTouches||[Ae])for(const en of se)en.identifier===Ve.identifier&&(en.cur=YR(Ve,g));if(k&&!R&&!Y&&se.length===1){const Ve=se[0];RV(Ve.cur[0]-Ve[0])>RV(Ve.cur[1]-Ve[1])?Y=!0:R=!0}for(const Ve of se)Ve.cur&&(Ve[0]=Ve.cur[0],Ve[1]=Ve.cur[1]);z=!0,BO(Ae),Je(Ae)}function Je(Ae){const Ve=se[0],en=Ve.point0;var Me;switch(A=Ve[0]-en[0],O=Ve[1]-en[1],v){case jO:case PV:{E&&(A=qi(M-C,Wi(de-ae,A)),D=C+A,pe=ae+A),S&&(O=qi(q-W,Wi(ee-ie,O)),U=W+O,K=ie+O);break}case Hh:{se[1]?(E&&(D=qi(M,Wi(de,se[0][0])),pe=qi(M,Wi(de,se[1][0])),E=1),S&&(U=qi(q,Wi(ee,se[0][1])),K=qi(q,Wi(ee,se[1][1])),S=1)):(E<0?(A=qi(M-C,Wi(de-C,A)),D=C+A,pe=ae):E>0&&(A=qi(M-ae,Wi(de-ae,A)),D=C,pe=ae+A),S<0?(O=qi(q-W,Wi(ee-W,O)),U=W+O,K=ie):S>0&&(O=qi(q-ie,Wi(ee-ie,O)),U=W,K=ie+O));break}case qh:{E&&(D=qi(M,Wi(de,C-A*E)),pe=qi(M,Wi(de,ae+A*E))),S&&(U=qi(q,Wi(ee,W-O*S)),K=qi(q,Wi(ee,ie+O*S)));break}}pe<D&&(E*=-1,Me=C,C=ae,ae=Me,Me=D,D=pe,pe=Me,_ in NV&&fe.attr("cursor",il[_=NV[_]])),K<U&&(S*=-1,Me=W,W=ie,ie=Me,Me=U,U=K,K=Me,_ in DV&&fe.attr("cursor",il[_=DV[_]])),w.selection&&(I=w.selection),R&&(D=I[0][0],pe=I[1][0]),Y&&(U=I[0][1],K=I[1][1]),(I[0][0]!==D||I[0][1]!==U||I[1][0]!==pe||I[1][1]!==K)&&(w.selection=[[D,U],[pe,K]],l.call(g),ue.brush(Ae,v.name))}function Ge(Ae){if(xze(Ae),Ae.touches){if(Ae.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else FVe(Ae.view,z),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);he.attr("pointer-events","all"),fe.attr("cursor",il.overlay),w.selection&&(I=w.selection),kze(I)&&(w.selection=null,l.call(g)),ue.end(Ae,v.name)}function qe(Ae){switch(Ae.keyCode){case 16:{k=E&&S;break}case 18:{v===Hh&&(E&&(ae=pe-A*E,C=D+A*E),S&&(ie=K-O*S,W=U+O*S),v=qh,Je(Ae));break}case 32:{(v===Hh||v===qh)&&(E<0?ae=pe-A:E>0&&(C=D-A),S<0?ie=K-O:S>0&&(W=U-O),v=jO,fe.attr("cursor",il.selection),Je(Ae));break}default:return}BO(Ae)}function Le(Ae){switch(Ae.keyCode){case 16:{k&&(R=Y=k=!1,Je(Ae));break}case 18:{v===qh&&(E<0?ae=pe:E>0&&(C=D),S<0?ie=K:S>0&&(W=U),v=Hh,Je(Ae));break}case 32:{v===jO&&(Ae.altKey?(E&&(ae=pe-A*E,C=D+A*E),S&&(ie=K-O*S,W=U+O*S),v=qh):(E<0?ae=pe:E>0&&(C=D),S<0?ie=K:S>0&&(W=U),v=Hh),fe.attr("cursor",il[_]),Je(Ae));break}default:return}BO(Ae)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function m(){var y=this.__brush||{selection:null};return y.extent=rk(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:FO(rk(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:FO(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:FO(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const ik=Math.PI,sk=2*ik,rd=1e-6,Lze=sk-rd;function wre(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Mze(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wre;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fze{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wre:Mze(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>rd)if(!(Math.abs(f*u-l*c)>rd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),_=Math.sqrt(d),v=s*Math.tan((ik-Math.acos((m+d-y)/(2*g*_)))/2),E=v/_,S=v/g;Math.abs(E-1)>rd&&this._append`L${t+E*c},${n+E*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+S*u},${this._y1=n+S*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>rd||Math.abs(this._y1-c)>rd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%sk+sk),d>Lze?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>rd&&this._append`A${r},${r},0,${+(d>=ik)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var $V={},VO={},zO=34,i0=10,HO=13;function Ere(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Bze(e,t){var n=Ere(e);return function(r,i){return t(n(r),i,e)}}function LV(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Rs(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function jze(e){return e<0?"-"+Rs(-e,6):e>9999?"+"+Rs(e,6):Rs(e,4)}function Uze(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":jze(e.getUTCFullYear())+"-"+Rs(e.getUTCMonth()+1,2)+"-"+Rs(e.getUTCDate(),2)+(i?"T"+Rs(t,2)+":"+Rs(n,2)+":"+Rs(r,2)+"."+Rs(i,3)+"Z":r?"T"+Rs(t,2)+":"+Rs(n,2)+":"+Rs(r,2)+"Z":n||t?"T"+Rs(t,2)+":"+Rs(n,2)+"Z":"")}function Vze(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?Bze(y,d):Ere(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,_=p<=0,v=!1;f.charCodeAt(p-1)===i0&&--p,f.charCodeAt(p-1)===HO&&--p;function E(){if(_)return VO;if(v)return v=!1,$V;var w,x=m,I;if(f.charCodeAt(x)===zO){for(;m++<p&&f.charCodeAt(m)!==zO||f.charCodeAt(++m)===zO;);return(w=m)>=p?_=!0:(I=f.charCodeAt(m++))===i0?v=!0:I===HO&&(v=!0,f.charCodeAt(m)===i0&&++m),f.slice(x+1,w-1).replace(/""/g,'"')}for(;m<p;){if((I=f.charCodeAt(w=m++))===i0)v=!0;else if(I===HO)v=!0,f.charCodeAt(m)===i0&&++m;else if(I!==n)continue;return f.slice(x,w)}return _=!0,f.slice(x,p)}for(;(g=E())!==VO;){for(var S=[];g!==$V&&g!==VO;)S.push(g),g=E();d&&(S=d(S,y++))==null||h.push(S)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=LV(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=LV(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?Uze(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var zze=Vze(","),Hze=zze.parse;function qze(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Wze(e,t){return fetch(e,t).then(qze)}function Yze(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Wze(t,n).then(function(i){return e(i,r)})}}var Gze=Yze(Hze);function Kze(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wm(e){return e=eS(Math.abs(e)),e?e[1]:NaN}function Qze(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Xze(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Jze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tS(e){if(!(t=Jze.exec(e)))throw new Error("invalid format: "+e);var t;return new D3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tS.prototype=D3.prototype;function D3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}D3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zze(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Tre;function eHe(e,t){var n=eS(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Tre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+eS(e,Math.max(0,t+s-1))[0]}function MV(e,t){var n=eS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const FV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kze,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>MV(e*100,t),r:MV,s:eHe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BV(e){return e}var jV=Array.prototype.map,UV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tHe(e){var t=e.grouping===void 0||e.thousands===void 0?BV:Qze(jV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?BV:Xze(jV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=tS(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,_=f.comma,v=f.precision,E=f.trim,S=f.type;S==="n"?(_=!0,S="g"):FV[S]||(v===void 0&&(v=12),E=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=m==="$"?r:/[%p]/.test(S)?o:"",I=FV[S],M=/[defgprs%]/.test(S);v=v===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function C(D){var q=w,W=x,U,de,ae;if(S==="c")W=I(D)+W,D="";else{D=+D;var pe=D<0||1/D<0;if(D=isNaN(D)?u:I(Math.abs(D),v),E&&(D=Zze(D)),pe&&+D==0&&p!=="+"&&(pe=!1),q=(pe?p==="("?p:a:p==="-"||p==="("?"":p)+q,W=(S==="s"?UV[8+Tre/3]:"")+W+(pe&&p==="("?")":""),M){for(U=-1,de=D.length;++U<de;)if(ae=D.charCodeAt(U),48>ae||ae>57){W=(ae===46?i+D.slice(U+1):D.slice(U))+W,D=D.slice(0,U);break}}}_&&!y&&(D=t(D,1/0));var ee=q.length+D.length+W.length,ie=ee<g?new Array(g-ee+1).join(d):"";switch(_&&y&&(D=t(ie+D,ie.length?g-W.length:1/0),ie=""),h){case"<":D=q+D+W+ie;break;case"=":D=q+ie+D+W;break;case"^":D=ie.slice(0,ee=ie.length>>1)+q+D+W+ie.slice(ee);break;default:D=ie+q+D+W;break}return s(D)}return C.toString=function(){return f+""},C}function c(f,d){var h=l((f=tS(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(wm(d)/3)))*3,m=Math.pow(10,-p),y=UV[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var q1,BI,Sre;nHe({thousands:",",grouping:[3],currency:["$",""]});function nHe(e){return q1=tHe(e),BI=q1.format,Sre=q1.formatPrefix,q1}function rHe(e){return Math.max(0,-wm(Math.abs(e)))}function iHe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wm(t)/3)))*3-wm(Math.abs(e)))}function sHe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wm(t)-wm(e))+1}function oHe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function aHe(){return this.eachAfter(oHe)}function uHe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function lHe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function cHe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function fHe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function dHe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function hHe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function pHe(e){for(var t=this,n=mHe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function mHe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function gHe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function yHe(){return Array.from(this)}function _He(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function vHe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*bHe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function $3(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=THe)):t===void 0&&(t=EHe);for(var n=new nS(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new nS(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(xHe)}function wHe(){return $3(this).eachBefore(SHe)}function EHe(e){return e.children}function THe(e){return Array.isArray(e)?e[1]:null}function SHe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function xHe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function nS(e){this.data=e,this.depth=this.height=0,this.parent=null}nS.prototype=$3.prototype={constructor:nS,count:aHe,each:uHe,eachAfter:cHe,eachBefore:lHe,find:fHe,sum:dHe,sort:hHe,path:pHe,ancestors:gHe,descendants:yHe,leaves:_He,links:vHe,copy:wHe,[Symbol.iterator]:bHe};function IHe(e){return e==null?null:AHe(e)}function AHe(e){if(typeof e!="function")throw new Error;return e}function VV(){return 0}function CHe(e){return function(){return e}}const OHe=1664525,PHe=1013904223,zV=4294967296;function RHe(){let e=1;return()=>(e=(OHe*e+PHe)%zV)/zV}function kHe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NHe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function DHe(e,t){for(var n=0,r=(e=NHe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&xre(o,s)?++n:(o=LHe(i=$He(i,s)),n=0);return o}function $He(e,t){var n,r;if(qO(t,e))return[t];for(n=0;n<e.length;++n)if(W1(t,e[n])&&qO(C0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(W1(C0(e[n],e[r]),t)&&W1(C0(e[n],t),e[r])&&W1(C0(e[r],t),e[n])&&qO(Ire(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function W1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function xre(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function qO(e,t){for(var n=0;n<t.length;++n)if(!xre(e,t[n]))return!1;return!0}function LHe(e){switch(e.length){case 1:return MHe(e[0]);case 2:return C0(e[0],e[1]);case 3:return Ire(e[0],e[1],e[2])}}function MHe(e){return{x:e.x,y:e.y,r:e.r}}function C0(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function Ire(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,m=i-c,y=u-s,g=f-s,_=r*r+i*i-s*s,v=_-o*o-a*a+u*u,E=_-l*l-c*c+f*f,S=h*p-d*m,w=(p*E-m*v)/(S*2)-r,x=(m*y-p*g)/S,I=(h*v-d*E)/(S*2)-i,M=(d*g-h*y)/S,C=x*x+M*M-1,D=2*(s+w*x+I*M),q=w*w+I*I-s*s,W=-(Math.abs(C)>1e-6?(D+Math.sqrt(D*D-4*C*q))/(2*C):q/D);return{x:r+w+x*W,y:i+I+M*W,r:W}}function HV(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function qV(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function WV(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function Y1(e){this._=e,this.next=null,this.previous=null}function FHe(e,t){if(!(s=(e=kHe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;HV(r,n,i=e[2]),n=new Y1(n),r=new Y1(r),i=new Y1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){HV(n._,r._,i=e[u]),i=new Y1(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(qV(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(qV(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=WV(n);(i=i.next)!==r;)(a=WV(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=DHe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function BHe(e){return Math.sqrt(e.value)}function jHe(){var e=null,t=1,n=1,r=VV;function i(s){const o=RHe();return s.x=t/2,s.y=n/2,e?s.eachBefore(YV(e)).eachAfter(WO(r,.5,o)).eachBefore(GV(1)):s.eachBefore(YV(BHe)).eachAfter(WO(VV,1,o)).eachAfter(WO(r,s.r/Math.min(t,n),o)).eachBefore(GV(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=IHe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:CHe(+s),i):r},i}function YV(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function WO(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=FHe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function GV(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function jI(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const KV=Symbol("implicit");function UI(){var e=new hV,t=[],n=[],r=KV;function i(s){let o=e.get(s);if(o===void 0){if(r!==KV)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hV;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UI(t,n).unknown(r)},jI.apply(i,arguments),i}function _v(){var e=UI().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(m-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=eUe(d).map(function(g){return p+s*g});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return _v(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},jI.apply(f(),arguments)}function UHe(e){return function(){return e}}function VHe(e){return+e}var QV=[0,1];function bp(e){return e}function ok(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:UHe(isNaN(t)?NaN:.5)}function zHe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function HHe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=ok(i,r),s=n(o,s)):(r=ok(r,i),s=n(s,o)),function(a){return s(r(a))}}function qHe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ok(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=qje(e,a,1,r)-1;return s[u](i[u](a))}}function Are(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function WHe(){var e=QV,t=QV,n=LI,r,i,s,o=bp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==bp&&(o=zHe(e[0],e[d-1])),a=d>2?qHe:HHe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Aa)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,VHe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=a7e,c()},f.clamp=function(d){return arguments.length?(o=d?!0:bp,c()):o!==bp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function Cre(){return WHe()(bp,bp)}function YHe(e,t,n,r){var i=qR(e,t,n),s;switch(r=tS(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=iHe(i,o))&&(r.precision=s),Sre(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=sHe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=rHe(i))&&(r.precision=s-(r.type==="%")*2);break}}return BI(r)}function GHe(e){var t=e.domain;return e.ticks=function(n){var r=t();return Jje(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return YHe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=HR(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function _f(){var e=Cre();return e.copy=function(){return Are(e,_f())},jI.apply(e,arguments),GHe(e)}function KHe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const YO=new Date,GO=new Date;function oi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>oi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(YO.setTime(+s),GO.setTime(+o),e(YO),e(GO),Math.floor(n(YO,GO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const rS=oi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?oi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rS);rS.range;const wl=1e3,Ko=wl*60,El=Ko*60,zl=El*24,L3=zl*7,XV=zl*30,KO=zl*365,wp=oi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wl)},(e,t)=>(t-e)/wl,e=>e.getUTCSeconds());wp.range;const M3=oi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getMinutes());M3.range;const QHe=oi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCMinutes());QHe.range;const F3=oi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl-e.getMinutes()*Ko)},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getHours());F3.range;const XHe=oi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getUTCHours());XHe.range;const vv=oi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ko)/zl,e=>e.getDate()-1);vv.range;const B3=oi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zl,e=>e.getUTCDate()-1);B3.range;const JHe=oi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zl,e=>Math.floor(e/zl));JHe.range;function Sh(e){return oi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ko)/L3)}const VI=Sh(0),iS=Sh(1),ZHe=Sh(2),eqe=Sh(3),Em=Sh(4),tqe=Sh(5),nqe=Sh(6);VI.range;iS.range;ZHe.range;eqe.range;Em.range;tqe.range;nqe.range;function xh(e){return oi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/L3)}const Ore=xh(0),sS=xh(1),rqe=xh(2),iqe=xh(3),Tm=xh(4),sqe=xh(5),oqe=xh(6);Ore.range;sS.range;rqe.range;iqe.range;Tm.range;sqe.range;oqe.range;const j3=oi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());j3.range;const aqe=oi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aqe.range;const Hl=oi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hl.range;const nh=oi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});nh.range;function uqe(e,t,n,r,i,s){const o=[[wp,1,wl],[wp,5,5*wl],[wp,15,15*wl],[wp,30,30*wl],[s,1,Ko],[s,5,5*Ko],[s,15,15*Ko],[s,30,30*Ko],[i,1,El],[i,3,3*El],[i,6,6*El],[i,12,12*El],[r,1,zl],[r,2,2*zl],[n,1,L3],[t,1,XV],[t,3,3*XV],[e,1,KO]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=T3(([,,y])=>y).right(o,d);if(h===o.length)return e.every(qR(l/KO,c/KO,f));if(h===0)return rS.every(Math.max(qR(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[lqe,cqe]=uqe(Hl,j3,VI,vv,F3,M3);function QO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function XO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fqe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=o0(i),c=a0(i),f=o0(s),d=a0(s),h=o0(o),p=a0(o),m=o0(a),y=a0(a),g=o0(u),_=a0(u),v={a:pe,A:ee,b:ie,B:K,c:null,d:r7,e:r7,f:Dqe,g:Hqe,G:Wqe,H:Rqe,I:kqe,j:Nqe,L:Pre,m:$qe,M:Lqe,p:A,q:O,Q:o7,s:a7,S:Mqe,u:Fqe,U:Bqe,V:jqe,w:Uqe,W:Vqe,x:null,X:null,y:zqe,Y:qqe,Z:Yqe,"%":s7},E={a:z,A:k,b:R,B:Y,c:null,d:i7,e:i7,f:Xqe,g:aWe,G:lWe,H:Gqe,I:Kqe,j:Qqe,L:kre,m:Jqe,M:Zqe,p:se,q:ue,Q:o7,s:a7,S:eWe,u:tWe,U:nWe,V:rWe,w:iWe,W:sWe,x:null,X:null,y:oWe,Y:uWe,Z:cWe,"%":s7},S={a:C,A:D,b:q,B:W,c:U,d:t7,e:t7,f:Aqe,g:e7,G:ZV,H:n7,I:n7,j:Tqe,L:Iqe,m:Eqe,M:Sqe,p:M,q:wqe,Q:Oqe,s:Pqe,S:xqe,u:gqe,U:yqe,V:_qe,w:mqe,W:vqe,x:de,X:ae,y:e7,Y:ZV,Z:bqe,"%":Cqe};v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),E.x=w(n,E),E.X=w(r,E),E.c=w(t,E);function w(he,fe){return function(Se){var me=[],Je=-1,Ge=0,qe=he.length,Le,Ae,Ve;for(Se instanceof Date||(Se=new Date(+Se));++Je<qe;)he.charCodeAt(Je)===37&&(me.push(he.slice(Ge,Je)),(Ae=JV[Le=he.charAt(++Je)])!=null?Le=he.charAt(++Je):Ae=Le==="e"?" ":"0",(Ve=fe[Le])&&(Le=Ve(Se,Ae)),me.push(Le),Ge=Je+1);return me.push(he.slice(Ge,Je)),me.join("")}}function x(he,fe){return function(Se){var me=s0(1900,void 0,1),Je=I(me,he,Se+="",0),Ge,qe;if(Je!=Se.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(fe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ge=XO(s0(me.y,0,1)),qe=Ge.getUTCDay(),Ge=qe>4||qe===0?sS.ceil(Ge):sS(Ge),Ge=B3.offset(Ge,(me.V-1)*7),me.y=Ge.getUTCFullYear(),me.m=Ge.getUTCMonth(),me.d=Ge.getUTCDate()+(me.w+6)%7):(Ge=QO(s0(me.y,0,1)),qe=Ge.getDay(),Ge=qe>4||qe===0?iS.ceil(Ge):iS(Ge),Ge=vv.offset(Ge,(me.V-1)*7),me.y=Ge.getFullYear(),me.m=Ge.getMonth(),me.d=Ge.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),qe="Z"in me?XO(s0(me.y,0,1)).getUTCDay():QO(s0(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(qe+5)%7:me.w+me.U*7-(qe+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,XO(me)):QO(me)}}function I(he,fe,Se,me){for(var Je=0,Ge=fe.length,qe=Se.length,Le,Ae;Je<Ge;){if(me>=qe)return-1;if(Le=fe.charCodeAt(Je++),Le===37){if(Le=fe.charAt(Je++),Ae=S[Le in JV?fe.charAt(Je++):Le],!Ae||(me=Ae(he,Se,me))<0)return-1}else if(Le!=Se.charCodeAt(me++))return-1}return me}function M(he,fe,Se){var me=l.exec(fe.slice(Se));return me?(he.p=c.get(me[0].toLowerCase()),Se+me[0].length):-1}function C(he,fe,Se){var me=h.exec(fe.slice(Se));return me?(he.w=p.get(me[0].toLowerCase()),Se+me[0].length):-1}function D(he,fe,Se){var me=f.exec(fe.slice(Se));return me?(he.w=d.get(me[0].toLowerCase()),Se+me[0].length):-1}function q(he,fe,Se){var me=g.exec(fe.slice(Se));return me?(he.m=_.get(me[0].toLowerCase()),Se+me[0].length):-1}function W(he,fe,Se){var me=m.exec(fe.slice(Se));return me?(he.m=y.get(me[0].toLowerCase()),Se+me[0].length):-1}function U(he,fe,Se){return I(he,t,fe,Se)}function de(he,fe,Se){return I(he,n,fe,Se)}function ae(he,fe,Se){return I(he,r,fe,Se)}function pe(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function ie(he){return u[he.getMonth()]}function K(he){return a[he.getMonth()]}function A(he){return i[+(he.getHours()>=12)]}function O(he){return 1+~~(he.getMonth()/3)}function z(he){return o[he.getUTCDay()]}function k(he){return s[he.getUTCDay()]}function R(he){return u[he.getUTCMonth()]}function Y(he){return a[he.getUTCMonth()]}function se(he){return i[+(he.getUTCHours()>=12)]}function ue(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var fe=w(he+="",v);return fe.toString=function(){return he},fe},parse:function(he){var fe=x(he+="",!1);return fe.toString=function(){return he},fe},utcFormat:function(he){var fe=w(he+="",E);return fe.toString=function(){return he},fe},utcParse:function(he){var fe=x(he+="",!0);return fe.toString=function(){return he},fe}}}var JV={"-":"",_:" ",0:"0"},_i=/^\s*\d+/,dqe=/^%/,hqe=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function pqe(e){return e.replace(hqe,"\\$&")}function o0(e){return new RegExp("^(?:"+e.map(pqe).join("|")+")","i")}function a0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function mqe(e,t,n){var r=_i.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function gqe(e,t,n){var r=_i.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function yqe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _qe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vqe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZV(e,t,n){var r=_i.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function e7(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bqe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wqe(e,t,n){var r=_i.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Eqe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function t7(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tqe(e,t,n){var r=_i.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function n7(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Sqe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xqe(e,t,n){var r=_i.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Iqe(e,t,n){var r=_i.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Aqe(e,t,n){var r=_i.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cqe(e,t,n){var r=dqe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Oqe(e,t,n){var r=_i.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Pqe(e,t,n){var r=_i.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function r7(e,t){return wn(e.getDate(),t,2)}function Rqe(e,t){return wn(e.getHours(),t,2)}function kqe(e,t){return wn(e.getHours()%12||12,t,2)}function Nqe(e,t){return wn(1+vv.count(Hl(e),e),t,3)}function Pre(e,t){return wn(e.getMilliseconds(),t,3)}function Dqe(e,t){return Pre(e,t)+"000"}function $qe(e,t){return wn(e.getMonth()+1,t,2)}function Lqe(e,t){return wn(e.getMinutes(),t,2)}function Mqe(e,t){return wn(e.getSeconds(),t,2)}function Fqe(e){var t=e.getDay();return t===0?7:t}function Bqe(e,t){return wn(VI.count(Hl(e)-1,e),t,2)}function Rre(e){var t=e.getDay();return t>=4||t===0?Em(e):Em.ceil(e)}function jqe(e,t){return e=Rre(e),wn(Em.count(Hl(e),e)+(Hl(e).getDay()===4),t,2)}function Uqe(e){return e.getDay()}function Vqe(e,t){return wn(iS.count(Hl(e)-1,e),t,2)}function zqe(e,t){return wn(e.getFullYear()%100,t,2)}function Hqe(e,t){return e=Rre(e),wn(e.getFullYear()%100,t,2)}function qqe(e,t){return wn(e.getFullYear()%1e4,t,4)}function Wqe(e,t){var n=e.getDay();return e=n>=4||n===0?Em(e):Em.ceil(e),wn(e.getFullYear()%1e4,t,4)}function Yqe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function i7(e,t){return wn(e.getUTCDate(),t,2)}function Gqe(e,t){return wn(e.getUTCHours(),t,2)}function Kqe(e,t){return wn(e.getUTCHours()%12||12,t,2)}function Qqe(e,t){return wn(1+B3.count(nh(e),e),t,3)}function kre(e,t){return wn(e.getUTCMilliseconds(),t,3)}function Xqe(e,t){return kre(e,t)+"000"}function Jqe(e,t){return wn(e.getUTCMonth()+1,t,2)}function Zqe(e,t){return wn(e.getUTCMinutes(),t,2)}function eWe(e,t){return wn(e.getUTCSeconds(),t,2)}function tWe(e){var t=e.getUTCDay();return t===0?7:t}function nWe(e,t){return wn(Ore.count(nh(e)-1,e),t,2)}function Nre(e){var t=e.getUTCDay();return t>=4||t===0?Tm(e):Tm.ceil(e)}function rWe(e,t){return e=Nre(e),wn(Tm.count(nh(e),e)+(nh(e).getUTCDay()===4),t,2)}function iWe(e){return e.getUTCDay()}function sWe(e,t){return wn(sS.count(nh(e)-1,e),t,2)}function oWe(e,t){return wn(e.getUTCFullYear()%100,t,2)}function aWe(e,t){return e=Nre(e),wn(e.getUTCFullYear()%100,t,2)}function uWe(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function lWe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Tm(e):Tm.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function cWe(){return"+0000"}function s7(){return"%"}function o7(e){return+e}function a7(e){return Math.floor(+e/1e3)}var Wh,Dre,$re;fWe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fWe(e){return Wh=fqe(e),Dre=Wh.format,Wh.parse,$re=Wh.utcFormat,Wh.utcParse,Wh}function dWe(e){return new Date(e)}function hWe(e){return e instanceof Date?+e:+new Date(+e)}function Lre(e,t,n,r,i,s,o,a,u,l){var c=Cre(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),_=l("%b %d"),v=l("%B"),E=l("%Y");function S(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?m:s(w)<w?y:r(w)<w?i(w)<w?g:_:n(w)<w?v:E)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,hWe)):d().map(dWe)},c.ticks=function(w){var x=d();return e(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?S:l(x)},c.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=t(x[0],x[x.length-1],w??10)),w?d(KHe(x,w)):c},c.copy=function(){return Are(c,Lre(e,t,n,r,i,s,o,a,u,l))},c}function pWe(){return jI.apply(Lre(lqe,cqe,Hl,j3,VI,vv,F3,M3,wp,Dre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mWe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Mre=mWe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Jr(e){return function(){return e}}const u7=Math.abs,Yi=Math.atan2,Zf=Math.cos,gWe=Math.max,JO=Math.min,Qa=Math.sin,Ep=Math.sqrt,Ps=1e-12,s_=Math.PI,oS=s_/2,Xb=2*s_;function yWe(e){return e>1?0:e<-1?s_:Math.acos(e)}function l7(e){return e>=1?oS:e<=-1?-oS:Math.asin(e)}function _We(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Fze(t)}function vWe(e){return e.innerRadius}function bWe(e){return e.outerRadius}function wWe(e){return e.startAngle}function EWe(e){return e.endAngle}function TWe(e){return e&&e.padAngle}function SWe(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Ps))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function G1(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/Ep(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,y=(d+p)/2,g=(h+m)/2,_=p-d,v=m-h,E=_*_+v*v,S=i-s,w=d*m-p*h,x=(v<0?-1:1)*Ep(gWe(0,S*S*E-w*w)),I=(w*v-_*x)/E,M=(-w*_-v*x)/E,C=(w*v+_*x)/E,D=(-w*_+v*x)/E,q=I-y,W=M-g,U=C-y,de=D-g;return q*q+W*W>U*U+de*de&&(I=C,M=D),{cx:I,cy:M,x01:-c,y01:-f,x11:I*(i/S-1),y11:M*(i/S-1)}}function c7(){var e=vWe,t=bWe,n=Jr(0),r=null,i=wWe,s=EWe,o=TWe,a=null,u=_We(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-oS,m=s.apply(this,arguments)-oS,y=u7(m-p),g=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Ps))a.moveTo(0,0);else if(y>Xb-Ps)a.moveTo(h*Zf(p),h*Qa(p)),a.arc(0,0,h,p,m,!g),d>Ps&&(a.moveTo(d*Zf(m),d*Qa(m)),a.arc(0,0,d,m,p,g));else{var _=p,v=m,E=p,S=m,w=y,x=y,I=o.apply(this,arguments)/2,M=I>Ps&&(r?+r.apply(this,arguments):Ep(d*d+h*h)),C=JO(u7(h-d)/2,+n.apply(this,arguments)),D=C,q=C,W,U;if(M>Ps){var de=l7(M/d*Qa(I)),ae=l7(M/h*Qa(I));(w-=de*2)>Ps?(de*=g?1:-1,E+=de,S-=de):(w=0,E=S=(p+m)/2),(x-=ae*2)>Ps?(ae*=g?1:-1,_+=ae,v-=ae):(x=0,_=v=(p+m)/2)}var pe=h*Zf(_),ee=h*Qa(_),ie=d*Zf(S),K=d*Qa(S);if(C>Ps){var A=h*Zf(v),O=h*Qa(v),z=d*Zf(E),k=d*Qa(E),R;if(y<s_)if(R=SWe(pe,ee,z,k,A,O,ie,K)){var Y=pe-R[0],se=ee-R[1],ue=A-R[0],he=O-R[1],fe=1/Qa(yWe((Y*ue+se*he)/(Ep(Y*Y+se*se)*Ep(ue*ue+he*he)))/2),Se=Ep(R[0]*R[0]+R[1]*R[1]);D=JO(C,(d-Se)/(fe-1)),q=JO(C,(h-Se)/(fe+1))}else D=q=0}x>Ps?q>Ps?(W=G1(z,k,pe,ee,h,q,g),U=G1(A,O,ie,K,h,q,g),a.moveTo(W.cx+W.x01,W.cy+W.y01),q<C?a.arc(W.cx,W.cy,q,Yi(W.y01,W.x01),Yi(U.y01,U.x01),!g):(a.arc(W.cx,W.cy,q,Yi(W.y01,W.x01),Yi(W.y11,W.x11),!g),a.arc(0,0,h,Yi(W.cy+W.y11,W.cx+W.x11),Yi(U.cy+U.y11,U.cx+U.x11),!g),a.arc(U.cx,U.cy,q,Yi(U.y11,U.x11),Yi(U.y01,U.x01),!g))):(a.moveTo(pe,ee),a.arc(0,0,h,_,v,!g)):a.moveTo(pe,ee),!(d>Ps)||!(w>Ps)?a.lineTo(ie,K):D>Ps?(W=G1(ie,K,A,O,d,-D,g),U=G1(pe,ee,z,k,d,-D,g),a.lineTo(W.cx+W.x01,W.cy+W.y01),D<C?a.arc(W.cx,W.cy,D,Yi(W.y01,W.x01),Yi(U.y01,U.x01),!g):(a.arc(W.cx,W.cy,D,Yi(W.y01,W.x01),Yi(W.y11,W.x11),!g),a.arc(0,0,d,Yi(W.cy+W.y11,W.cx+W.x11),Yi(U.cy+U.y11,U.cx+U.x11),g),a.arc(U.cx,U.cy,D,Yi(U.y11,U.x11),Yi(U.y01,U.x01),!g))):a.arc(0,0,d,S,E,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-s_/2;return[Zf(f)*c,Qa(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Jr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Jr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Jr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Jr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Jr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Jr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Jr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function Fre(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xWe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function IWe(e){return e}function AWe(){var e=IWe,t=xWe,n=null,r=Jr(0),i=Jr(Xb),s=Jr(0);function o(a){var u,l=(a=Fre(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),m=+r.apply(this,arguments),y=Math.min(Xb,Math.max(-Xb,i.apply(this,arguments)-m)),g,_=Math.min(Math.abs(y)/l,s.apply(this,arguments)),v=_*(y<0?-1:1),E;for(u=0;u<l;++u)(E=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=E);for(t!=null?h.sort(function(S,w){return t(p[S],p[w])}):n!=null&&h.sort(function(S,w){return n(a[S],a[w])}),u=0,f=d?(y-l*v)/d:0;u<l;++u,m=g)c=h[u],E=p[c],g=m+(E>0?E*f:0)+v,p[c]={data:a[c],index:u,value:E,startAngle:m,endAngle:g,padAngle:_};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Jr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Jr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Jr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Jr(+a),o):s},o}function f7(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function d7(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function CWe(e,t){return e[t]}function OWe(e){const t=[];return t.key=e,t}function PWe(){var e=Jr([]),t=d7,n=f7,r=CWe;function i(s){var o=Array.from(e.apply(this,arguments),OWe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=Fre(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Jr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Jr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?d7:typeof s=="function"?s:Jr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??f7,i):n},i}function O0(e,t,n){this.k=e,this.x=t,this.y=n}O0.prototype={constructor:O0,scale:function(e){return e===1?this:new O0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new O0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};O0.prototype;function U3({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=T.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=T.useCallback(c=>(s?$re("%B"):BI(".2s"))(c),[s]);return P.jsxs(P.Fragment,{children:[P.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:P.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:P.jsx(Kd,{children:P.jsx(na,{spacing:3,children:P.jsx(yt,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),P.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?P.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>P.jsxs("g",{transform:`translate(${f}, ${n})`,children:[P.jsx("line",{y2:"6",stroke:"currentColor"}),o?P.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,P.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:P.jsx(Kd,{children:P.jsx(XJ,{withinPortal:!0,label:c,children:P.jsx(yt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const RWe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:U3},Symbol.toStringTag,{value:"Module"}));function Bre({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=T.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return P.jsxs(P.Fragment,{children:[P.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:P.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:P.jsx(Kd,{children:P.jsx(na,{spacing:3,children:P.jsx(yt,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),P.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?P.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>P.jsxs("g",{transform:`translate(${n}, ${l})`,children:[P.jsx("line",{x2:"-6",stroke:"currentColor"}),s?P.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,P.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:P.jsx("foreignObject",{width:a,height:20,children:P.jsx(na,{style:{width:"100%",height:"100%"},position:"right",children:P.jsx(yt,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const kWe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Bre},Symbol.toStringTag,{value:"Module"})),No={top:15,left:100,right:50,bottom:50};function ak({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=K0(),o=T.useMemo(()=>s-No.left-No.right,[s]),a=T.useMemo(()=>i-No.top-No.bottom,[i]),u=T.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return UI(Mre).domain(d)},[n,t.category]),l=T.useMemo(()=>e?_f([No.left,o+No.left]).domain([0,Zje(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=T.useMemo(()=>e?_v([No.top,a+No.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=T.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:P.jsxs("g",{children:[P.jsx("rect",{x:No.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-No.left},h),P.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?P.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[P.jsx(U3,{xScale:l,yRange:c.range(),vertPosition:a+No.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?P.jsx(Bre,{yScale:c,horizontalPosition:No.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):P.jsx(yh,{})}const NWe=Object.freeze(Object.defineProperty({__proto__:null,Bar:ak,default:ak},Symbol.toStringTag,{value:"Module"})),vn=Array.isArray;function Zs(e){return e!=null?vn(e)?e:[e]:[]}function DWe(e=0,t=1/0){return`${h7(e)} < row_number() && row_number() <= ${h7(t)}`}function h7(e){return e<0?`count() + ${e}`:e}class jre{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(DWe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Zs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function vs(e){return typeof e=="number"}function rr(e){return typeof e=="function"}function zI(e,t){const n=Array(e);if(rr(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let $We=class extends jre{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){vs(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=zI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},LWe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},MWe=function(e){return e&&rr(e.get)?e:new LWe(e)};function ql(e){return e instanceof Date}function ss(e){return e===Object(e)}function aS(e){return e instanceof RegExp}function ji(e){return typeof e=="string"}function FWe(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?p7(e.entries(),t):ql(e)?n("Date"):aS(e)?n("RegExp"):ji(e)?n():vn(e)?BWe(e,t):rr(e[Symbol.iterator])?jWe(e,t):ss(e)?p7(Object.entries(e),t):n()}function p7(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function BWe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function jWe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:UWe}=Object.prototype;function Ua(e,t){return UWe.call(e,t)}function Ro(e){return e?new m7({...e.data()},e.columnNames()):new m7}class m7{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Ua(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const pn=void 0,VWe=Object.getPrototypeOf(Int8Array);function bv(e){return e instanceof VWe}function Ed(e){return vn(e)||bv(e)}function ka(e){return e!=null&&e===e}const u0=e=>Ed(e)||ji(e),zWe={compact:e=>Ed(e)?e.filter(t=>ka(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>u0(e)?e.includes(t,n):!1,indexof:(e,t)=>u0(e)?e.indexOf(t):-1,join:(e,t)=>Ed(e)?e.join(t):pn,lastindexof:(e,t)=>u0(e)?e.lastIndexOf(t):-1,length:e=>u0(e)?e.length:0,pluck:(e,t)=>Ed(e)?e.map(n=>ka(n)?n[t]:pn):pn,reverse:e=>Ed(e)?e.slice().reverse():ji(e)?e.split("").reverse().join(""):pn,slice:(e,t,n)=>u0(e)?e.slice(t,n):pn};function HWe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function Jb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Xa=e=>(e<10?"0":"")+e,qWe=e=>e<0?"-"+Jb(-e,6):e>9999?"+"+Jb(e,6):Jb(e,4);function Ure(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return qWe(e)+"-"+Xa(t+1)+"-"+Xa(n)+(!u||o?"T"+Xa(r)+":"+Xa(i)+":"+Xa(s)+"."+Jb(o,3)+l:s?"T"+Xa(r)+":"+Xa(i)+":"+Xa(s)+l:i||r||!a?"T"+Xa(r)+":"+Xa(i)+l:"")}function Vre(e,t){return isNaN(e)?"Invalid Date":Ure(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function HI(e,t){return isNaN(e)?"Invalid Date":Ure(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const WWe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function YWe(e){return e.match(WWe)}function GWe(e,t=Date.parse){return YWe(e)?t(e):e}const zre=6e4,Hre=864e5,qre=6048e5,Ar=new Date,Cr=new Date,Dr=e=>(Ar.setTime(typeof e=="string"?GWe(e):e),Ar);function KWe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function QWe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function XWe(e){Cr.setTime(+e),Cr.setHours(0,0,0,0),Ar.setTime(+Cr),Ar.setMonth(0),Ar.setDate(1);const t=(Cr.getTimezoneOffset()-Ar.getTimezoneOffset())*zre;return Math.floor(1+(Cr-Ar-t)/Hre)}function JWe(e){Cr.setTime(+e),Cr.setUTCHours(0,0,0,0);const t=Date.UTC(Cr.getUTCFullYear(),0,1);return Math.floor(1+(Cr-t)/Hre)}function ZWe(e,t){const n=t||0;Cr.setTime(+e),Cr.setDate(Cr.getDate()-(Cr.getDay()+7-n)%7),Cr.setHours(0,0,0,0),Ar.setTime(+e),Ar.setMonth(0),Ar.setDate(1),Ar.setDate(1-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0);const r=(Cr.getTimezoneOffset()-Ar.getTimezoneOffset())*zre;return Math.floor((1+(Cr-Ar)-r)/qre)}function eYe(e,t){const n=t||0;return Cr.setTime(+e),Cr.setUTCDate(Cr.getUTCDate()-(Cr.getUTCDay()+7-n)%7),Cr.setUTCHours(0,0,0,0),Ar.setTime(+e),Ar.setUTCMonth(0),Ar.setUTCDate(1),Ar.setUTCDate(1-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Math.floor((1+(Cr-Ar))/qre)}const tYe={format_date:(e,t)=>Vre(Dr(e),!t),format_utcdate:(e,t)=>HI(Dr(e),!t),timestamp:e=>+Dr(e),year:e=>Dr(e).getFullYear(),quarter:e=>Math.floor(Dr(e).getMonth()/3),month:e=>Dr(e).getMonth(),date:e=>Dr(e).getDate(),dayofweek:e=>Dr(e).getDay(),hours:e=>Dr(e).getHours(),minutes:e=>Dr(e).getMinutes(),seconds:e=>Dr(e).getSeconds(),milliseconds:e=>Dr(e).getMilliseconds(),utcyear:e=>Dr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Dr(e).getUTCMonth()/3),utcmonth:e=>Dr(e).getUTCMonth(),utcdate:e=>Dr(e).getUTCDate(),utcdayofweek:e=>Dr(e).getUTCDay(),utchours:e=>Dr(e).getUTCHours(),utcminutes:e=>Dr(e).getUTCMinutes(),utcseconds:e=>Dr(e).getUTCSeconds(),utcmilliseconds:e=>Dr(e).getUTCMilliseconds(),datetime:KWe,dayofyear:XWe,week:ZWe,utcdatetime:QWe,utcdayofyear:JWe,utcweek:eYe,now:Date.now};function V3(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:ql(e)||ql(t)?+e==+t:aS(e)&&aS(t)?e+""==t+"":ss(e)&&ss(t)?nYe(e,t):!1}function nYe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return g7(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!g7(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!V3(e[o],t[o]))return!1}return!0}function g7(e,t,n=V3){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const rYe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let iYe=Math.random;function cg(){return iYe()}const sYe={random:cg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function z3(e){return e instanceof Map}function oYe(e){return e instanceof Set}function Zb(e){return z3(e)||oYe(e)}function ZO(e){return Array.from(e)}const aYe={has:(e,t)=>Zb(e)?e.has(t):e!=null?Ua(e,t):!1,keys:e=>z3(e)?ZO(e.keys()):e!=null?Object.keys(e):[],values:e=>Zb(e)?ZO(e.values()):e!=null?Object.values(e):[],entries:e=>Zb(e)?ZO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):pn};function uYe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Ua(t,e))return t[e];return n!==void 0?n:e}function lYe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const cYe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Tp={bin:HWe,equal:V3,recode:uYe,sequence:lYe,...zWe,...tYe,...rYe,...sYe,...aYe,...cYe};function o_(e){return typeof e=="bigint"}function Bu(e){return e===void 0?e+"":o_(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new fYe(e,Zs(t),Zs(n))}let fYe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Bu(n)}]`),...this.params.map(Bu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Wre=e=>Mt("any",e),Yre=()=>Mt("count"),Gre=e=>Mt("array_agg",e),Kre=e=>Mt("array_agg_distinct",e),Qre=(e,t)=>Mt("map_agg",[e,t]),Xre=(e,t)=>Mt("object_agg",[e,t]),Jre=(e,t)=>Mt("entries_agg",[e,t]);({...Tp});function dYe(e,t){e=Zb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function hYe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function pYe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function mYe(e,t,n,r){const i=r==="map"||r===!0?Qre:r==="entries"?Jre:r==="object"?Xre:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=dYe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Gre(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const gYe="ArrayPattern",yYe="ArrowFunctionExpression",_Ye="FunctionExpression",af="Identifier",fg="Literal",Zre="MemberExpression",vYe="ObjectExpression",eie="ObjectPattern",tie="Property",wv="Column",bYe="Constant",wYe="Dictionary",EYe="Function",TYe="Parameter",nie="Op",Wn=(e,t)=>{const n=SYe[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},eP=(e,t)=>"("+Wn(e.left,t)+" "+e.operator+" "+Wn(e.right,t)+")",tP=(e,t)=>"("+iu(e.params,t)+")=>"+Wn(e.body,t),y7=(e,t)=>Wn(e.callee,t)+"("+iu(e.arguments,t)+")",iu=(e,t,n=",")=>e.map(r=>Wn(r,t)).join(n),rie=e=>e.computed?`[${Bu(e.name)}]`:`.${e.name}`,_7=(e,t,n)=>{const r=e.table||"";return`data${r}${rie(e)}.${n}(${t.index}${r})`},SYe={Constant:e=>e.raw,Column:(e,t)=>_7(e,t,"get"),Dictionary:(e,t)=>_7(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${rie(e)}`,Op:(e,t)=>`op(${Bu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Wn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Wn(e.object,t),i=Wn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:y7,NewExpression:(e,t)=>"new "+y7(e,t),ArrayExpression:(e,t)=>"["+iu(e.elements,t)+"]",AssignmentExpression:eP,BinaryExpression:eP,LogicalExpression:eP,UnaryExpression:(e,t)=>"("+e.operator+Wn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Wn(e.test,t)+"?"+Wn(e.consequent,t)+":"+Wn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+iu(e.properties,t)+"})",Property:(e,t)=>{const n=Wn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Wn(e.value,t)},ArrowFunctionExpression:tP,FunctionExpression:tP,FunctionDeclaration:tP,ArrayPattern:(e,t)=>"["+iu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+iu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+iu(e.declarations,t,","),VariableDeclarator:(e,t)=>Wn(e.id,t)+"="+Wn(e.init,t),SpreadElement:(e,t)=>"..."+Wn(e.argument,t),BlockStatement:(e,t)=>"{"+iu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Wn(e.expression,t),IfStatement:(e,t)=>"if ("+Wn(e.test,t)+")"+Wn(e.consequent,t)+(e.alternate?" else "+Wn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Wn(e.discriminant,t)+") {"+iu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Wn(e.test,t):"default")+": "+iu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Wn(e.argument,t),Program:(e,t)=>Wn(e.body[0],t)};function uS(e,t={index:"row"}){return Wn(e,t)}function xYe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function Sm(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:ql(e)?+e:vn(e)||bv(e)?`[${e.map(Sm)}]`:aS(e)?e+"":IYe(e)}function IYe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${Sm(e[r])}`;return t+="}",t}function lS(e,t){const n=e.length;return n===1?(r,i)=>Sm(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=Sm(a)}return s}}function AYe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=Sm(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=Sm(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function cl(){}function CYe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Qr(e){return e.init=e.init||cl,e.add=e.add||cl,e.rem=e.rem||cl,e}function v7(e,t){return e.product_v=!1,e.product=t}const iie={count:{create:()=>Qr({value:e=>e.count}),param:[]},array_agg:{create:()=>Qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Qr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Qr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Qr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:pn}),param:[1]},valid:{create:()=>Qr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Qr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=AYe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Qr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Qr({value:e=>{let t=pn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:pn,add:(e,t)=>o_(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>v7(e,1),value:e=>e.valid?e.product_v?v7(e,CYe(e.list.values())):e.product:void 0,add:(e,t)=>o_(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:pn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Qr({value:e=>e.valid?e.mean:pn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):pn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Qr({value:e=>e.valid>1?e.dev/e.valid:pn}),param:[1],req:["variance"]},stdev:{create:()=>Qr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):pn}),param:[1],req:["variance"]},stdevp:{create:()=>Qr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):pn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=pn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===pn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=pn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===pn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Qr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Qr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):pn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Qr({value:e=>e.valid>1?e.cov/e.valid:pn}),param:[2],req:["covariance"]},corr:{create:()=>Qr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):pn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Qr({value:i=>xYe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},b7={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},w7={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},sie={row_number:{create(){return{init:cl,value:e=>e.index+1}},param:[]},rank:b7,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=b7.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:w7,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=w7.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=pn){return e=+e||1,{init:cl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=pn){return e=+e||1,{init:cl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:cl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:cl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:cl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):pn}}},param:[1,1]},fill_down:{create(e=pn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return ka(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=pn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=OYe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function OYe(e,t,n){for(const r=e.size;n<r;++n)if(ka(e.value(n,t)))return n;return-1}function H3(e){return Ua(iie,e)}function q3(e){return Ua(sie,e)}function oie(e){return Ua(Tp,e)||e==="row_object"}function aie(e){return H3(e)&&iie[e]}function uie(e){return q3(e)&&sie[e]}function l0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const W3={escape:(e,t,n)=>l0(e,t,n),expr:(e,t)=>l0(`(row,data,op)=>${e}`,Tp,t),expr2:(e,t)=>l0(`(row0,data0,row,data)=>${e}`,Tp,t),join:(e,t)=>l0(`(row1,data1,row2,data2)=>${e}`,Tp,t),param:(e,t)=>l0(e,Tp,t)},PYe={"==":1,"!=":1,"===":1,"!==":1};function lie(e,t,n=0,r,i){if(e.type=wv,e.name=t,e.table=n,i&&r&&rr(r.keyFor)){const s=PYe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===fg&&RYe(i,e,s,r.keyFor(s.value))}return e}function RYe(e,t,n,r){return r<0?(e.type=fg,e.value=!1,e.raw="false"):(t.type=wYe,n.value=r,n.raw=r+""),!0}function qI(e){return vn(e)?e:z3(e)?e.entries():e?Object.entries(e):[]}const cie="row_object";function fie(e,t){e.type=vYe;const n=e.properties=[];for(const r of qI(t)){const[i,s]=vn(r)?r:[r,r];n.push({type:tie,key:{type:fg,raw:Bu(s)},value:lie({computed:!0},i)})}return e}function die(e){return uS(fie({},e))}function hie(e){return W3.expr(die(e))}function Y3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dl(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function E7(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function on(e){return this instanceof on?(this.v=e,this):new on(e)}function Td(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof on?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function nP(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:on(e[i](o)),done:!1}:s?s(o):o}:s}}function hy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof E7=="function"?E7(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const kYe=new TextDecoder("utf-8"),uk=e=>kYe.decode(e),NYe=new TextEncoder,G3=e=>NYe.encode(e),[yht,pie]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[Ih,_ht]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Ah,vht]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),DYe=e=>typeof e=="boolean",$s=e=>typeof e=="function",jf=e=>e!=null&&Object(e)===e,WI=e=>jf(e)&&$s(e.then),K3=e=>jf(e)&&$s(e[Symbol.iterator]),YI=e=>jf(e)&&$s(e[Symbol.asyncIterator]),$Ye=e=>jf(e)&&"done"in e&&"value"in e,mie=e=>"_getDOMStream"in e&&"_getNodeStream"in e,LYe=e=>jf(e)&&$s(e.abort)&&$s(e.getWriter)&&!mie(e),MYe=e=>jf(e)&&$s(e.end)&&$s(e.write)&&DYe(e.writable)&&!mie(e),FYe=e=>jf(e)&&$s(e.clear)&&$s(e.bytes)&&$s(e.position)&&$s(e.setPosition)&&$s(e.capacity)&&$s(e.getBufferIdentifier)&&$s(e.createLong),Q3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function BYe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function cS(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function ju(e,t){const n=BYe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?cS(o,s,a):o=s;break}cS(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ai(e,t){let n=$Ye(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=G3(n)),n instanceof ArrayBuffer?new e(n):n instanceof Q3?new e(n):FYe(n)?Ai(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const c0=e=>Ai(Int32Array,e),Rn=e=>Ai(Uint8Array,e),lk=e=>(e.next(),e);function*jYe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Q3?n(t):K3(t)?t:n(t);return yield*lk(function*(i){let s=null;do s=i.next(yield Ai(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const UYe=e=>jYe(Uint8Array,e);function gie(e,t){return Td(this,arguments,function*(){if(WI(t))return yield on(yield on(yield*nP(hy(gie(e,yield on(t))))));const r=function(o){return Td(this,arguments,function*(){yield yield on(yield on(o))})},i=function(o){return Td(this,arguments,function*(){yield on(yield*nP(hy(lk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Q3?r(t):K3(t)?i(t):YI(t)?t:r(t);return yield on(yield*nP(hy(lk(function(o){return Td(this,arguments,function*(){let a=null;do a=yield on(o.next(yield yield on(Ai(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield on(new e)})}const VYe=e=>gie(Uint8Array,e);function X3(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function zYe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const T7={fromIterable(e){return K1(HYe(e))},fromAsyncIterable(e){return K1(qYe(e))},fromDOMStream(e){return K1(WYe(e))},fromNodeStream(e){return K1(GYe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},K1=e=>(e.next(),e);function*HYe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?ju(r,o)[0]:([i,r,a]=ju(r,o),i)}({cmd:s,size:o}=yield null);const l=UYe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function qYe(e){return Td(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ju(i,a)[0]:([s,i,u]=ju(i,a),s)}({cmd:o,size:a}=yield yield on(null));const c=VYe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield on(c.next()):yield on(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield on(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield on(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield on(c.return(new Uint8Array(0))))}return yield on(null)})}function WYe(e){return Td(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ju(i,a)[0]:([s,i,u]=ju(i,a),s)}({cmd:o,size:a}=yield yield on(null));const c=new YYe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield on(c.read()):yield on(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Rn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield on(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield on(c.cancel(f)))}finally{r===!1?yield on(c.cancel()):e.locked&&c.releaseLock()}return yield on(null)})}class YYe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return dl(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return dl(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Rn(n)),n})}}const rP=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function GYe(e){return Td(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?ju(l,a)[0]:([c,l,u]=ju(l,a),c)}if({cmd:o,size:a}=yield yield on(null),e.isTTY)return yield yield on(new Uint8Array(0)),yield on(null);try{n[0]=rP(e,"end"),n[1]=rP(e,"error");do{if(n[2]=rP(e,"readable"),[r,s]=yield on(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Rn(e.read(a-u)),c.byteLength<a-u&&(c=Rn(e.read()))):c=Rn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield on(f()));while(a<u)}while(!i)}finally{yield on(d(n,r==="error"?s:null))}return yield on(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,_]of h)e.off(g,_);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var po;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(po||(po={}));var ra;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ra||(ra={}));var Di;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Di||(Di={}));var Uu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Uu||(Uu={}));var an;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(an||(an={}));var Vu;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Vu||(Vu={}));var hi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(hi||(hi={}));var J;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var al;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(al||(al={}));const KYe=void 0;function uf(e){if(e===null)return"null";if(e===KYe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof Ih||e instanceof Ah?`[${[...e].map(t=>uf(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const QYe=Symbol.for("isArrowBigNum");function Ga(e,...t){return t.length===0?Object.setPrototypeOf(Ai(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Ga.prototype[QYe]=!0;Ga.prototype.toJSON=function(){return`"${Md(this)}"`};Ga.prototype.valueOf=function(){return yie(this)};Ga.prototype.toString=function(){return Md(this)};Ga.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return yie(this);case"string":return Md(this);case"default":return ck(this)}return Md(this)};function Yp(...e){return Ga.apply(this,e)}function Gp(...e){return Ga.apply(this,e)}function a_(...e){return Ga.apply(this,e)}Object.setPrototypeOf(Yp.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Gp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(a_.prototype,Object.create(Uint32Array.prototype));Object.assign(Yp.prototype,Ga.prototype,{constructor:Yp,signed:!0,TypedArray:Int32Array,BigIntArray:Ih});Object.assign(Gp.prototype,Ga.prototype,{constructor:Gp,signed:!1,TypedArray:Uint32Array,BigIntArray:Ah});Object.assign(a_.prototype,Ga.prototype,{constructor:a_,signed:!0,TypedArray:Uint32Array,BigIntArray:Ah});function yie(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new Ah(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let Md,ck;pie?(ck=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:iP(e),Md=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:iP(e)):(Md=iP,ck=Md);function iP(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class J3{static new(t,n){switch(n){case!0:return new Yp(t);case!1:return new Gp(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Ih:return new Yp(t)}return t.byteLength===16?new a_(t):new Gp(t)}static signed(t){return new Yp(t)}static unsigned(t){return new Gp(t)}static decimal(t){return new a_(t)}constructor(t,n){return J3.new(t,n)}}var _ie,vie,bie,wie,Eie,Tie,Sie,xie,Iie,Aie,Cie,Oie,Pie,Rie,kie,Nie,Die,$ie,Lie;class Xt{static isNull(t){return(t==null?void 0:t.typeId)===J.Null}static isInt(t){return(t==null?void 0:t.typeId)===J.Int}static isFloat(t){return(t==null?void 0:t.typeId)===J.Float}static isBinary(t){return(t==null?void 0:t.typeId)===J.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===J.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===J.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===J.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===J.Date}static isTime(t){return(t==null?void 0:t.typeId)===J.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===J.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===J.Interval}static isList(t){return(t==null?void 0:t.typeId)===J.List}static isStruct(t){return(t==null?void 0:t.typeId)===J.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===J.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===J.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===J.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===J.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===J.Dictionary}static isDenseUnion(t){return Xt.isUnion(t)&&t.mode===ra.Dense}static isSparseUnion(t){return Xt.isUnion(t)&&t.mode===ra.Sparse}get typeId(){return J.NONE}}_ie=Symbol.toStringTag;Xt[_ie]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Xt.prototype);let Wl=class extends Xt{toString(){return"Null"}get typeId(){return J.Null}};vie=Symbol.toStringTag;Wl[vie]=(e=>e[Symbol.toStringTag]="Null")(Wl.prototype);class bs extends Xt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Ih:Ah}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}bie=Symbol.toStringTag;bs[bie]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(bs.prototype);class Z3 extends bs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class eL extends bs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class vf extends bs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class tL extends bs{constructor(){super(!0,64)}get ArrayType(){return Ih}}class nL extends bs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class rL extends bs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class iL extends bs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class sL extends bs{constructor(){super(!1,64)}get ArrayType(){return Ah}}Object.defineProperty(Z3.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(eL.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(vf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(tL.prototype,"ArrayType",{value:Ih});Object.defineProperty(nL.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(rL.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(iL.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(sL.prototype,"ArrayType",{value:Ah});class bf extends Xt{constructor(t){super(),this.precision=t}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case Di.HALF:return Uint16Array;case Di.SINGLE:return Float32Array;case Di.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}wie=Symbol.toStringTag;bf[wie]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(bf.prototype);class Mie extends bf{constructor(){super(Di.HALF)}}class oL extends bf{constructor(){super(Di.SINGLE)}}class aL extends bf{constructor(){super(Di.DOUBLE)}}Object.defineProperty(Mie.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(oL.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(aL.prototype,"ArrayType",{value:Float64Array});let u_=class extends Xt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};Eie=Symbol.toStringTag;u_[Eie]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(u_.prototype);let xm=class extends Xt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};Tie=Symbol.toStringTag;xm[Tie]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(xm.prototype);let l_=class extends Xt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};Sie=Symbol.toStringTag;l_[Sie]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(l_.prototype);let fS=class extends Xt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};xie=Symbol.toStringTag;fS[xie]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(fS.prototype);class Im extends Xt{constructor(t){super(),this.unit=t}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${Uu[this.unit]}>`}}Iie=Symbol.toStringTag;Im[Iie]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Im.prototype);class XYe extends Im{constructor(){super(Uu.DAY)}}class JYe extends Im{constructor(){super(Uu.MILLISECOND)}}class Yl extends Xt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${an[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return Ih}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Aie=Symbol.toStringTag;Yl[Aie]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Yl.prototype);class ZYe extends Yl{constructor(){super(an.SECOND,32)}}class eGe extends Yl{constructor(){super(an.MILLISECOND,32)}}class tGe extends Yl{constructor(){super(an.MICROSECOND,64)}}class nGe extends Yl{constructor(){super(an.NANOSECOND,64)}}class dS extends Xt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${an[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Cie=Symbol.toStringTag;dS[Cie]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(dS.prototype);class Am extends Xt{constructor(t){super(),this.unit=t}get typeId(){return J.Interval}toString(){return`Interval<${Vu[this.unit]}>`}}Oie=Symbol.toStringTag;Am[Oie]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Am.prototype);class rGe extends Am{constructor(){super(Vu.DAY_TIME)}}class iGe extends Am{constructor(){super(Vu.YEAR_MONTH)}}let Cm=class extends Xt{constructor(t){super(),this.children=[t]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Pie=Symbol.toStringTag;Cm[Pie]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Cm.prototype);class es extends Xt{constructor(t){super(),this.children=t}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Rie=Symbol.toStringTag;es[Rie]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(es.prototype);class c_ extends Xt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}kie=Symbol.toStringTag;c_[kie]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(c_.prototype);let hS=class extends Xt{constructor(t){super(),this.byteWidth=t}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Nie=Symbol.toStringTag;hS[Nie]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(hS.prototype);let Om=class extends Xt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Die=Symbol.toStringTag;Om[Die]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Om.prototype);class f_ extends Xt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}$ie=Symbol.toStringTag;f_[$ie]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(f_.prototype);const sGe=(e=>()=>++e)(-1);class wf extends Xt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?sGe():typeof r=="number"?r:r.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Lie=Symbol.toStringTag;wf[Lie]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(wf.prototype);function au(e){const t=e;switch(e.typeId){case J.Decimal:return e.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+t.unit;case J.Interval:return 1+t.unit;case J.FixedSizeList:return t.listSize;case J.FixedSizeBinary:return t.byteWidth;default:return 1}}class un{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return oGe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Zh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function oGe(e,t,n=!0){return typeof t=="number"?Zh(e,t,n):typeof t=="string"&&t in J?Zh(e,J[t],n):t&&t instanceof Xt?Zh(e,S7(t),n):t!=null&&t.type&&t.type instanceof Xt?Zh(e,S7(t.type),n):Zh(e,J.NONE,n)}function Zh(e,t,n=!0){let r=null;switch(t){case J.Null:r=e.visitNull;break;case J.Bool:r=e.visitBool;break;case J.Int:r=e.visitInt;break;case J.Int8:r=e.visitInt8||e.visitInt;break;case J.Int16:r=e.visitInt16||e.visitInt;break;case J.Int32:r=e.visitInt32||e.visitInt;break;case J.Int64:r=e.visitInt64||e.visitInt;break;case J.Uint8:r=e.visitUint8||e.visitInt;break;case J.Uint16:r=e.visitUint16||e.visitInt;break;case J.Uint32:r=e.visitUint32||e.visitInt;break;case J.Uint64:r=e.visitUint64||e.visitInt;break;case J.Float:r=e.visitFloat;break;case J.Float16:r=e.visitFloat16||e.visitFloat;break;case J.Float32:r=e.visitFloat32||e.visitFloat;break;case J.Float64:r=e.visitFloat64||e.visitFloat;break;case J.Utf8:r=e.visitUtf8;break;case J.Binary:r=e.visitBinary;break;case J.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case J.Date:r=e.visitDate;break;case J.DateDay:r=e.visitDateDay||e.visitDate;break;case J.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case J.Timestamp:r=e.visitTimestamp;break;case J.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case J.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case J.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case J.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case J.Time:r=e.visitTime;break;case J.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case J.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case J.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case J.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case J.Decimal:r=e.visitDecimal;break;case J.List:r=e.visitList;break;case J.Struct:r=e.visitStruct;break;case J.Union:r=e.visitUnion;break;case J.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case J.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case J.Dictionary:r=e.visitDictionary;break;case J.Interval:r=e.visitInterval;break;case J.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case J.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case J.FixedSizeList:r=e.visitFixedSizeList;break;case J.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[t]}'`)}function S7(e){switch(e.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(e.precision){case Di.HALF:return J.Float16;case Di.SINGLE:return J.Float32;case Di.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(e.unit){case an.SECOND:return J.TimeSecond;case an.MILLISECOND:return J.TimeMillisecond;case an.MICROSECOND:return J.TimeMicrosecond;case an.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(e.unit){case an.SECOND:return J.TimestampSecond;case an.MILLISECOND:return J.TimestampMillisecond;case an.MICROSECOND:return J.TimestampMicrosecond;case an.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(e.unit){case Uu.DAY:return J.DateDay;case Uu.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(e.unit){case Vu.DAY_TIME:return J.IntervalDayTime;case Vu.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(e.mode){case ra.Dense:return J.DenseUnion;case ra.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[e.typeId]}'`)}un.prototype.visitInt8=null;un.prototype.visitInt16=null;un.prototype.visitInt32=null;un.prototype.visitInt64=null;un.prototype.visitUint8=null;un.prototype.visitUint16=null;un.prototype.visitUint32=null;un.prototype.visitUint64=null;un.prototype.visitFloat16=null;un.prototype.visitFloat32=null;un.prototype.visitFloat64=null;un.prototype.visitDateDay=null;un.prototype.visitDateMillisecond=null;un.prototype.visitTimestampSecond=null;un.prototype.visitTimestampMillisecond=null;un.prototype.visitTimestampMicrosecond=null;un.prototype.visitTimestampNanosecond=null;un.prototype.visitTimeSecond=null;un.prototype.visitTimeMillisecond=null;un.prototype.visitTimeMicrosecond=null;un.prototype.visitTimeNanosecond=null;un.prototype.visitDenseUnion=null;un.prototype.visitSparseUnion=null;un.prototype.visitIntervalDayTime=null;un.prototype.visitIntervalYearMonth=null;const Fie=new Float64Array(1),Yh=new Uint32Array(Fie.buffer);function Bie(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function jie(e){if(e!==e)return 32256;Fie[0]=e;const t=(Yh[1]&2147483648)>>16&65535;let n=Yh[1]&2146435072,r=0;return n>=1089470464?Yh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Yh[1]&1048575)>>10):n<=1056964608?(r=1048576+(Yh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Yh[1]&1048575)+512>>10),t|n|r&65535}class Nt extends un{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const aGe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},uL=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},uGe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},lGe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Uie=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},cGe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},lc=({values:e},t,n)=>{e[t]=n},lL=({values:e},t,n)=>{e[t]=n},Vie=({values:e},t,n)=>{e[t]=jie(n)},fGe=(e,t,n)=>{switch(e.type.precision){case Di.HALF:return Vie(e,t,n);case Di.SINGLE:case Di.DOUBLE:return lL(e,t,n)}},cL=({values:e},t,n)=>{aGe(e,t,n.valueOf())},fL=({values:e},t,n)=>{uL(e,t*2,n.valueOf())},zie=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},dGe=({values:e,valueOffsets:t},n,r)=>Uie(e,t,n,r),hGe=({values:e,valueOffsets:t},n,r)=>{Uie(e,t,n,G3(r))},Hie=(e,t,n)=>{e.type.unit===Uu.DAY?cL(e,t,n):fL(e,t,n)},dL=({values:e},t,n)=>uL(e,t*2,n/1e3),hL=({values:e},t,n)=>uL(e,t*2,n),pL=({values:e},t,n)=>uGe(e,t*2,n),mL=({values:e},t,n)=>lGe(e,t*2,n),qie=(e,t,n)=>{switch(e.type.unit){case an.SECOND:return dL(e,t,n);case an.MILLISECOND:return hL(e,t,n);case an.MICROSECOND:return pL(e,t,n);case an.NANOSECOND:return mL(e,t,n)}},gL=({values:e},t,n)=>{e[t]=n},yL=({values:e},t,n)=>{e[t]=n},_L=({values:e},t,n)=>{e[t]=n},vL=({values:e},t,n)=>{e[t]=n},Wie=(e,t,n)=>{switch(e.type.unit){case an.SECOND:return gL(e,t,n);case an.MILLISECOND:return yL(e,t,n);case an.MICROSECOND:return _L(e,t,n);case an.NANOSECOND:return vL(e,t,n)}},Yie=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},pGe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ia.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},mGe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ia.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},gGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),yGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),_Ge=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),vGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),bGe=(e,t,n)=>{const r=e.type.children.map(s=>ia.getVisitFn(s.type)),i=n instanceof Map?_Ge(t,n):n instanceof bn?yGe(t,n):Array.isArray(n)?gGe(t,n):vGe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},wGe=(e,t,n)=>{e.type.mode===ra.Dense?Gie(e,t,n):Kie(e,t,n)},Gie=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ia.visit(i,e.valueOffsets[t],n)},Kie=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ia.visit(i,t,n)},EGe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Qie=(e,t,n)=>{e.type.unit===Vu.DAY_TIME?bL(e,t,n):wL(e,t,n)},bL=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},wL=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},TGe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ia.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};Nt.prototype.visitBool=Ft(cGe);Nt.prototype.visitInt=Ft(lc);Nt.prototype.visitInt8=Ft(lc);Nt.prototype.visitInt16=Ft(lc);Nt.prototype.visitInt32=Ft(lc);Nt.prototype.visitInt64=Ft(lc);Nt.prototype.visitUint8=Ft(lc);Nt.prototype.visitUint16=Ft(lc);Nt.prototype.visitUint32=Ft(lc);Nt.prototype.visitUint64=Ft(lc);Nt.prototype.visitFloat=Ft(fGe);Nt.prototype.visitFloat16=Ft(Vie);Nt.prototype.visitFloat32=Ft(lL);Nt.prototype.visitFloat64=Ft(lL);Nt.prototype.visitUtf8=Ft(hGe);Nt.prototype.visitBinary=Ft(dGe);Nt.prototype.visitFixedSizeBinary=Ft(zie);Nt.prototype.visitDate=Ft(Hie);Nt.prototype.visitDateDay=Ft(cL);Nt.prototype.visitDateMillisecond=Ft(fL);Nt.prototype.visitTimestamp=Ft(qie);Nt.prototype.visitTimestampSecond=Ft(dL);Nt.prototype.visitTimestampMillisecond=Ft(hL);Nt.prototype.visitTimestampMicrosecond=Ft(pL);Nt.prototype.visitTimestampNanosecond=Ft(mL);Nt.prototype.visitTime=Ft(Wie);Nt.prototype.visitTimeSecond=Ft(gL);Nt.prototype.visitTimeMillisecond=Ft(yL);Nt.prototype.visitTimeMicrosecond=Ft(_L);Nt.prototype.visitTimeNanosecond=Ft(vL);Nt.prototype.visitDecimal=Ft(Yie);Nt.prototype.visitList=Ft(pGe);Nt.prototype.visitStruct=Ft(bGe);Nt.prototype.visitUnion=Ft(wGe);Nt.prototype.visitDenseUnion=Ft(Gie);Nt.prototype.visitSparseUnion=Ft(Kie);Nt.prototype.visitDictionary=Ft(EGe);Nt.prototype.visitInterval=Ft(Qie);Nt.prototype.visitIntervalDayTime=Ft(bL);Nt.prototype.visitIntervalYearMonth=Ft(wL);Nt.prototype.visitFixedSizeList=Ft(TGe);Nt.prototype.visitMap=Ft(mGe);const ia=new Nt,Sa=Symbol.for("parent"),Kp=Symbol.for("rowIndex");class EL{constructor(t,n){return this[Sa]=t,this[Kp]=n,new Proxy(this,new xGe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Kp],n=this[Sa],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=eo.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${uf(t)}: ${uf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new SGe(this[Sa],this[Kp])}}class SGe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,eo.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(EL.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Sa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Kp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class xGe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Sa].type.children.map(n=>n.name)}has(t,n){return t[Sa].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Sa].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Sa].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=eo.visit(t[Sa].children[r],t[Kp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Sa].type.children.findIndex(s=>s.name===n);return i!==-1?(ia.visit(t[Sa].children[i],t[Kp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Ct extends un{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const IGe=(e,t)=>864e5*e[t],TL=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),AGe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,CGe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Xie=e=>new Date(e),OGe=(e,t)=>Xie(IGe(e,t)),PGe=(e,t)=>Xie(TL(e,t)),RGe=(e,t)=>null,Jie=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},kGe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Zie=({values:e},t)=>OGe(e,t),ese=({values:e},t)=>PGe(e,t*2),Uf=({stride:e,values:t},n)=>t[e*n],NGe=({stride:e,values:t},n)=>Bie(t[e*n]),tse=({values:e},t)=>e[t],DGe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),$Ge=({values:e,valueOffsets:t},n)=>Jie(e,t,n),LGe=({values:e,valueOffsets:t},n)=>{const r=Jie(e,t,n);return r!==null?uk(r):null},MGe=({values:e},t)=>e[t],FGe=({type:e,values:t},n)=>e.precision!==Di.HALF?t[n]:Bie(t[n]),BGe=(e,t)=>e.type.unit===Uu.DAY?Zie(e,t):ese(e,t),nse=({values:e},t)=>1e3*TL(e,t*2),rse=({values:e},t)=>TL(e,t*2),ise=({values:e},t)=>AGe(e,t*2),sse=({values:e},t)=>CGe(e,t*2),jGe=(e,t)=>{switch(e.type.unit){case an.SECOND:return nse(e,t);case an.MILLISECOND:return rse(e,t);case an.MICROSECOND:return ise(e,t);case an.NANOSECOND:return sse(e,t)}},ose=({values:e},t)=>e[t],ase=({values:e},t)=>e[t],use=({values:e},t)=>e[t],lse=({values:e},t)=>e[t],UGe=(e,t)=>{switch(e.type.unit){case an.SECOND:return ose(e,t);case an.MILLISECOND:return ase(e,t);case an.MICROSECOND:return use(e,t);case an.NANOSECOND:return lse(e,t)}},VGe=({values:e,stride:t},n)=>J3.decimal(e.subarray(t*n,t*(n+1))),zGe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new bn([u])},HGe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new GI(o.slice(i,s-i))},qGe=(e,t)=>new EL(e,t),WGe=(e,t)=>e.type.mode===ra.Dense?cse(e,t):fse(e,t),cse=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return eo.visit(r,e.valueOffsets[t])},fse=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return eo.visit(r,t)},YGe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},GGe=(e,t)=>e.type.unit===Vu.DAY_TIME?dse(e,t):hse(e,t),dse=({values:e},t)=>e.subarray(2*t,2*(t+1)),hse=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},KGe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new bn([s])};Ct.prototype.visitNull=Dt(RGe);Ct.prototype.visitBool=Dt(kGe);Ct.prototype.visitInt=Dt(MGe);Ct.prototype.visitInt8=Dt(Uf);Ct.prototype.visitInt16=Dt(Uf);Ct.prototype.visitInt32=Dt(Uf);Ct.prototype.visitInt64=Dt(tse);Ct.prototype.visitUint8=Dt(Uf);Ct.prototype.visitUint16=Dt(Uf);Ct.prototype.visitUint32=Dt(Uf);Ct.prototype.visitUint64=Dt(tse);Ct.prototype.visitFloat=Dt(FGe);Ct.prototype.visitFloat16=Dt(NGe);Ct.prototype.visitFloat32=Dt(Uf);Ct.prototype.visitFloat64=Dt(Uf);Ct.prototype.visitUtf8=Dt(LGe);Ct.prototype.visitBinary=Dt($Ge);Ct.prototype.visitFixedSizeBinary=Dt(DGe);Ct.prototype.visitDate=Dt(BGe);Ct.prototype.visitDateDay=Dt(Zie);Ct.prototype.visitDateMillisecond=Dt(ese);Ct.prototype.visitTimestamp=Dt(jGe);Ct.prototype.visitTimestampSecond=Dt(nse);Ct.prototype.visitTimestampMillisecond=Dt(rse);Ct.prototype.visitTimestampMicrosecond=Dt(ise);Ct.prototype.visitTimestampNanosecond=Dt(sse);Ct.prototype.visitTime=Dt(UGe);Ct.prototype.visitTimeSecond=Dt(ose);Ct.prototype.visitTimeMillisecond=Dt(ase);Ct.prototype.visitTimeMicrosecond=Dt(use);Ct.prototype.visitTimeNanosecond=Dt(lse);Ct.prototype.visitDecimal=Dt(VGe);Ct.prototype.visitList=Dt(zGe);Ct.prototype.visitStruct=Dt(qGe);Ct.prototype.visitUnion=Dt(WGe);Ct.prototype.visitDenseUnion=Dt(cse);Ct.prototype.visitSparseUnion=Dt(fse);Ct.prototype.visitDictionary=Dt(YGe);Ct.prototype.visitInterval=Dt(GGe);Ct.prototype.visitIntervalDayTime=Dt(dse);Ct.prototype.visitIntervalYearMonth=Dt(hse);Ct.prototype.visitFixedSizeList=Dt(KGe);Ct.prototype.visitMap=Dt(HGe);const eo=new Ct,Ra=Symbol.for("keys"),Qp=Symbol.for("vals");class GI{constructor(t){return this[Ra]=new bn([t.children[0]]).memoize(),this[Qp]=t.children[1],new Proxy(this,new XGe)}[Symbol.iterator](){return new QGe(this[Ra],this[Qp])}get size(){return this[Ra].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ra],n=this[Qp],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=eo.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${uf(t)}: ${uf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class QGe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),eo.visit(this.vals,t)]})}}class XGe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ra].toArray().map(String)}has(t,n){return t[Ra].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ra].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ra].indexOf(n);if(r!==-1){const i=eo.visit(Reflect.get(t,Qp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ra].indexOf(n);return i!==-1?(ia.visit(Reflect.get(t,Qp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(GI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ra]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Qp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let x7;function pse(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(x7=s,s=o,o=x7),o>i&&(o=i),r?r(e,s,o):[s,o]}const I7=e=>e!==e;function dg(e){if(typeof e!=="object"||e===null)return I7(e)?I7:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?zYe(e,n):!1:e instanceof Map?ZGe(e):Array.isArray(e)?JGe(e):e instanceof bn?eKe(e):tKe(e,!0)}function JGe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=dg(e[n]);return KI(t)}function ZGe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=dg(r);return KI(n)}function eKe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=dg(e.get(n));return KI(t)}function tKe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=dg(e[n[i]]);return KI(r,n)}function KI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return nKe(e,n);case Map:return A7(e,n,n.keys());case GI:case EL:case Object:case void 0:return A7(e,n,t||Object.keys(n))}return n instanceof bn?rKe(e,n):!1}}function nKe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function rKe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function A7(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function mse(e,t,n,r){return(n&1<<r)!==0}function iKe(e,t,n,r){return(n&1<<r)>>r}function SL(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):gse(new xL(n,e,t,null,mse)).subarray(0,r)),i}return n}function gse(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class xL{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function fk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new xL(e,t,n-t,e,iKe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return fk(e,t,i)+fk(e,r,n)+sKe(e,i>>3,r-i>>3)}function sKe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=sP(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=sP(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=sP(s.getUint8(i)),i+=1;return r}function sP(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const oKe=-1;class Fn{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Fn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=au(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=oKe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-fk(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Fn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===J.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(SL(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[al.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[al.TYPE])&&(o[al.TYPE]=s.subarray(t,t+n)),(s=o[al.OFFSET])&&(o[al.OFFSET]=s.subarray(t,t+n+1))||(s=o[al.DATA])&&(o[al.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Fn.prototype.children=Object.freeze([]);class py extends un{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Fn(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.data),s=Rn(t.nullBitmap),o=c0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Fn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.data),s=Rn(t.nullBitmap),o=c0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Fn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Rn(t.nullBitmap),o=c0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Fn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Rn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Rn(t.nullBitmap),o=Ai(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Xt.isSparseUnion(n))return new Fn(n,r,a,u,[void 0,void 0,s,o],i);const l=c0(t.valueOffsets);return new Fn(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.indices.ArrayType,t.data),{["dictionary"]:o=new bn([new py().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Fn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Rn(t.nullBitmap),s=Ai(n.ArrayType,t.data),{["length"]:o=s.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new py().visit({type:n.valueType})}=t,s=Rn(t.nullBitmap),{["length"]:o=i.length/au(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Fn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new py().visit({type:n.childType})}=t,s=Rn(t.nullBitmap),o=c0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Fn(n,r,a,u,[o,void 0,s],[i])}}function Xi(e){return new py().visit(e)}class C7{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function yse(e){return e.reduce((t,n)=>t+n.nullCount,0)}function _se(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function vse(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function IL(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function AL(e,t){return e.getValid(t)}function Xp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return IL(r,this._offsets,n,t)}}function bse(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=IL(s,this._offsets,r,n);return t=void 0,o}}function wse(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):IL(s,this._offsets,i,n);return t=void 0,o}}class Ot extends un{}function aKe(e,t){return t===null&&e.length>0?0:-1}function uKe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new xL(n,e.offset+(t||0),e.length,n,mse)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return uKe(e,n);const r=eo.getVisitFn(e),i=dg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Ese(e,t,n){const r=eo.getVisitFn(e),i=dg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=aKe;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=Ese;Ot.prototype.visitSparseUnion=Ese;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const pS=new Ot;class Pt extends un{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===J.Timestamp||t instanceof bs&&t.bitWidth!==64||t instanceof Yl&&t.bitWidth!==64||t instanceof bf&&t.precision!==Di.HALF))return new C7(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new C7(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new lKe(o)})}class lKe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const CL=new Pt,cKe=(e,t)=>e+t;class Vf extends un{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===an.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+zu.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+zu.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const fKe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),dKe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),hKe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=zu.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},pKe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=zu.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},mKe=(e,t)=>e.type.mode===ra.Dense?Tse(e,t):Sse(e,t),Tse=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+zu.visit(t[s],r[i])},Sse=({children:e},t)=>4+zu.visitMany(e,e.map(()=>t)).reduce(cKe,0);Vf.prototype.visitUtf8=fKe;Vf.prototype.visitBinary=dKe;Vf.prototype.visitList=hKe;Vf.prototype.visitFixedSizeList=pKe;Vf.prototype.visitUnion=mKe;Vf.prototype.visitDenseUnion=Tse;Vf.prototype.visitSparseUnion=Sse;const zu=new Vf;var xse;const Ise={},Ase={};class bn{constructor(t){var n,r,i;const s=t[0]instanceof bn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Fn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Ise[o.typeId],f=s[0];this.isValid=d=>AL(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Ase[o.typeId]),this._offsets=_se(s);break}this.data=s,this.type=o,this.stride=au(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=yse(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return CL.visit(this)}concat(...t){return new bn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new bn(pse(this,t,n,({data:r,_offsets:i},s,o)=>vse(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new bn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Xt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Xt.isDictionary(this.type)){const t=new mS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new bn(n)}return new mS(this)}unmemoize(){if(Xt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new bn(n)}return this}}xse=Symbol.toStringTag;bn[xse]=(e=>{e.type=Xt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of t){const r=eo.getVisitFnByTypeId(n),i=ia.getVisitFnByTypeId(n),s=pS.getVisitFnByTypeId(n),o=zu.getVisitFnByTypeId(n);Ise[n]={get:r,set:i,indexOf:s,byteLength:o},Ase[n]=Object.create(e,{isValid:{value:Xp(AL)},get:{value:Xp(eo.getVisitFnByTypeId(n))},set:{value:bse(ia.getVisitFnByTypeId(n))},indexOf:{value:wse(pS.getVisitFnByTypeId(n))},getByteLength:{value:Xp(zu.getVisitFnByTypeId(n))}})}return"Vector"})(bn.prototype);class mS extends bn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new mS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new bn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function gKe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${yKe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function yKe(e){return typeof e!="bigint"?uf(e):pie?`${uf(e)}n`:`"${uf(e)}"`}const oP=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,_Ke=(e,t=0)=>e.length>=t?e.subarray(0,t):cS(new e.constructor(t),e,0);class QI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?oP(r*1,this.BYTES_PER_ELEMENT):oP(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=oP(t*this.stride,this.BYTES_PER_ELEMENT);const n=_Ke(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=cS(new this.ArrayType(t),this.buffer)}}QI.prototype.offset=0;class Ev extends QI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Cse extends Ev{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Ose extends Ev{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let no=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=au(t),this._nulls=new Cse,n&&n.length>0&&(this._isValid=gKe(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new bn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Xi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};no.prototype.length=1;no.prototype.stride=1;no.prototype.children=null;no.prototype.finished=!1;no.prototype.nullValues=null;no.prototype._isValid=()=>!0;class zf extends no{constructor(t){super(t),this._values=new Ev(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class XI extends no{constructor(t){super(t),this._pendingLength=0,this._offsets=new Ose}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof GI?n[Ra].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class dk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const aP=2,du=4,hl=4,Hn=4,Cc=new Int32Array(2),O7=new Float32Array(Cc.buffer),P7=new Float64Array(Cc.buffer),Q1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let kl=class hk{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?hk.ZERO:new hk(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};kl.ZERO=new kl(0,0);var pk;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(pk||(pk={}));let gS=class Pse{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Pse(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new kl(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new kl(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Cc[0]=this.readInt32(t),O7[0]}readFloat64(t){return Cc[Q1?0:1]=this.readInt32(t),Cc[Q1?1:0]=this.readInt32(t+4),P7[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){O7[0]=n,this.writeInt32(t,Cc[0])}writeFloat64(t,n){P7[0]=n,this.writeInt32(t,Cc[Q1?0:1]),this.writeInt32(t+4,Cc[Q1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+du+hl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<hl;n++)t+=String.fromCharCode(this.readInt8(this.position_+du+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=du,n===pk.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+du}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=hl)throw new Error("FlatBuffers: file identifier must be length "+hl);for(let n=0;n<hl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+du+n))return!1;return!0}createLong(t,n){return kl.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Rse=class kse{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=gS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=kse.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=gS.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(du,0),this.writeInt32(this.offset()-t+du)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*aP;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=aP;l<s;l+=aP)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Hn:0;if(n){const s=n;if(this.prep(this.minalign,du+hl+i),s.length!=hl)throw new Error("FlatBuffers: file identifier must be length "+hl);for(let o=hl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,du+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(du,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return kl.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Hn),(n||new Zr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Zr.startKeyValue(t),Zr.addKey(t,n),Zr.addValue(t,r),Zr.endKeyValue(t)}}var Pm;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Pm||(Pm={}));var Rm;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Rm||(Rm={}));var yS;(function(e){e[e.DenseArray=0]="DenseArray"})(yS||(yS={}));class fo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new fo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Hn),(n||new fo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return fo.startInt(t),fo.addBitWidth(t,n),fo.addIsSigned(t,r),fo.endInt(t)}}class pl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new pl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Hn),(n||new pl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new fo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):yS.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,yS.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Hn),(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Sd.startBinary(t),Sd.endBinary(t)}}class xd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Hn),(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return xd.startBool(t),xd.endBool(t)}}var _S;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(_S||(_S={}));let ew=class ep{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new ep).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Hn),(n||new ep).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_S.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,_S.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return ep.startDate(t),ep.addUnit(t,n),ep.endDate(t)}};class Ls{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Hn),(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Ls.startDecimal(t),Ls.addPrecision(t,n),Ls.addScale(t,r),Ls.addBitWidth(t,i),Ls.endDecimal(t)}}var km;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(km||(km={}));class hu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Hn),(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return hu.startFixedSizeBinary(t),hu.addByteWidth(t,n),hu.endFixedSizeBinary(t)}}class pu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new pu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Hn),(n||new pu).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return pu.startFixedSizeList(t),pu.addListSize(t,n),pu.endFixedSizeList(t)}}var vS;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(vS||(vS={}));class mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Hn),(n||new mu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vS.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,vS.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return mu.startFloatingPoint(t),mu.addPrecision(t,n),mu.endFloatingPoint(t)}}var bS;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(bS||(bS={}));class gu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new gu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Hn),(n||new gu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bS.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,bS.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return gu.startInterval(t),gu.addUnit(t,n),gu.endInterval(t)}}class Id{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Id).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Hn),(n||new Id).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Id.startList(t),Id.endList(t)}}let tw=class tp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new tp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Hn),(n||new tp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return tp.startMap(t),tp.addKeysSorted(t,n),tp.endMap(t)}};class Ad{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Ad).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Hn),(n||new Ad).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ad.startNull(t),Ad.endNull(t)}}class Cd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Cd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Hn),(n||new Cd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Cd.startStruct_(t),Cd.endStruct_(t)}}class zo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new zo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Hn),(n||new zo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):km.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,km.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return zo.startTime(t),zo.addUnit(t,n),zo.addBitWidth(t,r),zo.endTime(t)}}let P0=class id{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Hn),(n||new id).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):km.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,km.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return id.startTimestamp(t),id.addUnit(t,n),id.addTimezone(t,r),id.endTimestamp(t)}};var wS;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(wS||(wS={}));class Fs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Fs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Hn),(n||new Fs).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wS.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,wS.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Fs.startUnion(t),Fs.addMode(t,n),Fs.addTypeIds(t,r),Fs.endUnion(t)}}class Od{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Od).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Hn),(n||new Od).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Od.startUtf8(t),Od.endUtf8(t)}}var yr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(yr||(yr={}));let Lo=class nw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new nw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Hn),(n||new nw).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):yr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new pl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new nw).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Zr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,yr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},su=class sl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new sl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Hn),(n||new sl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Rm.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Lo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Zr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Rm.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return sl.startSchema(t),sl.addEndianness(t,n),sl.addFields(t,r),sl.addCustomMetadata(t,i),sl.addFeatures(t,s),sl.endSchema(t)}};class uo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Hn),(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pm.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new su).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new dk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new dk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Zr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Pm.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Pn{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=mk(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Pn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Pn(n,this.metadata)}assign(...t){const n=t[0]instanceof Pn?t[0]:Array.isArray(t[0])?new Pn(t[0]):new Pn(t),r=[...this.fields],i=X1(X1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:X1(X1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=mk(s,new Map);return new Pn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Pn.prototype.fields=null;Pn.prototype.metadata=null;Pn.prototype.dictionaries=null;class An{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new An(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],An.new(n,r,i,s)}}An.prototype.type=null;An.prototype.name=null;An.prototype.nullable=null;An.prototype.metadata=null;function X1(e,t){return new Map([...e||new Map,...t||new Map])}function mk(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Xt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&mk(s.children,t)}return t}var R7=kl,vKe=Rse,bKe=gS;class gk{constructor(t,n=po.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new bKe(Rn(t));const n=uo.getRootAsFooter(t),r=Pn.decode(n.schema());return new wKe(r,n)}static encode(t){const n=new vKe,r=Pn.encode(n,t.schema);uo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Ef.encode(n,o);const i=n.endVector();uo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Ef.encode(n,o);const s=n.endVector();return uo.startFooter(n),uo.addSchema(n,r),uo.addVersion(n,po.V4),uo.addRecordBatches(n,i),uo.addDictionaries(n,s),uo.finishFooterBuffer(n,uo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class wKe extends gk{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Ef.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Ef.decode(n)}return null}}class Ef{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new Ef(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new R7(n.offset,0),s=new R7(n.bodyLength,0);return dk.createBlock(t,i,r,s)}}const J1=Object.freeze({done:!0,value:void 0});class Nse{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class EKe extends Nse{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return dl(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(J1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return T7.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return T7.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return dl(this,void 0,void 0,function*(){return yield this.abort(t),J1})}return(t){return dl(this,void 0,void 0,function*(){return yield this.close(),J1})}read(t){return dl(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return dl(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(J1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class uP extends EKe{write(t){if((t=Rn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?uk(this.toUint8Array(!0)):this.toUint8Array(!1).then(uk)}toUint8Array(t=!1){return t?ju(this._values)[0]:dl(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=hy(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return ju(i,s)[0]})}}class Dse extends XI{constructor(t){super(t),this._values=new QI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Rn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class TKe extends no{constructor(t){super(t),this._values=new Cse}setValue(t,n){this._values.set(t,+n)}}class JI extends zf{}JI.prototype._setValue=Hie;class $se extends JI{}$se.prototype._setValue=cL;class Lse extends JI{}Lse.prototype._setValue=fL;class Mse extends zf{}Mse.prototype._setValue=Yie;class SKe extends no{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new wf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=ES({type:this.type.indices,nullValues:n}),this.dictionary=ES({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Fse extends zf{}Fse.prototype._setValue=zie;class xKe extends no{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new Om(this.type.listSize,new An(n,t.type,!0)),r}}class ZI extends zf{setValue(t,n){this._values.set(t,n)}}class IKe extends ZI{setValue(t,n){super.setValue(t,jie(n))}}class AKe extends ZI{}class CKe extends ZI{}class eA extends zf{}eA.prototype._setValue=Qie;class Bse extends eA{}Bse.prototype._setValue=bL;class jse extends eA{}jse.prototype._setValue=wL;class cc extends zf{setValue(t,n){this._values.set(t,n)}}class OKe extends cc{}class PKe extends cc{}class RKe extends cc{}class kKe extends cc{}class NKe extends cc{}class DKe extends cc{}class $Ke extends cc{}class LKe extends cc{}class MKe extends XI{constructor(t){super(t),this._offsets=new Ose}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Cm(new An(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class FKe extends XI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new f_(new An(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class BKe extends no{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class jKe extends no{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new es([...this.type.children,new An(n,t.type,!0)]),r}}class hg extends zf{}hg.prototype._setValue=qie;class Use extends hg{}Use.prototype._setValue=dL;class Vse extends hg{}Vse.prototype._setValue=hL;class zse extends hg{}zse.prototype._setValue=pL;class Hse extends hg{}Hse.prototype._setValue=mL;class pg extends zf{}pg.prototype._setValue=Wie;class qse extends pg{}qse.prototype._setValue=gL;class Wse extends pg{}Wse.prototype._setValue=yL;class Yse extends pg{}Yse.prototype._setValue=_L;class Gse extends pg{}Gse.prototype._setValue=vL;class OL extends no{constructor(t){super(t),this._typeIds=new Ev(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new An(n,t.type)];return this.type=new c_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class UKe extends OL{}class VKe extends OL{constructor(t){super(t),this._offsets=new Ev(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Kse extends XI{constructor(t){super(t),this._values=new QI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,G3(n))}_flushPending(t,n){}}Kse.prototype._flushPending=Dse.prototype._flushPending;class zKe extends un{visitNull(){return BKe}visitBool(){return TKe}visitInt(){return cc}visitInt8(){return OKe}visitInt16(){return PKe}visitInt32(){return RKe}visitInt64(){return kKe}visitUint8(){return NKe}visitUint16(){return DKe}visitUint32(){return $Ke}visitUint64(){return LKe}visitFloat(){return ZI}visitFloat16(){return IKe}visitFloat32(){return AKe}visitFloat64(){return CKe}visitUtf8(){return Kse}visitBinary(){return Dse}visitFixedSizeBinary(){return Fse}visitDate(){return JI}visitDateDay(){return $se}visitDateMillisecond(){return Lse}visitTimestamp(){return hg}visitTimestampSecond(){return Use}visitTimestampMillisecond(){return Vse}visitTimestampMicrosecond(){return zse}visitTimestampNanosecond(){return Hse}visitTime(){return pg}visitTimeSecond(){return qse}visitTimeMillisecond(){return Wse}visitTimeMicrosecond(){return Yse}visitTimeNanosecond(){return Gse}visitDecimal(){return Mse}visitList(){return MKe}visitStruct(){return jKe}visitUnion(){return OL}visitDenseUnion(){return VKe}visitSparseUnion(){return UKe}visitDictionary(){return SKe}visitInterval(){return eA}visitIntervalDayTime(){return Bse}visitIntervalYearMonth(){return jse}visitFixedSizeList(){return xKe}visitMap(){return FKe}}const HKe=new zKe;class Rt extends un{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function ro(e,t){return t instanceof e.constructor}function Tv(e,t){return e===t||ro(e,t)}function fc(e,t){return e===t||ro(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function tA(e,t){return e===t||ro(e,t)&&e.precision===t.precision}function qKe(e,t){return e===t||ro(e,t)&&e.byteWidth===t.byteWidth}function PL(e,t){return e===t||ro(e,t)&&e.unit===t.unit}function Sv(e,t){return e===t||ro(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function xv(e,t){return e===t||ro(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function WKe(e,t){return e===t||ro(e,t)&&e.children.length===t.children.length&&Tf.compareManyFields(e.children,t.children)}function YKe(e,t){return e===t||ro(e,t)&&e.children.length===t.children.length&&Tf.compareManyFields(e.children,t.children)}function RL(e,t){return e===t||ro(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Tf.compareManyFields(e.children,t.children)}function GKe(e,t){return e===t||ro(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Tf.visit(e.indices,t.indices)&&Tf.visit(e.dictionary,t.dictionary)}function kL(e,t){return e===t||ro(e,t)&&e.unit===t.unit}function KKe(e,t){return e===t||ro(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Tf.compareManyFields(e.children,t.children)}function QKe(e,t){return e===t||ro(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Tf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=Tv;Rt.prototype.visitBool=Tv;Rt.prototype.visitInt=fc;Rt.prototype.visitInt8=fc;Rt.prototype.visitInt16=fc;Rt.prototype.visitInt32=fc;Rt.prototype.visitInt64=fc;Rt.prototype.visitUint8=fc;Rt.prototype.visitUint16=fc;Rt.prototype.visitUint32=fc;Rt.prototype.visitUint64=fc;Rt.prototype.visitFloat=tA;Rt.prototype.visitFloat16=tA;Rt.prototype.visitFloat32=tA;Rt.prototype.visitFloat64=tA;Rt.prototype.visitUtf8=Tv;Rt.prototype.visitBinary=Tv;Rt.prototype.visitFixedSizeBinary=qKe;Rt.prototype.visitDate=PL;Rt.prototype.visitDateDay=PL;Rt.prototype.visitDateMillisecond=PL;Rt.prototype.visitTimestamp=Sv;Rt.prototype.visitTimestampSecond=Sv;Rt.prototype.visitTimestampMillisecond=Sv;Rt.prototype.visitTimestampMicrosecond=Sv;Rt.prototype.visitTimestampNanosecond=Sv;Rt.prototype.visitTime=xv;Rt.prototype.visitTimeSecond=xv;Rt.prototype.visitTimeMillisecond=xv;Rt.prototype.visitTimeMicrosecond=xv;Rt.prototype.visitTimeNanosecond=xv;Rt.prototype.visitDecimal=Tv;Rt.prototype.visitList=WKe;Rt.prototype.visitStruct=YKe;Rt.prototype.visitUnion=RL;Rt.prototype.visitDenseUnion=RL;Rt.prototype.visitSparseUnion=RL;Rt.prototype.visitDictionary=GKe;Rt.prototype.visitInterval=kL;Rt.prototype.visitIntervalDayTime=kL;Rt.prototype.visitIntervalYearMonth=kL;Rt.prototype.visitFixedSizeList=KKe;Rt.prototype.visitMap=QKe;const Tf=new Rt;function yk(e,t){return Tf.compareSchemas(e,t)}function ES(e){const t=e.type,n=new(HKe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(ES(Object.assign(Object.assign({},l),{type:u})))}}return n}function lP(e,t){return XKe(e,t.map(n=>n.data.concat()))}function XKe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=JKe(n,o,c,t,i),o>0&&(r[s++]=Xi({type:new es(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new ho(e,f))]}function JKe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Xi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Qse;class Bs{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Pn([]),this._offsets=[0],this;let i,s;t[0]instanceof Pn&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof ho)return[u];if(u instanceof Bs)return u.batches;if(u instanceof Fn){if(u.type instanceof es)return[new ho(new Pn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new bn([u[h]])),f=new Pn(l.map((h,p)=>new An(String(h),c[p].type))),[,d]=lP(f,c);return d.length===0?[new ho(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Pn([]),!(i instanceof Pn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof ho))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!yk(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??_se(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=yse(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?CL.visit(new bn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Bs(n,r.map(i=>new ho(n,i)))}slice(t,n){const r=this.schema;[t,n]=pse({length:this.numRows},t,n);const i=vse(this.data,this._offsets,t,n);return new Bs(r,i.map(s=>new ho(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Xi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new bn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new bn([Xi({type:new Wl,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=lP(r,a)}return new Bs(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Bs(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Bs(...lP(s,o))}}Qse=Symbol.toStringTag;Bs[Qse]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Xp(AL),e.get=Xp(eo.getVisitFn(J.Struct)),e.set=bse(ia.getVisitFn(J.Struct)),e.indexOf=wse(pS.getVisitFn(J.Struct)),e.getByteLength=Xp(zu.getVisitFn(J.Struct)),"Table"))(Bs.prototype);var Xse;let ho=class R0{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Pn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Xi({nullCount:0,type:new es(this.schema.fields),children:this.schema.fields.map(n=>Xi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Fn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=k7(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=An.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Pn(r),a=Xi({type:new es(r),length:s,children:i,nullCount:0});[this.schema,this.data]=k7(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Jse(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return eo.visit(this.data,t)}set(t,n){return ia.visit(this.data,t,n)}indexOf(t,n){return pS.visit(this.data,t,n)}getByteLength(t){return zu.visit(this.data,t)}[Symbol.iterator](){return CL.visit(new bn([this.data]))}toArray(){return[...this]}concat(...t){return new Bs(this.schema,[this,...t])}slice(t,n){const[r]=new bn([this.data]).slice(t,n).data;return new R0(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new bn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new bn([Xi({type:new Wl,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Pn(s,new Map(this.schema.metadata)),i=Xi({type:new es(s),children:o})}return new R0(r,i)}select(t){const n=this.schema.select(t),r=new es(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new R0(n,Xi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Xi({type:new es(n.fields),length:this.numRows,children:r});return new R0(n,i)}};Xse=Symbol.toStringTag;ho[Xse]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ho.prototype);function k7(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Xi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Xi({type:new es(i),length:n,children:s})]}function Jse(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Xt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Jse(o.children,a.children,n)}return n}class ZKe extends ho{constructor(t){const n=t.fields.map(i=>Xi({type:i.type})),r=Xi({type:new es(t.fields),nullCount:0,children:n});super(t,r)}}var TS;(function(e){e[e.BUFFER=0]="BUFFER"})(TS||(TS={}));var SS;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(SS||(SS={}));class Oc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Oc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Hn),(n||new Oc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):SS.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):TS.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,SS.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,TS.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Oc.startBodyCompression(t),Oc.addCodec(t,n),Oc.addMethod(t,r),Oc.endBodyCompression(t)}}class Zse{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let eoe=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},ul=class _k{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new _k).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Hn),(n||new _k).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new eoe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Zse).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Oc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},np=class vk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new vk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Hn),(n||new vk).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new ul).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var xS;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(xS||(xS={}));let vc=class Za{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Hn),(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pm.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):xS.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Zr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Pm.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,xS.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return Za.startMessage(t),Za.addVersion(t,n),Za.addHeaderType(t,r),Za.addHeader(t,i),Za.addBodyLength(t,s),Za.addCustomMetadata(t,o),Za.endMessage(t)}};var eQe=kl;class tQe extends un{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Ad.startNull(n),Ad.endNull(n)}visitInt(t,n){return fo.startInt(n),fo.addBitWidth(n,t.bitWidth),fo.addIsSigned(n,t.isSigned),fo.endInt(n)}visitFloat(t,n){return mu.startFloatingPoint(n),mu.addPrecision(n,t.precision),mu.endFloatingPoint(n)}visitBinary(t,n){return Sd.startBinary(n),Sd.endBinary(n)}visitBool(t,n){return xd.startBool(n),xd.endBool(n)}visitUtf8(t,n){return Od.startUtf8(n),Od.endUtf8(n)}visitDecimal(t,n){return Ls.startDecimal(n),Ls.addScale(n,t.scale),Ls.addPrecision(n,t.precision),Ls.addBitWidth(n,t.bitWidth),Ls.endDecimal(n)}visitDate(t,n){return ew.startDate(n),ew.addUnit(n,t.unit),ew.endDate(n)}visitTime(t,n){return zo.startTime(n),zo.addUnit(n,t.unit),zo.addBitWidth(n,t.bitWidth),zo.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return P0.startTimestamp(n),P0.addUnit(n,t.unit),r!==void 0&&P0.addTimezone(n,r),P0.endTimestamp(n)}visitInterval(t,n){return gu.startInterval(n),gu.addUnit(n,t.unit),gu.endInterval(n)}visitList(t,n){return Id.startList(n),Id.endList(n)}visitStruct(t,n){return Cd.startStruct_(n),Cd.endStruct_(n)}visitUnion(t,n){Fs.startTypeIdsVector(n,t.typeIds.length);const r=Fs.createTypeIdsVector(n,t.typeIds);return Fs.startUnion(n),Fs.addMode(n,t.mode),Fs.addTypeIds(n,r),Fs.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return pl.startDictionaryEncoding(n),pl.addId(n,new eQe(t.id,0)),pl.addIsOrdered(n,t.isOrdered),r!==void 0&&pl.addIndexType(n,r),pl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return hu.startFixedSizeBinary(n),hu.addByteWidth(n,t.byteWidth),hu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return pu.startFixedSizeList(n),pu.addListSize(n,t.listSize),pu.endFixedSizeList(n)}visitMap(t,n){return tw.startMap(n),tw.addKeysSorted(n,t.keysSorted),tw.endMap(n)}}const cP=new tQe;function nQe(e,t=new Map){return new Pn(iQe(e,t),rw(e.customMetadata),t)}function toe(e){return new To(e.count,noe(e.columns),roe(e.columns))}function rQe(e){return new Hu(toe(e.data),e.id,e.isDelta)}function iQe(e,t){return(e.fields||[]).filter(Boolean).map(n=>An.fromJSON(n,t))}function N7(e,t){return(e.children||[]).filter(Boolean).map(n=>An.fromJSON(n,t))}function noe(e){return(e||[]).reduce((t,n)=>[...t,new Ch(n.count,sQe(n.VALIDITY)),...noe(n.children)],[])}function roe(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Eu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new Eu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new Eu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Eu(t.length,i.DATA.length)),t=roe(i.children,t)}return t}function sQe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function oQe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=$7(e,N7(e,t)),i=new An(e.name,o,e.nullable,rw(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?D7(r):new vf,a=new wf(t.get(n),r,n,s.isOrdered),i=new An(e.name,a,e.nullable,rw(e.customMetadata))):(r=(r=s.indexType)?D7(r):new vf,t.set(n,o=$7(e,N7(e,t))),a=new wf(o,r,n,s.isOrdered),i=new An(e.name,a,e.nullable,rw(e.customMetadata))),i||null}function rw(e){return new Map(Object.entries(e||{}))}function D7(e){return new bs(e.isSigned,e.bitWidth)}function $7(e,t){const n=e.type.name;switch(n){case"NONE":return new Wl;case"null":return new Wl;case"binary":return new u_;case"utf8":return new xm;case"bool":return new l_;case"list":return new Cm((t||[])[0]);case"struct":return new es(t||[]);case"struct_":return new es(t||[])}switch(n){case"int":{const r=e.type;return new bs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new bf(Di[r.precision])}case"decimal":{const r=e.type;return new fS(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new Im(Uu[r.unit])}case"time":{const r=e.type;return new Yl(an[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new dS(an[r.unit],r.timezone)}case"interval":{const r=e.type;return new Am(Vu[r.unit])}case"union":{const r=e.type;return new c_(ra[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new hS(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new Om(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new f_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var rh=kl,aQe=Rse,uQe=gS;class yu{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new yu(0,po.V4,n);return r._createHeader=lQe(t,n),r}static decode(t){t=new uQe(Rn(t));const n=vc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new yu(r,i,s);return o._createHeader=cQe(n,s),o}static encode(t){const n=new aQe;let r=-1;return t.isSchema()?r=Pn.encode(n,t.header()):t.isRecordBatch()?r=To.encode(n,t.header()):t.isDictionaryBatch()&&(r=Hu.encode(n,t.header())),vc.startMessage(n),vc.addVersion(n,po.V4),vc.addHeader(n,r),vc.addHeaderType(n,t.headerType),vc.addBodyLength(n,new rh(t.bodyLength,0)),vc.finishMessageBuffer(n,vc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Pn)return new yu(0,po.V4,hi.Schema,t);if(t instanceof To)return new yu(n,po.V4,hi.RecordBatch,t);if(t instanceof Hu)return new yu(n,po.V4,hi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===hi.Schema}isRecordBatch(){return this.headerType===hi.RecordBatch}isDictionaryBatch(){return this.headerType===hi.DictionaryBatch}}class To{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Hu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class Eu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class Ch{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function lQe(e,t){return()=>{switch(t){case hi.Schema:return Pn.fromJSON(e);case hi.RecordBatch:return To.fromJSON(e);case hi.DictionaryBatch:return Hu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${hi[t]}, type: ${t} }`)}}function cQe(e,t){return()=>{switch(t){case hi.Schema:return Pn.decode(e.header(new su));case hi.RecordBatch:return To.decode(e.header(new ul),e.version());case hi.DictionaryBatch:return Hu.decode(e.header(new np),e.version())}throw new Error(`Unrecognized Message type: { name: ${hi[t]}, type: ${t} }`)}}An.encode=wQe;An.decode=vQe;An.fromJSON=oQe;Pn.encode=bQe;Pn.decode=fQe;Pn.fromJSON=nQe;To.encode=EQe;To.decode=dQe;To.fromJSON=toe;Hu.encode=TQe;Hu.decode=hQe;Hu.fromJSON=rQe;Ch.encode=SQe;Ch.decode=mQe;Eu.encode=xQe;Eu.decode=pQe;function fQe(e,t=new Map){const n=_Qe(e,t);return new Pn(n,iw(e),t)}function dQe(e,t=po.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new To(e.length(),gQe(e),yQe(e,t))}function hQe(e,t=po.V4){return new Hu(To.decode(e.data(),t),e.id(),e.isDelta())}function pQe(e){return new Eu(e.offset(),e.length())}function mQe(e){return new Ch(e.length(),e.nullCount())}function gQe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Ch.decode(n));return t}function yQe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<po.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Eu.decode(r));return n}function _Qe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=An.decode(r,t));return n}function L7(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=An.decode(r,t));return n}function vQe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=F7(e,L7(e,t)),r=new An(e.name(),i,e.nullable(),iw(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?M7(s):new vf,o=new wf(t.get(n),s,n,a.isOrdered()),r=new An(e.name(),o,e.nullable(),iw(e))):(s=(s=a.indexType())?M7(s):new vf,t.set(n,i=F7(e,L7(e,t))),o=new wf(i,s,n,a.isOrdered()),r=new An(e.name(),o,e.nullable(),iw(e))),r||null}function iw(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function M7(e){return new bs(e.isSigned(),e.bitWidth())}function F7(e,t){const n=e.typeType();switch(n){case yr.NONE:return new Wl;case yr.Null:return new Wl;case yr.Binary:return new u_;case yr.Utf8:return new xm;case yr.Bool:return new l_;case yr.List:return new Cm((t||[])[0]);case yr.Struct_:return new es(t||[])}switch(n){case yr.Int:{const r=e.type(new fo);return new bs(r.isSigned(),r.bitWidth())}case yr.FloatingPoint:{const r=e.type(new mu);return new bf(r.precision())}case yr.Decimal:{const r=e.type(new Ls);return new fS(r.scale(),r.precision(),r.bitWidth())}case yr.Date:{const r=e.type(new ew);return new Im(r.unit())}case yr.Time:{const r=e.type(new zo);return new Yl(r.unit(),r.bitWidth())}case yr.Timestamp:{const r=e.type(new P0);return new dS(r.unit(),r.timezone())}case yr.Interval:{const r=e.type(new gu);return new Am(r.unit())}case yr.Union:{const r=e.type(new Fs);return new c_(r.mode(),r.typeIdsArray()||[],t||[])}case yr.FixedSizeBinary:{const r=e.type(new hu);return new hS(r.byteWidth())}case yr.FixedSizeList:{const r=e.type(new pu);return new Om(r.listSize(),(t||[])[0])}case yr.Map:{const r=e.type(new tw);return new f_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${yr[n]}" (${n})`)}function bQe(e,t){const n=t.fields.map(s=>An.encode(e,s));su.startFieldsVector(e,n.length);const r=su.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?su.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Zr.startKeyValue(e),Zr.addKey(e,a),Zr.addValue(e,u),Zr.endKeyValue(e)})):-1;return su.startSchema(e),su.addFields(e,r),su.addEndianness(e,IQe?Rm.Little:Rm.Big),i!==-1&&su.addCustomMetadata(e,i),su.endSchema(e)}function wQe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Xt.isDictionary(s)?(o=s.dictionary.typeId,i=cP.visit(s,e),r=cP.visit(s.dictionary,e)):r=cP.visit(s,e);const a=(s.children||[]).map(c=>An.encode(e,c)),u=Lo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Lo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Zr.startKeyValue(e),Zr.addKey(e,d),Zr.addValue(e,h),Zr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Lo.startField(e),Lo.addType(e,r),Lo.addTypeType(e,o),Lo.addChildren(e,u),Lo.addNullable(e,!!t.nullable),n!==-1&&Lo.addName(e,n),i!==-1&&Lo.addDictionary(e,i),l!==-1&&Lo.addCustomMetadata(e,l),Lo.endField(e)}function EQe(e,t){const n=t.nodes||[],r=t.buffers||[];ul.startNodesVector(e,n.length);for(const o of n.slice().reverse())Ch.encode(e,o);const i=e.endVector();ul.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Eu.encode(e,o);const s=e.endVector();return ul.startRecordBatch(e),ul.addLength(e,new rh(t.length,0)),ul.addNodes(e,i),ul.addBuffers(e,s),ul.endRecordBatch(e)}function TQe(e,t){const n=To.encode(e,t.data);return np.startDictionaryBatch(e),np.addId(e,new rh(t.id,0)),np.addIsDelta(e,t.isDelta),np.addData(e,n),np.endDictionaryBatch(e)}function SQe(e,t){return eoe.createFieldNode(e,new rh(t.length,0),new rh(t.nullCount,0))}function xQe(e,t){return Zse.createBuffer(e,new rh(t.offset,0),new rh(t.length,0))}const IQe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),bk="ARROW1",NL=new Uint8Array(bk.length);for(let e=0;e<bk.length;e+=1)NL[e]=bk.codePointAt(e);NL.length;class Gr extends un{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof ho?s.data.children:s.data),r=new Gr;return r.visitMany(n(t)),r}visit(t){if(t instanceof bn)return this.visitMany(t.data),this;const{type:n}=t;if(!Xt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Xt.isNull(n)||Fa.call(this,i<=0?new Uint8Array(0):SL(t.offset,r,t.nullBitmap)),this.nodes.push(new Ch(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Fa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Eu(this._byteLength,t)),this._byteLength+=t,this}function AQe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(Fa.call(this,r),t.mode===ra.Sparse)return wk.call(this,e);if(t.mode===ra.Dense){if(e.offset<=0)return Fa.call(this,i),wk.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=X3(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];Fa.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function CQe(e){let t;return e.nullCount>=e.length?Fa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Fa.call(this,SL(e.offset,e.length,t)):Fa.call(this,gse(e.values))}function Hf(e){return Fa.call(this,e.values.subarray(0,e.length*e.stride))}function ioe(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return Fa.call(this,X3(-r[0],t,r)),Fa.call(this,n.subarray(i,i+o)),this}function DL(e){const{length:t,valueOffsets:n}=e;return n&&Fa.call(this,X3(n[0],t,n)),this.visit(e.children[0])}function wk(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Gr.prototype.visitBool=CQe;Gr.prototype.visitInt=Hf;Gr.prototype.visitFloat=Hf;Gr.prototype.visitUtf8=ioe;Gr.prototype.visitBinary=ioe;Gr.prototype.visitFixedSizeBinary=Hf;Gr.prototype.visitDate=Hf;Gr.prototype.visitTimestamp=Hf;Gr.prototype.visitTime=Hf;Gr.prototype.visitDecimal=Hf;Gr.prototype.visitList=DL;Gr.prototype.visitStruct=wk;Gr.prototype.visitUnion=AQe;Gr.prototype.visitInterval=Hf;Gr.prototype.visitFixedSizeList=DL;Gr.prototype.visitMap=DL;class soe extends Nse{constructor(t){super(),this._position=0,this._started=!1,this._sink=new uP,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,jf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return WI(t)?t.then(n=>this.writeAll(n)):YI(t)?FL(this,t):ML(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof uP?this._sink=t:(this._sink=new uP,t&&LYe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&MYe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!yk(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Bs&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof ho&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!yk(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof ho?t instanceof ZKe||this._writeRecordBatch(t):t instanceof Bs?this.writeAll(t.batches):K3(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=yu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===hi.RecordBatch?this._recordBatchBlocks.push(new Ef(a,t.bodyLength,this._position)):t.headerType===hi.DictionaryBatch&&this._dictionaryBlocks.push(new Ef(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Rn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(yu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(NL)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Gr.assemble(t),o=new To(t.numRows,r,i),a=yu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Gr.assemble(new bn([t])),u=new To(t.length,s,o),l=new Hu(u,n,r),c=yu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class $L extends soe{static writeAll(t,n){const r=new $L(n);return WI(t)?t.then(i=>r.writeAll(i)):YI(t)?FL(r,t):ML(r,t)}}class LL extends soe{static writeAll(t){const n=new LL;return WI(t)?t.then(r=>n.writeAll(r)):YI(t)?FL(n,t):ML(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=gk.encode(new gk(t,po.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function ML(e,t){let n=t;t instanceof Bs&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function FL(e,t){var n,r,i,s;return dl(this,void 0,void 0,function*(){try{for(n=hy(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function OQe(e,t="stream"){return(t==="stream"?$L:LL).writeAll(e).toUint8Array(!0)}function BL(e,t=1){return(e*t+63&-64||64)/t}function Sf(e,t,n=e.BYTES_PER_ELEMENT){return new e(BL(t,n))}function jL(e){return e instanceof Fn?e:new Fn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function PQe(e){return new bn([jL(e)])}const UL=new TextEncoder;function RQe(e,t,n){const r=UL.encode(n);return e.set(r,t),r.length}function kQe(e,t,n){return UL.encodeInto(n,e.subarray(t)).written}const NQe=UL.encodeInto?kQe:RQe;function B7(e,t){const n=Sf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function DQe(e,t){const n=Sf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function $Qe(e,t){const n=Sf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function LQe(e,t){const n=Sf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function MQe(e){const t=ES({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function FQe(e,t,n){const r=Sf(Int32Array,t+1),i=Sf(Uint8Array,3*n);let s=0;return{set(o,a){s+=NQe(i,s,o),r[a+1]=s},data:()=>{const o=BL(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function BQe(e,t){const n=[],r=Sf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:jQe(e.dictionary,n,o)})}}function jQe(e,t,n){const r=FQe(e,t.length,n);return t.forEach(r.set),PQe(r.data())}function UQe(e,t){const n=Sf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function VQe(e,t,n=!0){let r;switch(e.typeId){case J.Int:r=e.bitWidth<64?B7:null;break;case J.Float:r=e.precision>0?B7:null;break;case J.Dictionary:r=e.dictionary.typeId===J.Utf8&&e.indices.typeId===J.Int&&e.indices.bitWidth<64?BQe:null;break;case J.Bool:r=DQe;break;case J.Date:r=e.unit?LQe:$Qe;break}return r==null?MQe(e):n?UQe(r(e,t),t):r(e,t)}function zQe(e,t){const n=e.length,r=BL(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),jL({type:t,length:n,buffers:[null,i]})}function ooe(e,t,n,r,i=!0){const s=VQe(r,e,i);return t(n,s.set),jL(s.data())}function VL(e){if(e instanceof Xt||e==null)return e;switch(e){case J.Binary:return new u_;case J.Bool:return new l_;case J.DateDay:return new XYe;case J.DateMillisecond:case J.Date:return new JYe;case J.Dictionary:return new wf(new xm,new vf);case J.Float16:return new Mie;case J.Float32:return new oL;case J.Float64:case J.Float:return new aL;case J.Int8:return new Z3;case J.Int16:return new eL;case J.Int32:case J.Int:return new vf;case J.Int64:return new tL;case J.IntervalDayTime:return new rGe;case J.Interval:case J.IntervalYearMonth:return new iGe;case J.Null:return new Wl;case J.TimeMicrosecond:return new tGe;case J.TimeMillisecond:case J.Time:return new eGe;case J.TimeNanosecond:return new nGe;case J.TimeSecond:return new ZYe;case J.Uint8:return new nL;case J.Uint16:return new rL;case J.Uint32:return new iL;case J.Uint64:return new sL;case J.Utf8:return new xm;default:jt(`Unsupported type code: ${Bu(e)}. Use a data type constructor instead?`)}}function HQe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function aoe(e,t){const n=Ek();return e(t,n.add),n}function Ek(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(ql(t))++e.dates,HQe(t)&&++e.utcdays;else if(Ed(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=Ek());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=Ek())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return VL(qQe(e))}};return e}function qQe(e){const t=e.count-e.nulls;if(t===0)return J.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?J.Float64:n<128?J.Int8:n<32768?J.Int16:J.Int32:n>=2**32?J.Float64:n<256?J.Uint8:n<65536?J.Uint16:J.Uint32}else{if(e.nums===t)return J.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?J.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?J.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return J.Bool;if(e.utcdays===t)return J.DateDay;if(e.dates===t)return J.DateMillisecond;if(e.arrays===t){const n=An.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new Om(e.minlen,n):new Cm(n)}else if(e.structs===t){const n=e.struct_prof;return new es(Object.keys(n).map(r=>An.new(r,n[r].type(),!0)))}else{if(e.strings>0)return J.Dictionary;jt("Type inference failure")}}}}function WQe(e,t,n,r,i,s=!0){if(i=VL(i),!i){const o=aoe(r,t);s=o.nulls>0,i=o.type()}return ooe(n,r,t,i,s)}function YQe(e,t,n,r,i,s=!0){i=VL(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=GQe(o);if(u&&a&&j7(u.type,i))return u;const l=o.data;if(bv(l)){const c=KQe(l);if(a&&c&&j7(c,i))return zQe(l,c);i=i||c,s=!1}if(!i){const c=aoe(r,o);s=c.nulls>0,i=c.type()}return ooe(n,r,o,i,s)}function GQe(e){return e instanceof bn?e:e.vector instanceof bn?e.vector:null}function KQe(e){const n={Float32Array:oL,Float64Array:aL,Int8Array:Z3,Int16Array:eL,Int32Array:vf,Uint8Array:nL,Uint16Array:rL,Uint32Array:iL,BigInt64Array:tL,BigUint64Array:sL}[e.constructor.name];return n?new n:null}function j7(e,t){return!e||!t?!0:e.compareTo(t)}function QQe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function XQe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Ed(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const JQe=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function ZQe(){try{return Bs}catch{JQe()}}function uoe(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=eXe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=ZQe();return new u(a)}function eXe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=rr(n)?n(e):vn(n)?n:null;if(vn(e))return{dataFrom:WQe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:QQe(e,r,i)};if(tXe(e))return{dataFrom:YQe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:XQe(e,r,i)};jt("Unsupported input data type")}function tXe(e){return e&&rr(e.reify)}function nXe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return OQe(uoe(e,r),n)}function rXe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function iXe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&ql(u))++i,rXe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function nA(e,t){return rr(t)?t(e):t||e.columnNames()}function loe(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=iXe(sXe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function sXe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function zL(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function oXe(e,t={}){const n=nA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":ql(l)?HI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return zL(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function coe(e,t={}){if(rr(t))return t(e)+"";const n=typeof e;if(n==="object"){if(ql(e))return t.utc?HI(e):Vre(e);{const r=JSON.stringify(e,(s,o)=>bv(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function rA(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function aXe(e,t={}){const n=nA(e,t.columns),{align:r,format:i}=loe(e,n,t),s=uXe(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(coe(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const _=g?a(r[y]):"",v=s[m]&&s[m](y,d,f)||"",E=(_?`text-align: ${_};`+(v?" ":""):"")+v;return`<${m}${E?` style="${E}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return zL(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function uXe(e){return rA(e.style,t=>rr(t)?t:()=>t)}function lXe(e,t=!0,n=!1){return e===void 0||e?t:n}const cXe=e=>ql(e)?HI(e,!0):e;function fXe(e,t={}){const n=lXe(t.schema),r=t.format||{},i=nA(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||cXe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function dXe(e,t={}){const n=nA(e,t.columns),{align:r,format:i}=loe(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return zL(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(coe(u,i[l]))+"|"}}),a+`
`}function foe(e,t){for(const[n,r]of qI(t))e.set(n,r);return e}function hXe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Gl(e,t,n=new Map){return t=vs(t)?e.columnName(t):t,ji(t)?n.set(t,t):vn(t)?t.forEach(r=>Gl(e,r,n)):rr(t)?Gl(e,t(e),n):ss(t)?foe(n,t):jt(`Invalid column selection: ${Bu(t)}`),n}function iA(e,t){return e.toObject=t,e}function doe(e){return vn(e)?e.map(doe):e&&e.toObject?e.toObject():e}function Nm(){return iA(e=>e.columnNames(),()=>({all:[]}))}function hoe(...e){return e=e.flat(),iA(t=>{const n=Gl(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:doe(e)}))}function pXe(e,t){return iA(n=>{let r=vs(e)?e:n.columnIndex(e),i=vs(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function mXe(e){return ji(e)&&(e=RegExp(hXe(e))),iA(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function gXe(e){return bv(e.data)?e.data.constructor:Array}class ml extends $We{static from(t,n){return new ml(FWe(t,n),n)}static new(t,n){if(t instanceof ml)return t;const r={},i=[];for(const[s,o]of qI(t))r[s]=o,i.push(s);return new ml(r,n||i)}constructor(t,n,r,i,s,o){rA(t,MWe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new ml(t||this._data,n||(t?null:this._names),o,i!==void 0?i:hYe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Ro(r).groupby(r.groups());return t.forEach(s=>{s=ml.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return U7(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Gl(this,t.columns||Nm()),o=hie(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),mYe(this,u,a,n)}return a}*[Symbol.iterator](){const t=U7(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(gXe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=pYe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return uoe(this,t)}toArrowBuffer(t){return nXe(this,t)}toCSV(t){return oXe(this,t)}toHTML(t){return aXe(this,t)}toJSON(t){return fXe(this,t)}toMarkdown(t){return dXe(this,t)}}function U7(e){let t=e._builder;if(!t){const n=hie(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class yXe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function dn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=_Xe[e.type];s&&s(e,t,n)}const Z1=(e,t,n)=>{dn(e.argument,t,n,e)},fP=(e,t,n)=>{dn(e.left,t,n,e),dn(e.right,t,n,e)},V7=(e,t,n)=>{dn(e.test,t,n,e),dn(e.consequent,t,n,e),e.alternate&&dn(e.alternate,t,n,e)},dP=(e,t,n)=>{ou(e.params,t,n,e),dn(e.body,t,n,e)},z7=(e,t,n)=>{dn(e.callee,t,n,e),ou(e.arguments,t,n,e)},ou=(e,t,n,r)=>{e.forEach(i=>dn(i,t,n,r))},_Xe={TemplateLiteral:(e,t,n)=>{ou(e.expressions,t,n,e),ou(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{dn(e.object,t,n,e),dn(e.property,t,n,e)},CallExpression:z7,NewExpression:z7,ArrayExpression:(e,t,n)=>{ou(e.elements,t,n,e)},AssignmentExpression:fP,AwaitExpression:Z1,BinaryExpression:fP,LogicalExpression:fP,UnaryExpression:Z1,UpdateExpression:Z1,ConditionalExpression:V7,ObjectExpression:(e,t,n)=>{ou(e.properties,t,n,e)},Property:(e,t,n)=>{dn(e.key,t,n,e),dn(e.value,t,n,e)},ArrowFunctionExpression:dP,FunctionExpression:dP,FunctionDeclaration:dP,VariableDeclaration:(e,t,n)=>{ou(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{dn(e.id,t,n,e),dn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{dn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{ou(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{dn(e.expression,t,n,e)},IfStatement:V7,ForStatement:(e,t,n)=>{dn(e.init,t,n,e),dn(e.test,t,n,e),dn(e.update,t,n,e),dn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{dn(e.test,t,n,e),dn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{dn(e.body,t,n,e),dn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{dn(e.discriminant,t,n,e),ou(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&dn(e.test,t,n,e),ou(e.consequent,t,n,e)},ReturnStatement:Z1,Program:(e,t,n)=>{dn(e.body[0],t,n,e)}};function poe(e){delete e.start,delete e.end,delete e.optional}function H7(e){poe(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function vXe(e){return dn(e,null,{Column:H7,Constant:H7,Default:poe}),e}function ei(e,t){return t&&t.type===e}function bXe(e){return ei(_Ye,e)||ei(yYe,e)}function wXe(e){return rr(e)?e:()=>e}const EXe="Escaped functions are not valid as rollup or pivot values.";function TXe(e,t,n){e.aggronly&&jt(EXe);const r="(row,data)=>fn("+die(e.table.columnNames())+",$)";return{escape:W3.escape(r,wXe(t.expr),n)}}var SXe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],moe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],xXe="-----------------------------------------------------------------------------------------------------------------------------------------------------",goe="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",hP={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},pP="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",IXe={5:pP,"5module":pP+" export import",6:pP+" const class extends export import super"},AXe=/^in(stanceof)?$/,CXe=new RegExp("["+goe+"]"),OXe=new RegExp("["+goe+xXe+"]");function Tk(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Kl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&CXe.test(String.fromCharCode(e)):t===!1?!1:Tk(e,moe)}function Dm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&OXe.test(String.fromCharCode(e)):t===!1?!1:Tk(e,moe)||Tk(e,SXe)}var hn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Do(e,t){return new hn(e,{beforeExpr:!0,binop:t})}var $o={beforeExpr:!0},Cs={startsExpr:!0},HL={};function rn(e,t){return t===void 0&&(t={}),t.keyword=e,HL[e]=new hn(e,t)}var L={num:new hn("num",Cs),regexp:new hn("regexp",Cs),string:new hn("string",Cs),name:new hn("name",Cs),privateId:new hn("privateId",Cs),eof:new hn("eof"),bracketL:new hn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new hn("]"),braceL:new hn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new hn("}"),parenL:new hn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new hn(")"),comma:new hn(",",$o),semi:new hn(";",$o),colon:new hn(":",$o),dot:new hn("."),question:new hn("?",$o),questionDot:new hn("?."),arrow:new hn("=>",$o),template:new hn("template"),invalidTemplate:new hn("invalidTemplate"),ellipsis:new hn("...",$o),backQuote:new hn("`",Cs),dollarBraceL:new hn("${",{beforeExpr:!0,startsExpr:!0}),eq:new hn("=",{beforeExpr:!0,isAssign:!0}),assign:new hn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new hn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new hn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Do("||",1),logicalAND:Do("&&",2),bitwiseOR:Do("|",3),bitwiseXOR:Do("^",4),bitwiseAND:Do("&",5),equality:Do("==/!=/===/!==",6),relational:Do("</>/<=/>=",7),bitShift:Do("<</>>/>>>",8),plusMin:new hn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Do("%",10),star:Do("*",10),slash:Do("/",10),starstar:new hn("**",{beforeExpr:!0}),coalesce:Do("??",1),_break:rn("break"),_case:rn("case",$o),_catch:rn("catch"),_continue:rn("continue"),_debugger:rn("debugger"),_default:rn("default",$o),_do:rn("do",{isLoop:!0,beforeExpr:!0}),_else:rn("else",$o),_finally:rn("finally"),_for:rn("for",{isLoop:!0}),_function:rn("function",Cs),_if:rn("if"),_return:rn("return",$o),_switch:rn("switch"),_throw:rn("throw",$o),_try:rn("try"),_var:rn("var"),_const:rn("const"),_while:rn("while",{isLoop:!0}),_with:rn("with"),_new:rn("new",{beforeExpr:!0,startsExpr:!0}),_this:rn("this",Cs),_super:rn("super",Cs),_class:rn("class",Cs),_extends:rn("extends",$o),_export:rn("export"),_import:rn("import",Cs),_null:rn("null",Cs),_true:rn("true",Cs),_false:rn("false",Cs),_in:rn("in",{beforeExpr:!0,binop:7}),_instanceof:rn("instanceof",{beforeExpr:!0,binop:7}),_typeof:rn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:rn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:rn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ha=/\r\n?|\n|\u2028|\u2029/,PXe=new RegExp(ha.source,"g");function mg(e){return e===10||e===13||e===8232||e===8233}function yoe(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(mg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var _oe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ho=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,voe=Object.prototype,RXe=voe.hasOwnProperty,kXe=voe.toString,Iv=Object.hasOwn||function(e,t){return RXe.call(e,t)},q7=Array.isArray||function(e){return kXe.call(e)==="[object Array]"},W7=Object.create(null);function zc(e){return W7[e]||(W7[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function xf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var NXe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,d_=function(t,n){this.line=t,this.column=n};d_.prototype.offset=function(t){return new d_(this.line,this.column+t)};var sA=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function boe(e,t){for(var n=1,r=0;;){var i=yoe(e,r,t);if(i<0)return new d_(n,t-r);++n,r=i}}var Sk={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Y7=!1;function DXe(e){var t={};for(var n in Sk)t[n]=e&&Iv(e,n)?e[n]:Sk[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!Y7&&typeof console=="object"&&console.warn&&(Y7=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),q7(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return q7(t.onComment)&&(t.onComment=$Xe(t,t.onComment)),t}function $Xe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new sA(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var h_=1,gg=2,qL=4,woe=8,Eoe=16,Toe=32,WL=64,Soe=128,Av=256,YL=h_|gg|Av;function GL(e,t){return gg|(e?qL:0)|(t?woe:0)}var IS=0,KL=1,dc=2,xoe=3,Ioe=4,Aoe=5,si=function(t,n,r){this.options=t=DXe(t),this.sourceFile=t.sourceFile,this.keywords=zc(IXe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=hP[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=zc(i);var s=(i?i+" ":"")+hP.strict;this.reservedWordsStrict=zc(s),this.reservedWordsStrictBind=zc(s+" "+hP.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ha).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=L.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(h_),this.regexpState=null,this.privateNameStack=[]},Zu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};si.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Zu.inFunction.get=function(){return(this.currentVarScope().flags&gg)>0};Zu.inGenerator.get=function(){return(this.currentVarScope().flags&woe)>0&&!this.currentVarScope().inClassFieldInit};Zu.inAsync.get=function(){return(this.currentVarScope().flags&qL)>0&&!this.currentVarScope().inClassFieldInit};Zu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&Av)return!1;if(t.flags&gg)return(t.flags&qL)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Zu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&WL)>0||n||this.options.allowSuperOutsideMethod};Zu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Soe)>0};Zu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Zu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(gg|Av))>0||n};Zu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Av)>0};si.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};si.parse=function(t,n){return new this(n,t).parse()};si.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};si.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(si.prototype,Zu);var Ts=si.prototype,LXe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ts.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Ho.lastIndex=e,e+=Ho.exec(this.input)[0].length;var t=LXe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Ho.lastIndex=e+t[0].length;var n=Ho.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ha.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Ho.lastIndex=e,e+=Ho.exec(this.input)[0].length,this.input[e]===";"&&e++}};Ts.eat=function(e){return this.type===e?(this.next(),!0):!1};Ts.isContextual=function(e){return this.type===L.name&&this.value===e&&!this.containsEsc};Ts.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Ts.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Ts.canInsertSemicolon=function(){return this.type===L.eof||this.type===L.braceR||ha.test(this.input.slice(this.lastTokEnd,this.start))};Ts.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ts.semicolon=function(){!this.eat(L.semi)&&!this.insertSemicolon()&&this.unexpected()};Ts.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Ts.expect=function(e){this.eat(e)||this.unexpected()};Ts.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var oA=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ts.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Ts.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Ts.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ts.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var st=si.prototype;st.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==L.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var QL={kind:"loop"},MXe={kind:"switch"};st.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ho.lastIndex=this.pos;var t=Ho.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Kl(r,!0)){for(var i=n+1;Dm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!AXe.test(s))return!0}return!1};st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ho.lastIndex=this.pos;var e=Ho.exec(this.input),t=this.pos+e[0].length,n;return!ha.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Dm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};st.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=L._var,s="let"),r){case L._break:case L._continue:return this.parseBreakContinueStatement(i,r.keyword);case L._debugger:return this.parseDebuggerStatement(i);case L._do:return this.parseDoStatement(i);case L._for:return this.parseForStatement(i);case L._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case L._class:return e&&this.unexpected(),this.parseClass(i,!0);case L._if:return this.parseIfStatement(i);case L._return:return this.parseReturnStatement(i);case L._switch:return this.parseSwitchStatement(i);case L._throw:return this.parseThrowStatement(i);case L._try:return this.parseTryStatement(i);case L._const:case L._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case L._while:return this.parseWhileStatement(i);case L._with:return this.parseWithStatement(i);case L.braceL:return this.parseBlock(!0,i);case L.semi:return this.parseEmptyStatement(i);case L._export:case L._import:if(this.options.ecmaVersion>10&&r===L._import){Ho.lastIndex=this.pos;var o=Ho.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===L._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===L.name&&c.type==="Identifier"&&this.eat(L.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};st.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(L.semi)||this.insertSemicolon()?e.label=null:this.type!==L.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};st.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};st.parseDoStatement=function(e){return this.next(),this.labels.push(QL),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(L._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(L.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};st.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(QL),this.enterScope(0),this.expect(L.parenL),this.type===L.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===L._var||this.type===L._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new oA,u=this.parseExpression(t>-1?"await":!0,a);return this.type===L._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};st.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,my|(n?0:xk),!1,t)};st.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(L._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};st.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(L.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};st.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(L.braceL),this.labels.push(MXe),this.enterScope(0);for(var t,n=!1;this.type!==L.braceR;)if(this.type===L._case||this.type===L._default){var r=this.type===L._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(L.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};st.parseThrowStatement=function(e){return this.next(),ha.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var FXe=[];st.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Toe:0),this.checkLValPattern(e,t?Ioe:dc),this.expect(L.parenR),e};st.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===L._catch){var t=this.startNode();this.next(),this.eat(L.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(L._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};st.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};st.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(QL),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};st.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};st.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};st.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===L._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};st.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};st.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(L.braceL),e&&this.enterScope(0);this.type!==L.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};st.parseFor=function(e,t){return e.init=t,this.expect(L.semi),e.test=this.type===L.semi?null:this.parseExpression(),this.expect(L.semi),e.update=this.type===L.parenR?null:this.parseExpression(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};st.parseForIn=function(e,t){var n=this.type===L._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};st.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(L.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===L._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(L.comma))break}return e};st.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?KL:dc,!1)};var my=1,xk=2,Coe=4;st.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===L.star&&t&xk&&this.unexpected(),e.generator=this.eat(L.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&my&&(e.id=t&Coe&&this.type!==L.name?null:this.parseIdent(),e.id&&!(t&xk)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?KL:dc:xoe));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(GL(e.async,e.generator)),t&my||(e.id=this.type===L.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&my?"FunctionDeclaration":"FunctionExpression")};st.parseFunctionParams=function(e){this.expect(L.parenL),e.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};st.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(L.braceL);this.type!==L.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&BXe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};st.parseClassElement=function(e){if(this.eat(L.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(L.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===L.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===L.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(L.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===L.parenL||o!=="method"||i||s){var l=!n.static&&AS(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};st.isClassElementNameStart=function(){return this.type===L.name||this.type===L.privateId||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword};st.parseClassElementName=function(e){this.type===L.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};st.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&AS(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};st.parseClassField=function(e){if(AS(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&AS(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(L.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};st.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(Av|WL);this.type!==L.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};st.parseClassId=function(e,t){this.type===L.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,dc,!1)):(t===!0&&this.unexpected(),e.id=null)};st.parseClassSuper=function(e){e.superClass=this.eat(L._extends)?this.parseExprSubscripts(null,!1):null};st.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};st.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];Iv(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function BXe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function AS(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}st.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};st.parseExport=function(e,t){if(this.next(),this.eat(L.star))return this.parseExportAllDeclaration(e,t);if(this.eat(L._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};st.parseExportDeclaration=function(e){return this.parseStatement(null)};st.parseExportDefaultDeclaration=function(){var e;if(this.type===L._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,my|Coe,!1,e)}else if(this.type===L._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};st.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Iv(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};st.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};st.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};st.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};st.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};st.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(L.braceL);!this.eat(L.braceR);){if(n)n=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;t.push(this.parseExportSpecifier(e))}return t};st.parseImport=function(e){return this.next(),this.type===L.string?(e.specifiers=FXe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===L.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};st.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,dc),this.finishNode(e,"ImportSpecifier")};st.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,dc),this.finishNode(e,"ImportDefaultSpecifier")};st.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,dc),this.finishNode(e,"ImportNamespaceSpecifier")};st.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===L.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(L.comma)))return e;if(this.type===L.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(L.braceL);!this.eat(L.braceR);){if(t)t=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;e.push(this.parseImportSpecifier())}return e};st.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===L.string){var e=this.parseLiteral(this.value);return NXe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};st.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};st.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pa=si.prototype;pa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};pa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};pa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};pa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==L.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};pa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case L.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(L.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case L.braceL:return this.parseObj(!0)}return this.parseIdent()};pa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(L.comma),t&&this.type===L.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===L.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};pa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};pa.parseBindingListItem=function(e){return e};pa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(L.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};pa.checkLValSimple=function(e,t,n){t===void 0&&(t=IS);var r=t!==IS;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===dc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(Iv(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Aoe&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};pa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=IS),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};pa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=IS),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ba=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},dr={b_stat:new ba("{",!1),b_expr:new ba("{",!0),b_tmpl:new ba("${",!1),p_stat:new ba("(",!1),p_expr:new ba("(",!0),q_tmpl:new ba("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ba("function",!1),f_expr:new ba("function",!0),f_expr_gen:new ba("function",!0,!1,null,!0),f_gen:new ba("function",!1,!1,null,!0)},yg=si.prototype;yg.initialContext=function(){return[dr.b_stat]};yg.curContext=function(){return this.context[this.context.length-1]};yg.braceIsBlock=function(e){var t=this.curContext();return t===dr.f_expr||t===dr.f_stat?!0:e===L.colon&&(t===dr.b_stat||t===dr.b_expr)?!t.isExpr:e===L._return||e===L.name&&this.exprAllowed?ha.test(this.input.slice(this.lastTokEnd,this.start)):e===L._else||e===L.semi||e===L.eof||e===L.parenR||e===L.arrow?!0:e===L.braceL?t===dr.b_stat:e===L._var||e===L._const||e===L.name?!1:!this.exprAllowed};yg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};yg.updateContext=function(e){var t,n=this.type;n.keyword&&e===L.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};yg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};L.parenR.updateContext=L.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===dr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};L.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?dr.b_stat:dr.b_expr),this.exprAllowed=!0};L.dollarBraceL.updateContext=function(){this.context.push(dr.b_tmpl),this.exprAllowed=!0};L.parenL.updateContext=function(e){var t=e===L._if||e===L._for||e===L._with||e===L._while;this.context.push(t?dr.p_stat:dr.p_expr),this.exprAllowed=!0};L.incDec.updateContext=function(){};L._function.updateContext=L._class.updateContext=function(e){e.beforeExpr&&e!==L._else&&!(e===L.semi&&this.curContext()!==dr.p_stat)&&!(e===L._return&&ha.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===L.colon||e===L.braceL)&&this.curContext()===dr.b_stat)?this.context.push(dr.f_expr):this.context.push(dr.f_stat),this.exprAllowed=!1};L.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};L.backQuote.updateContext=function(){this.curContext()===dr.q_tmpl?this.context.pop():this.context.push(dr.q_tmpl),this.exprAllowed=!1};L.star.updateContext=function(e){if(e===L._function){var t=this.context.length-1;this.context[t]===dr.f_expr?this.context[t]=dr.f_expr_gen:this.context[t]=dr.f_gen}this.exprAllowed=!0};L.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==L.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var wt=si.prototype;wt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};wt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===L.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(L.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};wt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new oA,r=!0);var a=this.start,u=this.startLoc;(this.type===L.parenL||this.type===L.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===L.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===L.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};wt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(L.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(L.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};wt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};wt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==L._in)&&s>r){var o=this.type===L.logicalOR||this.type===L.logicalAND,a=this.type===L.coalesce;a&&(s=L.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===L.coalesce||a&&(this.type===L.logicalOR||this.type===L.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};wt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};wt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===L.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Ooe(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===L.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==L._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(L.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Ooe(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Ooe(e.expression)}wt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};wt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};wt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(L.arrow)};wt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};wt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(L.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(L.bracketL);if(l||u&&this.type!==L.parenL&&this.type!==L.backQuote||this.eat(L.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(L.bracketR)):this.type===L.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(L.parenL)){var f=new oA,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===L.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};wt.parseExprAtom=function(e,t,n){this.type===L.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case L._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===L.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==L.dot&&this.type!==L.bracketL&&this.type!==L.parenL&&this.unexpected(),this.finishNode(r,"Super");case L._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case L.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(L._function))return this.overrideContext(dr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(L.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===L.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(L.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case L.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case L.num:case L.string:return this.parseLiteral(this.value);case L._null:case L._true:case L._false:return r=this.startNode(),r.value=this.type===L._null?null:this.type===L._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case L.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case L.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(L.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case L.braceL:return this.overrideContext(dr.b_expr),this.parseObj(!1,e);case L._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case L._class:return this.parseClass(this.startNode(),!1);case L._new:return this.parseNew();case L.backQuote:return this.parseTemplate();case L._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};wt.parseExprAtomDefault=function(){this.unexpected()};wt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===L.parenL&&!e)return this.parseDynamicImport(t);if(this.type===L.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};wt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(L.parenR)){var t=this.start;this.eat(L.comma)&&this.eat(L.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};wt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};wt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};wt.parseParenExpression=function(){this.expect(L.parenL);var e=this.parseExpression();return this.expect(L.parenR),e};wt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};wt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new oA,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==L.parenR;)if(l?l=!1:this.expect(L.comma),s&&this.afterTrailingComma(L.parenR,!0)){c=!0;break}else if(this.type===L.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(L.parenR),e&&this.shouldParseArrow(u)&&this.eat(L.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};wt.parseParenItem=function(e){return e};wt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var jXe=[];wt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===L.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(L.parenL)?e.arguments=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1):e.arguments=jXe,this.finishNode(e,"NewExpression")};wt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===L.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===L.backQuote,this.finishNode(n,"TemplateElement")};wt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===L.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(L.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(L.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};wt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===L.name||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===L.star)&&!ha.test(this.input.slice(this.lastTokEnd,this.start))};wt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(L.braceR);){if(r)r=!1;else if(this.expect(L.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(L.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};wt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(L.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===L.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(L.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(L.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};wt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};wt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===L.colon&&this.unexpected(),this.eat(L.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===L.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==L.comma&&this.type!==L.braceR&&this.type!==L.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===L.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};wt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(L.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(L.bracketR),e.key;e.computed=!1}return e.key=this.type===L.num||this.type===L.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};wt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};wt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(GL(t,r.generator)|WL|(n?Soe:0)),this.expect(L.parenL),r.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};wt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(GL(n,!1)|Eoe),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};wt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==L.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Aoe),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};wt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};wt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,KL,t?null:n)}};wt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(L.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===L.comma?o=null:this.type===L.ellipsis?(o=this.parseSpread(r),r&&this.type===L.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};wt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};wt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};wt.parseIdentNode=function(){var e=this.startNode();return this.type===L.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=L.name):this.unexpected(),e};wt.parsePrivateIdent=function(){var e=this.startNode();return this.type===L.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};wt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===L.semi||this.canInsertSemicolon()||this.type!==L.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(L.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};wt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var CS=si.prototype;CS.raise=function(e,t){var n=boe(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};CS.raiseRecoverable=CS.raise;CS.curPosition=function(){if(this.options.locations)return new d_(this.curLine,this.pos-this.lineStart)};var qf=si.prototype,UXe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};qf.enterScope=function(e){this.scopeStack.push(new UXe(e))};qf.exitScope=function(){this.scopeStack.pop()};qf.treatFunctionsAsVarInScope=function(e){return e.flags&gg||!this.inModule&&e.flags&h_};qf.declareName=function(e,t,n){var r=!1;if(t===dc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&h_&&delete this.undefinedExports[e]}else if(t===Ioe){var s=this.currentScope();s.lexical.push(e)}else if(t===xoe){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Toe&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&h_&&delete this.undefinedExports[e],u.flags&YL)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};qf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};qf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};qf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&YL)return t}};qf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&YL&&!(t.flags&Eoe))return t}};var aA=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new sA(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},Cv=si.prototype;Cv.startNode=function(){return new aA(this,this.start,this.startLoc)};Cv.startNodeAt=function(e,t){return new aA(this,e,t)};function Poe(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}Cv.finishNode=function(e,t){return Poe.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};Cv.finishNodeAt=function(e,t,n,r){return Poe.call(this,e,t,n,r)};Cv.copyNode=function(e){var t=new aA(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Roe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",koe=Roe+" Extended_Pictographic",Noe=koe,Doe=Noe+" EBase EComp EMod EPres ExtPict",$oe=Doe,VXe=$oe,zXe={9:Roe,10:koe,11:Noe,12:Doe,13:$oe,14:VXe},HXe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",qXe={9:"",10:"",11:"",12:"",13:"",14:HXe},G7="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Loe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Moe=Loe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Foe=Moe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Boe=Foe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",joe=Boe+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",WXe=joe+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",YXe={9:Loe,10:Moe,11:Foe,12:Boe,13:joe,14:WXe},Uoe={};function GXe(e){var t=Uoe[e]={binary:zc(zXe[e]+" "+G7),binaryOfStrings:zc(qXe[e]),nonBinary:{General_Category:zc(G7),Script:zc(YXe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var mP=0,K7=[9,10,11,12,13,14];mP<K7.length;mP+=1){var KXe=K7[mP];GXe(KXe)}var Ze=si.prototype,el=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Uoe[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};el.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};el.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};el.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};el.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};el.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};el.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};el.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};el.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};el.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Ze.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Ze.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Ze.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Ze.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Ze.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Ze.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Ze.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Ze.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Ze.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Ze.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Ze.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Ze.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Ze.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Ze.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Ze.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Ze.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Ze.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Voe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Voe(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Ze.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Voe(n);)e.advance();return e.pos!==t};Ze.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Ze.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Ze.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Ze.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=xf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=xf(e.lastIntValue);return!0}return!1};Ze.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),QXe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function QXe(e){return Kl(e,!0)||e===36||e===95}Ze.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),XXe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function XXe(e){return Dm(e,!0)||e===36||e===95||e===8204||e===8205}Ze.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Ze.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Ze.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Ze.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Ze.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Ze.regexp_eatZero=function(e){return e.current()===48&&!uA(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Ze.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Ze.regexp_eatControlLetter=function(e){var t=e.current();return zoe(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function zoe(e){return e>=65&&e<=90||e>=97&&e<=122}Ze.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&JXe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function JXe(e){return e>=0&&e<=1114111}Ze.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Ze.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Hoe=0,Ql=1,qo=2;Ze.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(ZXe(t))return e.lastIntValue=-1,e.advance(),Ql;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===qo&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Hoe};function ZXe(e){return e===100||e===68||e===115||e===83||e===119||e===87}Ze.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Ql}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Hoe};Ze.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){Iv(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Ze.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Ql;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return qo;e.raise("Invalid property name")};Ze.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";qoe(t=e.current());)e.lastStringValue+=xf(t),e.advance();return e.lastStringValue!==""};function qoe(e){return zoe(e)||e===95}Ze.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";eJe(t=e.current());)e.lastStringValue+=xf(t),e.advance();return e.lastStringValue!==""};function eJe(e){return qoe(e)||uA(e)}Ze.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Ze.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===qo&&e.raise("Negated character class may contain strings"),!0}return!1};Ze.regexp_classContents=function(e){return e.current()===93?Ql:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Ql)};Ze.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Ze.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Goe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Ze.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Ze.regexp_classSetExpression=function(e){var t=Ql,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===qo&&(t=qo);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==qo&&(t=Ql);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===qo&&(t=qo)}};Ze.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Ze.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Ql:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Ze.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===qo&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Ze.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Ze.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===qo&&(t=qo);return t};Ze.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Ql:qo};Ze.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&tJe(n)||nJe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function tJe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function nJe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Ze.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return rJe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function rJe(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Ze.regexp_eatClassControlLetter=function(e){var t=e.current();return uA(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Ze.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Ze.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;uA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function uA(e){return e>=48&&e<=57}Ze.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Woe(n=e.current());)e.lastIntValue=16*e.lastIntValue+Yoe(n),e.advance();return e.pos!==t};function Woe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Yoe(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Ze.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Ze.regexp_eatOctalDigit=function(e){var t=e.current();return Goe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Goe(e){return e>=48&&e<=55}Ze.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Woe(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Yoe(i),e.advance()}return!0};var XL=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new sA(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Zt=si.prototype;Zt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new XL(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Zt.getToken=function(){return this.next(),new XL(this)};typeof Symbol<"u"&&(Zt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===L.eof,value:t}}}});Zt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(L.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Zt.readToken=function(e){return Kl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Zt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Zt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=yoe(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Zt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!mg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Zt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&_oe.test(String.fromCharCode(e)))++this.pos;else break e}}};Zt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Zt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(L.ellipsis)):(++this.pos,this.finishToken(L.dot))};Zt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(L.assign,2):this.finishOp(L.slash,1)};Zt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?L.star:L.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=L.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(L.assign,n+1):this.finishOp(r,n)};Zt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(L.assign,3)}return this.finishOp(e===124?L.logicalOR:L.logicalAND,2)}return t===61?this.finishOp(L.assign,2):this.finishOp(e===124?L.bitwiseOR:L.bitwiseAND,1)};Zt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(L.assign,2):this.finishOp(L.bitwiseXOR,1)};Zt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ha.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(L.incDec,2):t===61?this.finishOp(L.assign,2):this.finishOp(L.plusMin,1)};Zt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(L.assign,n+1):this.finishOp(L.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(L.relational,n))};Zt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(L.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(L.arrow)):this.finishOp(e===61?L.eq:L.prefix,1)};Zt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(L.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(L.assign,3)}return this.finishOp(L.coalesce,2)}}return this.finishOp(L.question,1)};Zt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Kl(t,!0)||t===92))return this.finishToken(L.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+xf(t)+"'")};Zt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(L.parenL);case 41:return++this.pos,this.finishToken(L.parenR);case 59:return++this.pos,this.finishToken(L.semi);case 44:return++this.pos,this.finishToken(L.comma);case 91:return++this.pos,this.finishToken(L.bracketL);case 93:return++this.pos,this.finishToken(L.bracketR);case 123:return++this.pos,this.finishToken(L.braceL);case 125:return++this.pos,this.finishToken(L.braceR);case 58:return++this.pos,this.finishToken(L.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(L.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(L.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+xf(e)+"'")};Zt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Zt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ha.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new el(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(L.regexp,{pattern:i,flags:o,value:u})};Zt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function iJe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Koe(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Zt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Koe(this.input.slice(t,this.pos)),++this.pos):Kl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,n)};Zt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Koe(this.input.slice(t,this.pos));return++this.pos,Kl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Kl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=iJe(this.input.slice(t,this.pos),n);return this.finishToken(L.num,s)};Zt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Zt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(mg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(L.string,t)};var Qoe={};Zt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Qoe)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Zt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Qoe;this.raise(e,t)};Zt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===L.template||this.type===L.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(L.dollarBraceL)):(++this.pos,this.finishToken(L.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(L.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(mg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Zt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(L.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Zt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return xf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return mg(t)?"":String.fromCharCode(t)}};Zt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Zt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Dm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Kl:Dm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=xf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Zt.readWord=function(){var e=this.readWord1(),t=L.name;return this.keywords.test(e)&&(t=HL[e]),this.finishToken(t,e)};var sJe="8.11.2";si.acorn={Parser:si,version:sJe,defaultOptions:Sk,Position:d_,SourceLocation:sA,getLineInfo:boe,Node:aA,TokenType:hn,tokTypes:L,keywordTypes:HL,TokContext:ba,tokContexts:dr,isIdentifierChar:Dm,isIdentifierStart:Kl,Token:XL,isNewLine:mg,lineBreak:ha,lineBreakG:PXe,nonASCIIwhitespace:_oe};function oJe(e,t){return si.parse(e,t)}const JL={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},aJe={ecmaVersion:11},Q7="$",uJe="d",lJe="d1",cJe="d2",Ii=e=>(t,n)=>n.error(t,e+" not allowed"),fJe=Ii("Aggregate function"),dJe=Ii("Window function"),hJe="Invalid argument",ZL="Invalid column reference",pJe=ZL+" (must be input to an aggregate function)",Xoe="Invalid function call",mJe="Invalid member expression",gJe="Invalid operator parameter",yJe="Invalid param reference",_Je="Invalid variable reference",vJe="Variable not accessible in operator call",bJe="Unsupported variable declaration",wJe="Unsupported destructuring pattern",Joe="Table expressions do not support closures",Zoe="Use aq.escape(fn) to use a function as-is (including closures)",EJe="use table.params({ name: value }) to define dynamic parameters",TJe="use aq.addFunction(name, fn) to add new op functions",SJe=`
Note: ${Joe}. ${Zoe}, or ${EJe}.`,eae=`
Note: ${Joe}. ${Zoe}, or ${TJe}.`,xJe=`The ${cie} method is not valid in multi-table expressions.`;function IJe(e,t){const n=AJe(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,bXe(r)?(OJe(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=lJe),e.scope.add(e.tuple2=cJe),e.scope.add(e.$param=Q7)):(e.scope.add(e.tuple=uJe),e.scope.add(e.$param=Q7)),dn(r,e,e6),e.root}function AJe(e){try{const t=e.field?CJe(e):vn(e)?Bu(e):e;return oJe(`expr=(${t})`,aJe).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function CJe(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const e6={FunctionDeclaration:Ii("Function definitions"),ForStatement:Ii("For loops"),ForOfStatement:Ii("For-of loops"),ForInStatement:Ii("For-in loops"),WhileStatement:Ii("While loops"),DoWhileStatement:Ii("Do-while loops"),AwaitExpression:Ii("Await expressions"),ArrowFunctionExpression:Ii("Function definitions"),AssignmentExpression:Ii("Assignments"),FunctionExpression:Ii("Function definitions"),NewExpression:Ii('Use of "new"'),UpdateExpression:Ii("Update expressions"),VariableDeclarator(e,t){Ck(e.id,t)},Identifier(e,t,n){rae(e,t,n)&&!t.scope.has(e.name)&&t.error(e,_Je,SJe)},CallExpression(e,t){const n=tae(e.callee),r=aie(n)||uie(n);if(r){if((t.join||t.aggregate===!1)&&H3(n)&&fJe(e,t),(t.join||t.window===!1)&&q3(n)&&dJe(e,t),t.$op=1,t.ast)Ak(e,n,t),e.arguments.forEach(i=>dn(i,t,Ik));else{const i=t.op(PJe(t,r,n,e.arguments));Object.assign(e,{type:nie,name:i.id})}return t.$op=0,!1}else oie(n)?Ak(e,n,t):t.error(e,Xoe,eae)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!ei(af,r))return;const{name:s}=r;if(nae(e)&&ei(af,i)&&Ua(JL,i.name)){oae(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return X7(e,o,t,iae,n);if(s===t.$param)return X7(e,o,t,kJe);t.paramsRef.has(s)?p_(e,t.paramsRef.get(s)):t.columnRef.has(s)?sae(r,s,t,e):Ua(t.params,s)&&p_(r,s)}};function X7(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(ei(fg,s))a=s.value;else try{dn(s,n,e6,e),a=n.param(s)}catch{n.error(e,mJe)}return r(e,a,t,n,i),!1}const Ik={...e6,VariableDeclarator:Ii("Variable declaration in operator call"),Identifier(e,t,n){rae(e,t,n)&&t.error(e,vJe)},CallExpression(e,t){const n=tae(e.callee);oie(n)?Ak(e,n,t):t.error(e,Xoe,eae)}};function OJe(e,t){e.generator&&Ii("Generator functions")(e,t),e.async&&Ii("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(f0(t,n[0],"tuple1",i(1)),r>1&&f0(t,n[1],"tuple2",i(2)),r>2&&f0(t,n[2],"$param",s)):(f0(t,n[0],"tuple",i(0)),r>1&&f0(t,n[1],"$param",s))),t.root=e.body}function f0(e,t,n,r){ei(af,t)?(e.scope.add(t.name),e[n]=t.name):ei(eie,t)&&t.properties.forEach(i=>{const s=ei(af,i.key)?i.key.name:ei(fg,i.key)?i.key.value:e.error(i,hJe);ei(af,i.value)||e.error(i.value,wJe),r(i.value.name,s)})}function PJe(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(dn(u,e,Ik),i.push(e.field(u))):l<a?(dn(u,e,Ik),s.push(e.param(u))):e.error(u,gJe)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function tae(e){return ei(af,e)?e.name:ei(Zre,e)?nae(e)?RJe(e.property.name):e.property.name:null}function nae(e){return ei(af,e.object)&&e.object.name==="Math"}function RJe(e){return e==="max"?"greatest":e==="min"?"least":e}function rae(e,t,n){const{name:r}=e;if(!(ei(Zre,n)&&n.property===e)){if(!(ei(tie,n)&&n.key===e))if(t.paramsRef.has(r))p_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))sae(e,r,t,n);else if(Ua(t.params,r))p_(e,r);else if(Ua(JL,r))oae(e,r);else return!0}}function iae(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,ZL),r.aggronly&&!r.$op&&r.error(e,pJe),lie(e,t,n,o,i)}function sae(e,t,n,r){const[i,s]=n.columnRef.get(t);iae(e,i,s,n,r)}function kJe(e,t,n,r){r.params&&!Ua(r.params,t)&&r.error(e,yJe),p_(e,t)}function p_(e,t){e.type=TYe,e.name=t}function oae(e,t){e.type=bYe,e.name=t,e.raw=JL[t]}function Ak(e,t,n){if(t===cie){const r=n.table;r||n.error(e,xJe),fie(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=vs(s)?r.columnName(s):s;return r.column(o)||n.error(i,ZL),o}):r.columnNames())}else e.callee={type:EYe,name:t}}function Ck(e,t){ei(af,e)?t.scope.add(e.name):ei(gYe,e)?e.elements.forEach(n=>Ck(n,t)):ei(eie,e)?e.properties.forEach(n=>Ck(n.value,t)):t.error(e.id,bJe)}const NJe={[wv]:1,[nie]:1};function to(e,t={}){const n=t.generate||uS,r=t.compiler||W3,i=$Je(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=DJe(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return ei(fg,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?vXe(y):f(n(y),i));u.push(g),NJe[y.type]&&g!==y&&ss(g)&&(g.field=y.name)},error(m,y,g=""){const _=m.start-6,v=m.end-6,E=String(d.spec).slice(_,v);jt(`${y}: "${E}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of qI(e))d.value(m+"",y.escape?TXe(d,y,i):IJe(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function DJe(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function $Je(e){return(e.table?gP(e.table):e.join?{...gP(e.join[1]),...gP(e.join[0])}:{})||{}}function gP(e){return e&&rr(e.params)?e.params():{}}const aae="Expr",wa="ExprList",uae="ExprNumber",k0="ExprObject",Sp="JoinKeys",OS="JoinValues",Mo="Options",t6="OrderKeys",Tc="SelectionList",md="TableRef",xp="TableRefList",LJe="Descending",MJe="Query",FJe="Selection",BJe="Verb",jJe="Window";function lA(e,t){return e&&e.expr?new J7({...e,...t}):new J7(t,e)}class J7{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...rr(this.expr)?{func:!0}:{}}}}function UJe(e){return lA(e,{desc:!0})}function ih(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return lA(e,t?{expr:t,...r}:r)}function VJe(e,t,n){return lA(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function zJe(e){const t=n=>n;return t.toString=()=>e,t}function Z7(e,t){return t=t&&rr(t.query)?t.query():t,t&&rr(t.evaluate)?t.evaluate(null,e):e(t)}function lae(e){return ss(e)&&(vn(e.all)||vn(e.matches)||vn(e.not)||vn(e.range))}function m_(e){return e&&rr(e.toObject)?e.toObject():rr(e)?{expr:String(e),func:!0}:vn(e)?e.map(m_):ss(e)?rA(e,t=>m_(t)):e}function n6(e){return vn(e)?e.map(n6):ss(e)?vn(e.verbs)?i6.from(e):vn(e.all)?Nm():vn(e.range)?pXe(...e.range):vn(e.match)?mXe(RegExp(...e.match)):vn(e.not)?hoe(e.not.map(m_)):HJe(e):e}function HJe(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=ih(n):e.func===!0&&(t=n=zJe(n)),ss(e.window)){const{frame:r,peers:i}=e.window;t=n=VJe(n,r,i)}e.desc===!0&&(t=UJe(n))}return e===t?rA(e,r=>n6(r)):t}function qJe(e){return vn(e)?e.map(WJe):e}function WJe(e){const t=[];return Zs(e).forEach(n=>{vs(n)?t.push(n):ji(n)?t.push(ih(n,null)):ss(n)&&n.expr||rr(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function YJe(e){return vn(e)?e.map(GJe):e}function GJe(e,t){return t<2?Zs(e):e}function KJe(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(ss(r)&&!rr(r))for(const i in r)t.push(r[i]);else n=vs(r)?r:ji(r)?ih(n):rr(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const QJe={[aae]:hae,[wa]:$m,[uae]:nZe,[k0]:If,[Sp]:rZe,[OS]:iZe,[t6]:$m,[Tc]:eZe};function XJe(e,t,n){return t===md?ez(e):t===xp?e.map(ez):cae(m_(e),t,n)}function cae(e,t,n){return t===Mo?e&&JJe(e,n):QJe[t](e)}function JJe(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?cae(i,t[r]):i}return n}function ZJe(e,t){return to({expr:e},{...t,ast:!0}).exprs[0]}function r6(e){return{type:wv,name:e}}function fae(e){return{type:wv,index:e}}function If(e,t){if(ji(e))return ZJe(e,t);if(e.expr){let n;if(e.field===!0?n=r6(e.expr):e.func===!0&&(n=If(e.expr,t)),n)return e.desc&&(n={type:LJe,expr:n}),e.window&&(n={type:jJe,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...If(e[n],t),as:n}))}function dae(e){const t=FJe;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:$m(e.not)}:e.range?{type:t,operator:"range",arguments:$m(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function eZe(e){return Zs(e).map(tZe).flat()}function tZe(e){return lae(e)?dae(e):vs(e)?fae(e):ji(e)?r6(e):ss(e)?Object.keys(e).map(t=>({type:wv,name:t,as:e[t]})):jt("Invalid input")}function hae(e){return lae(e)?dae(e):vs(e)?fae(e):ji(e)?r6(e):ss(e)?If(e):jt("Invalid input")}function $m(e){return Zs(e).map(hae).flat()}function nZe(e){return vs(e)?e:If(e)}function rZe(e){return vn(e)?e.map($m):If(e,{join:!0})}function iZe(e){return vn(e)?e.map((t,n)=>n<2?$m(t):If(t,{join:!0})):If(e,{join:!0})}function ez(e){return e&&rr(e.toAST)?e.toAST():e}class pae{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===Sp?qJe(a):o===OS?YJe(a):o===t6?KJe(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=Ok[t.verb],r=(n.schema||[]).map(({name:i})=>n6(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===md?Z7(n,o):s===xp?o.map(a=>Z7(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=m_(this[n])}),t}toAST(){const t={type:BJe,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=XJe(this[n],r,i)}),t}}function Mn(e,t){return Object.assign((...n)=>new pae(e,t,n),{schema:t})}const Ok={count:Mn("count",[{name:"options",type:Mo}]),derive:Mn("derive",[{name:"values",type:k0},{name:"options",type:Mo,props:{before:Tc,after:Tc}}]),filter:Mn("filter",[{name:"criteria",type:k0}]),groupby:Mn("groupby",[{name:"keys",type:wa}]),orderby:Mn("orderby",[{name:"keys",type:t6}]),relocate:Mn("relocate",[{name:"columns",type:Tc},{name:"options",type:Mo,props:{before:Tc,after:Tc}}]),rename:Mn("rename",[{name:"columns",type:Tc}]),rollup:Mn("rollup",[{name:"values",type:k0}]),sample:Mn("sample",[{name:"size",type:uae},{name:"options",type:Mo,props:{weight:aae}}]),select:Mn("select",[{name:"columns",type:Tc}]),ungroup:Mn("ungroup"),unorder:Mn("unorder"),reify:Mn("reify"),dedupe:Mn("dedupe",[{name:"keys",type:wa,default:[]}]),impute:Mn("impute",[{name:"values",type:k0},{name:"options",type:Mo,props:{expand:wa}}]),fold:Mn("fold",[{name:"values",type:wa},{name:"options",type:Mo}]),pivot:Mn("pivot",[{name:"keys",type:wa},{name:"values",type:wa},{name:"options",type:Mo}]),spread:Mn("spread",[{name:"values",type:wa},{name:"options",type:Mo}]),unroll:Mn("unroll",[{name:"values",type:wa},{name:"options",type:Mo,props:{drop:wa}}]),lookup:Mn("lookup",[{name:"table",type:md},{name:"on",type:Sp},{name:"values",type:wa}]),join:Mn("join",[{name:"table",type:md},{name:"on",type:Sp},{name:"values",type:OS},{name:"options",type:Mo}]),cross:Mn("cross",[{name:"table",type:md},{name:"values",type:OS},{name:"options",type:Mo}]),semijoin:Mn("semijoin",[{name:"table",type:md},{name:"on",type:Sp}]),antijoin:Mn("antijoin",[{name:"table",type:md},{name:"on",type:Sp}]),concat:Mn("concat",[{name:"tables",type:xp}]),union:Mn("union",[{name:"tables",type:xp}]),intersect:Mn("intersect",[{name:"tables",type:xp}]),except:Mn("except",[{name:"tables",type:xp}])};let i6=class mae extends jre{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new mae(t.map(pae.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return tz(this,"toObject")}toJSON(){return this.toObject()}toAST(){return tz(this,"toAST",{type:MJe})}};function tz(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function sZe(e,t){return new i6(e._verbs.concat(t),e._params,e._table)}for(const e in Ok){const t=Ok[e];i6.prototype["__"+e]=function(n,...r){return sZe(n,t(...r))}}function _g(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function oZe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function s6(e,t){const n=Ro();return t.forEach((r,i)=>{const s=ji(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function gae(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=Gl(e,t);const o=[...Gl(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),s6(e,u)}function Ov(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function o6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aZe(e,t=0,n=e.length){let r=n?e[t++]:pn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function uZe(e,t=0,n=e.length){let r=n?e[t++]:pn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function eb(e){return o_(e)?e:+e}function lZe(e,t){const n=e.length;if(!n)return pn;if((t=+t)<=0||n<2)return eb(e[0]);if(t>=1)return eb(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=eb(e[i]);return o_(s)?s:s+(eb(e[i+1])-s)*(r-i)}class cZe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:aZe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:uZe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(o6)),lZe(this._sorted,t)}}const PS=(e,t,n)=>_g(t,"{"+Ov(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function fZe(e,t){const{ops:n,output:r}=dZe(e,t),i=e[0].fields,s=i.length,o=s===0?a6:s===1?hZe:s===2?pZe:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function dZe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=aie(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class a6 extends yXe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new cZe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class hZe extends a6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=PS(n,s,"add"),this._rem=PS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,ka(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,ka(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class pZe extends a6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=PS(n,s,"add"),this._rem=PS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,ka(i)&&ka(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,ka(i)&&ka(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Oh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=vg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function vg(e,t,n){if(!t.length)return n;const r=yae(t),i=e.groups(),s=i?i.size:1;return n=n||zI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=vae(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=_ae(e,o);o.write(a,n,0)}),n}function yae(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(fZe(r[i],t));return n}function _ae(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function vae(e,t,n){const{keys:r,size:i}=n,s=zI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function bae(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function wae(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const nz=wae(o6);function mZe(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?_g(["w","r","k"],"{"+Ov(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,_){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=_,a=i?i.map(v=>v.init()):null;for(let v=0;v<f;++v)r[v].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,_=p.size,v=p.i0,E=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(_,m+Math.abs(g)+1):_,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=nz.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=nz.right(o,o[p.i1-1])));for(let S=0;S<d;++S){const w=i[S],x=a[S];for(let I=v;I<p.i0;++I)w.rem(x,s[I],e);for(let I=E;I<p.i1;++I)w.add(x,s[I],e);w.write(x,u,l)}return h(p,u,l),u}};return p}const gZe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),yZe=e=>!!e.peers;function _Ze(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=uie(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function vZe(e,t,n,r={},i){const s=e.data(),o=bZe(i,s),a=o.length,u=_g(["r","d","op"],"{"+Ov(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=wZe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function bZe(e,t){const n={};return e.forEach(r=>{const i=gZe(r),s=yZe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});H3(r.name)?a.push(r):u.push(_Ze(r))}),Object.values(n).map(r=>mZe(t,r.frame,r.peers,r.winOps,yae(r.aggOps,r.frame[0]!=null?-1:1)))}function wZe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function EZe(e){return q3(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function u6(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Ro(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=TZe(r),c=e.isGrouped()?e.groups().size:1,f=vg(e,u,zI(r.length,()=>Array(c)));return l.length?vZe(e,a,n,f,l):SZe(e,a,n,f),e.create(o)}function TZe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(EZe(s)?n:t).push(s)}return[t,n]}function SZe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function xZe(e,t,n={}){const r=u6(e,to(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:gae(r,Object.keys(t).filter(i=>!e.column(i)),n)}function IZe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const tb=2147483648,AZe=4294967295;class Eae{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&tb>>>t}set(t){this._bits[t>>5]|=tb>>>t}clear(t){this._bits[t>>5]&=~(tb>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&AZe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=tb>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function CZe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Eae(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function OZe(e,t){const n=to({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=u6(e,n,{drop:!0}).column("p");r=s=>i[s]}return CZe(e,r)}function Tae(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=Oh(e,r,n),l=Ro(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(E=>{if(!a.has(E)){const S=l.add(E,[]);c.has(E)||(f.push(e.column(E)),d.push(S))}}),t.forEach(E=>{a.has(E)||(l.has(E)||l.add(E,[]),h.push(l.data[E]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,_=(E,S)=>{for(let w=0;w<y;++w)d[w].length=m+S,d[w].fill(f[w].get(E),m,m+S)},v=p?(E,S)=>{for(let w=0;w<S;++w)p[E+w]=w}:()=>{};if(g===1){const E=u[0],S=h[0];e.scan((w,x)=>{const I=Zs(E(w,x)),M=Math.min(I.length,s);_(w,M);for(let C=0;C<M;++C)S[m+C]=I[C];v(m,M),m+=M})}else e.scan((E,S)=>{let w=0;const x=u.map(I=>{const M=Zs(I(E,S));return w=Math.min(Math.max(w,M.length),s),M});_(E,w);for(let I=0;I<g;++I){const M=h[I],C=x[I];for(let D=0;D<w;++D)M[m+D]=C[D]}v(m,w),m+=w});return e.create(l.new())}function PZe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Oh(e,r,n);return Tae(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Va(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=vs(o)?t.columnName(o):o,ji(o)?i.set(o,ih(o)):rr(o)?Gl(t,o).forEach(s):ss(o)?foe(i,o):jt(`Invalid ${e} value: ${o+""}`)};return Zs(n).forEach(s),r.preparse&&r.preparse(i),to(i,{table:t,...r})}function RZe(e,t,n){return PZe(e,Va("fold",e,t),n)}function rz(e,t,n,r){const i=n&&n.length;return kZe(i?NZe(e,n,r):e,t,i)}function kZe(e,{names:t,exprs:n,ops:r},i){const s=Oh(e,r,n),o=i?null:Ro(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=ka(p)?p:d(h)})}),i?e:e.create(o)}function NZe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=lS(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=Ro(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(_=>g.push(y.get(_)))});const d=lS(o.map((p,m)=>y=>y[m])),h=_g("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,_)=>g*_.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),iz(r,n,(g,_)=>{a.has(d(g))||(h(g),y[p++]=_[0])}),c.groupby({...r,keys:y})}else iz(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function iz(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function l6(e,{names:t,exprs:n,ops:r}){const i=Ro(),s=e.groups();return s&&bae(i,s),DZe(t,n,s,vg(e,r),i),e.create(i.new())}function DZe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function $Ze(e,t,n={}){if(t=to(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${Bu(r)}`)),n.expand){const r={preparse:LZe,aggronly:!0},i=Va("impute",e,n.expand,r),s=l6(e.ungroup(),i);return rz(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return rz(e,t)}function LZe(e){e.forEach((t,n)=>t.field?e.set(n,Kre(t+"")):0)}function MZe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Sae(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function FZe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function BZe(e,t){const n=["i","a","j","b"];return _g(n,"{"+Ov(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function jZe(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=Ro(),y=Array(p),g=Array(p);for(let E=0;E<r.length;++E)y[E]=m.add(r[E],[]),g[E]=i[E];const _=BZe(y,g);if((vn(n)?VZe:UZe)(_,n,o,c,a,f,l,h,u,d),s.left)for(let E=0;E<u;++E)l[E]||_(a[E],o,-1,c);if(s.right)for(let E=0;E<d;++E)h[E]||_(-1,o,f[E],c);return e.create(m.new())}function UZe(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function VZe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,_,v=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,_=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,_=s,v=(w,x,I,M)=>e(I,M,w,x));const E=FZe(_,m,y),S=p.length;for(let w=0;w<S;++w){const x=p[w],I=E.get(d(x,f));if(I){const M=I.length;for(let C=0;C<M;++C){const D=I[C];v(x,f,_[D],m),g[D]=1}h[w]=1}}}function RS(e,t,n){const r=new Map;Zs(n).forEach((s,o)=>{s=vs(s)?t.columnName(s):s,ji(s)?r.set(o,ih(s)):rr(s)||ss(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=to(r,{table:t,aggregate:!1,window:!1});return lS(i.exprs,!0)}function zZe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function c6(e,t,n){if(n)ji(n)?n=[n,n]:vn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=zZe(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function xae(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[RS("join",e,n),RS("join",t,r)]}const HZe={aggregate:!1,window:!1},qZe={...HZe,index:1};function sz(e,t,n,r,i={}){n=c6(e,t,n);const s={join:[e,t]};let o;if(vn(n)){const[a,u]=n.map(Zs);o=xae(e,t,a,u),r||(r=WZe(e,a,u,i))}else o=to({on:n},s).exprs[0],r||(r=[Nm(),Nm()]);return jZe(e,t,o,YZe(e,t,r,s,i&&i.suffix),i)}function WZe(e,t,n,r){const i=[];t.forEach((o,a)=>ji(o)&&o===n[a]?i.push(o):0);const s=hoe(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${Bu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,Nm()]:[Nm(),s]}function YZe(e,t,n,r,i=[]){if(vn(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Va("join",e,n[0],r)),u--&&(o=Va("join",t,n[1],qZe)),u--&&(a=to(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(oz(s.names,l,i[0]||"_1"),oz(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return to(n,r)}function oz(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function GZe(e,t,n,r={}){const i=new Eae(e.totalRows());return(vn(n)?KZe:QZe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function KZe(e,t,n,[r,i]){const s=Sae(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function QZe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function az(e,t,n,r){n=c6(e,t,n);const i=vn(n)?xae(e,t,...n.map(Zs)):to({on:n},{join:[e,t]}).exprs[0];return GZe(e,t,i,r)}function XZe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Ro(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(pn)));const l=Sae(t,r),c=_g(["lr","rr","data"],"{"+Ov(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),Oh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function JZe(e,t,n,r){return n=c6(e,t,n),XZe(e,t,[RS("lookup",e,n[0]),RS("lookup",t,n[1])],Va("lookup",t,r))}const Pk=(e,t)=>e??t;function ZZe(e,t,n,r={}){const{keys:i,keyColumn:s}=eet(e,t,r),o=Pk(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>vg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(tet(n,a,e.groups(),u))}function eet(e,t,n){const r=n.limit>0?+n.limit:1/0,i=Pk(n.sort,!0),s=Pk(n.keySeparator,"_"),o=Oh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=vg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function tet({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Ro(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&bae(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function net(e,t,n,r){return ZZe(e,Va("fold",e,t),Va("fold",e,n,{preparse:ret,aggronly:!0}),r)}function ret(e){e.forEach((t,n)=>t.field?e.set(n,Wre(t+"")):0)}function iet(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),s6(e,Gl(e,t,n))}function uz(e,t){return l6(e,to(t,{table:e,aggronly:!0,window:!1}))}function set(e,t,n,r){return(t?r?aet:oet:r?cet:uet)(e.length,e,n,r)}function oet(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*cg()|0];return t}function aet(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=wae(o6).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*cg())];return t}function uet(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*cg();s<e&&(t[s|0]=n[i])}return t}function cet(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(cg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function fet(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=cg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function det(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):set(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&fet(u),e.reify(u)}function het(e,t,n={}){return det(e,pet(e,t),met(e,n.weight),n)}const Iae=e=>t=>e.get(t)||0;function pet(e,t){return vs(t)?()=>t:Iae(l6(e,to({size:t},{table:e,window:!1})).column("size"))}function met(e,t){return t==null?null:(t=vs(t)?e.columnName(t):t,Iae(ji(t)?e.column(t):u6(e,to({w:t},{table:e}),{drop:!0}).column("w")))}function get(e,t){return s6(e,Gl(e,t))}function yet(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=Oh(e,r,n),l=Ro(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=_et(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function _et(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Zs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(pn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function vet(e,t,n){return yet(e,Va("spread",e,t),n)}function bet(e,t){return e.concat(t).dedupe()}function wet(e,t,n){return Tae(e,Va("unroll",e,t),n&&n.drop?{...n,drop:Va("unroll",e,n.drop).names}:n)}function Eet(e,t){return e.create({groups:Tet(e,t)})}function Tet(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Oh(e,r,n);const o=lS(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function xet(e,t){return Eet(e,Va("groupby",e,t))}function Iet(e,t){return e.create({order:t})}const Aet=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Cet(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=to(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([uS(p,{index:"a",op:o}),uS(p,{index:"b",op:a})])},window:!1}),l=vg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=Aet(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function Oet(e,t){return Iet(e,Pet(e,t))}function Pet(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(ss(o)&&!rr(o))for(const a in o)i(o[a]);else i(vs(o)?ih(s,e.columnName(o)):ji(o)?ih(s):rr(o)?s:jt(`Invalid orderby field: ${s+""}`))}),Cet(e,r)}function Ret(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Ro();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>pn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function ket(e,t){const n=Ro(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?vae(e,t,r):[_ae(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,_=0;g<a;++g)m.fill(y(o[g],d),_,_+=u[g+1])})}return e.create(n.new())}function Net(e){return e.isGrouped()?e.create({groups:null}):e}function Det(e){return e.isOrdered()?e.create({order:null}):e}const $et={__antijoin:(e,t,n)=>az(e,t,n,{anti:!0}),__count:(e,t={})=>uz(e,{[t.as||"count"]:Yre()}),__cross:(e,t,n,r)=>sz(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Ret,__dedupe:oZe,__derive:xZe,__except:IZe,__filter:OZe,__fold:RZe,__impute:$Ze,__intersect:MZe,__join:sz,__lookup:JZe,__pivot:net,__relocate:gae,__rename:iet,__rollup:uz,__sample:het,__select:get,__semijoin:az,__spread:vet,__union:bet,__unroll:wet,__groupby:xet,__orderby:Oet,__ungroup:Net,__unorder:Det,__reduce:ket};Object.assign(ml.prototype,$et);function Let(e,t){return ml.from(e,t)}function yP(e){return lA(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}ml.prototype;function Met(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let nb;const Fet=new Uint8Array(16);function Bet(){if(!nb&&(nb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nb(Fet)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function jet(e,t=0){return(Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]).toLowerCase()}const Uet=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lz={randomUUID:Uet};function cz(e,t,n){if(lz.randomUUID&&!t&&!e)return lz.randomUUID();e=e||{};const r=e.random||(e.rng||Bet)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return jet(r)}let ku=class{static get(){let t=cz();for(;this.ids.has(t);)t=cz();return this.ids.set(t,!0),t}};ku.ids=new Map;function Nu(e){return"parent"in e}function Vet(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:ku.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:ku.get(),createdOn:Date.now(),val:r}]:[];return{id:ku.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function zet({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:ku.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:ku.get(),createdOn:Date.now(),val:s}]:[];return{id:ku.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Or(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Jet[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function sh(e){return!!e&&!!e[So]}function Af(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Zet}(e)||Array.isArray(e)||!!e[gy]||!!(!((t=e.constructor)===null||t===void 0)&&t[gy])||cA(e)||fA(e))}function Lm(e,t,n){n===void 0&&(n=!1),Cf(e)===0?(n?Object.keys:g6)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Cf(e){var t=e[So];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:cA(e)?2:fA(e)?3:0}function g_(e,t){return Cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sw(e,t){return Cf(e)===2?e.get(t):e[t]}function Aae(e,t,n){var r=Cf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Het(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function cA(e){return Qet&&e instanceof Map}function fA(e){return Xet&&e instanceof Set}function sd(e){return e.o||e.t}function f6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ett(e);delete t[So];for(var n=g6(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function d6(e,t){return t===void 0&&(t=!1),h6(e)||sh(e)||!Af(e)||(Cf(e)>1&&(e.set=e.add=e.clear=e.delete=qet),Object.freeze(e),t&&Lm(e,function(n,r){return d6(r,!0)},!0)),e}function qet(){Or(2)}function h6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Du(e){var t=Dk[e];return t||Or(18,e),t}function Wet(e,t){Dk[e]||(Dk[e]=t)}function fz(){return{}.NODE_ENV==="production"||Mm||Or(0),Mm}function _P(e,t){t&&(Du("Patches"),e.u=[],e.s=[],e.v=t)}function kS(e){Rk(e),e.p.forEach(Yet),e.p=null}function Rk(e){e===Mm&&(Mm=e.l)}function dz(e){return Mm={p:[],l:Mm,h:e,m:!0,_:0}}function Yet(e){var t=e[So];t.i===0||t.i===1?t.j():t.O=!0}function vP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Du("ES5").S(t,e,r),r?(n[So].P&&(kS(t),Or(4)),Af(e)&&(e=NS(t,e),t.l||DS(t,e)),t.u&&Du("Patches").M(n[So].t,e,t.u,t.s)):e=NS(t,n,[]),kS(t),t.u&&t.v(t.u,t.s),e!==m6?e:void 0}function NS(e,t,n){if(h6(t))return t;var r=t[So];if(!r)return Lm(t,function(s,o){return hz(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return DS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=f6(r.k):r.o;Lm(r.i===3?new Set(i):i,function(s,o){return hz(e,r,i,s,o,n)}),DS(e,i,!1),n&&e.u&&Du("Patches").R(r,n,e.u,e.s)}return r.o}function hz(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Or(5),sh(i)){var o=NS(e,i,s&&t&&t.i!==3&&!g_(t.D,r)?s.concat(r):void 0);if(Aae(n,r,o),!sh(o))return;e.m=!1}if(Af(i)&&!h6(i)){if(!e.h.F&&e._<1)return;NS(e,i),t&&t.A.l||DS(e,i)}}function DS(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&d6(t,n)}function bP(e,t){var n=e[So];return(n?sd(n):e)[t]}function pz(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function kk(e){e.P||(e.P=!0,e.l&&kk(e.l))}function wP(e){e.o||(e.o=f6(e.t))}function Nk(e,t,n){var r=cA(t)?Du("MapSet").N(t,n):fA(t)?Du("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:fz(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=$k;o&&(u=[a],l=N0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Du("ES5").J(t,n);return(n?n.A:fz()).p.push(r),r}function Get(e){return sh(e)||Or(22,e),function t(n){if(!Af(n))return n;var r,i=n[So],s=Cf(n);if(i){if(!i.P&&(i.i<4||!Du("ES5").K(i)))return i.t;i.I=!0,r=mz(n,s),i.I=!1}else r=mz(n,s);return Lm(r,function(o,a){i&&sw(i.t,o)===a||Aae(r,o,t(a))}),s===3?new Set(r):r}(e)}function mz(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return f6(e)}function Ket(){function e(r){if(!Af(r))return r;if(Array.isArray(r))return r.map(e);if(cA(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(fA(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return g_(r,gy)&&(i[gy]=r[gy]),i}function t(r){return sh(r)?e(r):r}var n="add";Wet("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=Cf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Or(24),typeof u=="function"&&f==="prototype"&&Or(24),typeof(u=sw(u,f))!="object"&&Or(15,o.join("/"))}var d=Cf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Or(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Or(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;Lm(a.D,function(h,p){var m=sw(f,h),y=sw(d,h),g=p?g_(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var _=u.concat(h);l.push(g==="remove"?{op:g,path:_}:{op:g,path:_,value:y}),c.push(g===n?{op:"remove",path:_}:g==="remove"?{op:n,path:_,value:t(m)}:{op:"replace",path:_,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var v=u.concat([_]);l.push({op:n,path:v,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===m6?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var gz,Mm,p6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Qet=typeof Map<"u",Xet=typeof Set<"u",yz=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",m6=p6?Symbol.for("immer-nothing"):((gz={})["immer-nothing"]=!0,gz),gy=p6?Symbol.for("immer-draftable"):"__$immer_draftable",So=p6?Symbol.for("immer-state"):"__$immer_state",Jet={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Zet=""+Object.prototype.constructor,g6=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ett=Object.getOwnPropertyDescriptors||function(e){var t={};return g6(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Dk={},$k={get:function(e,t){if(t===So)return e;var n=sd(e);if(!g_(n,t))return function(i,s,o){var a,u=pz(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Af(r)?r:r===bP(e.t,t)?(wP(e),e.o[t]=Nk(e.A.h,r,e)):r},has:function(e,t){return t in sd(e)},ownKeys:function(e){return Reflect.ownKeys(sd(e))},set:function(e,t,n){var r=pz(sd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=bP(sd(e),t),s=i==null?void 0:i[So];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Het(n,i)&&(n!==void 0||g_(e.t,t)))return!0;wP(e),kk(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return bP(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,wP(e),kk(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=sd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Or(12)}},N0={};Lm($k,function(e,t){N0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),N0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Or(13),N0.set.call(this,e,t,void 0)},N0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Or(14),$k.set.call(this,e[0],t,n,e[0])};var ttt=function(){function e(n){var r=this;this.g=yz,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];return u.produce(m,function(E){var S;return(S=s).call.apply(S,[y,E].concat(_))})}}var l;if(typeof s!="function"&&Or(6),o!==void 0&&typeof o!="function"&&Or(7),Af(i)){var c=dz(r),f=Nk(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?kS(c):Rk(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return _P(c,o),vP(m,c)},function(m){throw kS(c),m}):(_P(c,o),vP(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===m6&&(l=void 0),r.F&&d6(l,!0),o){var h=[],p=[];Du("Patches").M(i,l,h,p),o(h,p)}return l}Or(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Af(n)||Or(8),sh(n)&&(n=Get(n));var r=dz(this),i=Nk(this,n,void 0);return i[So].C=!0,Rk(r),i},t.finishDraft=function(n,r){var i=n&&n[So];({}).NODE_ENV!=="production"&&(i&&i.C||Or(9),i.I&&Or(10));var s=i.A;return _P(s,r),vP(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!yz&&Or(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Du("Patches").$;return sh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),xo=new ttt,ntt=xo.produce;xo.produceWithPatches.bind(xo);xo.setAutoFreeze.bind(xo);xo.setUseProxies.bind(xo);xo.applyPatches.bind(xo);xo.createDraft.bind(xo);xo.finishDraft.bind(xo);function rtt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=Vet({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Dee({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:ku.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:ku.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function itt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=rtt(e),s=I3e();s.startListening({matcher:Oj(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=Oj(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=kee({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:ku.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var stt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ott=Object.prototype.hasOwnProperty;function Lk(e,t){return ott.call(e,t)}function Mk(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Lk(e,i)&&r.push(i);return r}function Hs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Fk(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function od(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Cae(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Bk(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Bk(e[t]))return!0}else if(typeof e=="object"){for(var r=Mk(e),i=r.length,s=0;s<i;s++)if(Bk(e[r[s]]))return!0}}return!1}function _z(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Oae=function(e){stt(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,_z(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=_z(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),xr=Oae,att=Hs,Ip={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=$S(n,this.path);r&&(r=Hs(r));var i=Fd(n,{op:"remove",path:this.from}).removed;return Fd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=$S(n,this.from);return Fd(n,{op:"add",path:this.path,value:Hs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:y_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},utt={add:function(e,t,n){return Fk(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Ip.move,copy:Ip.copy,test:Ip.test,_get:Ip._get};function $S(e,t){if(t=="")return e;var n={op:"_get",path:t};return Fd(e,n),n.value}function Fd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):LS(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=$S(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=y_(e,t.value),o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Hs(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=LS;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=Cae(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!Fk(h))throw new xr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);Fk(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new xr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=utt[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=Ip[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new xr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function dA(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Hs(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Fd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function ltt(e,t,n){var r=Fd(e,t);if(r.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function LS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new xr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Ip[e.op]){if(typeof e.path!="string")throw new xr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new xr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new xr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Bk(e.value))throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new xr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new xr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Pae([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new xr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Pae(e,t,n){try{if(!Array.isArray(e))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)dA(Hs(t),Hs(e),n||!0);else{n=n||LS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof xr)return i;throw i}}function y_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!y_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!y_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const ctt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:xr,_areEquals:y_,applyOperation:Fd,applyPatch:dA,applyReducer:ltt,deepClone:att,getValueByPointer:$S,validate:Pae,validator:LS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var y6=new WeakMap,ftt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),dtt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function htt(e){return y6.get(e)}function ptt(e,t){return e.observers.get(t)}function mtt(e,t){e.observers.delete(t.callback)}function gtt(e,t){t.unobserve()}function ytt(e,t){var n=[],r,i=htt(e);if(!i)i=new ftt(e),y6.set(e,i);else{var s=ptt(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Hs(e),t){r.callback=t,r.next=null;var o=function(){jk(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){jk(r),clearTimeout(r.next),mtt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new dtt(t,r)),r}function jk(e,t){t===void 0&&(t=!1);var n=y6.get(e.object);_6(n.value,e.object,e.patches,"",t),e.patches.length&&dA(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function _6(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=Mk(t),o=Mk(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(Lk(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?_6(c,f,n,r+"/"+od(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+od(l),value:Hs(c)}),n.push({op:"replace",path:r+"/"+od(l),value:Hs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+od(l),value:Hs(c)}),n.push({op:"remove",path:r+"/"+od(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!Lk(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+od(l),value:Hs(t[l])})}}}function Rae(e,t,n){n===void 0&&(n=!1);var r=[];return _6(e,t,r,"",n),r}const _tt=Object.freeze(Object.defineProperty({__proto__:null,compare:Rae,generate:jk,observe:ytt,unobserve:gtt},Symbol.toStringTag,{value:"Module"}));Object.assign({},ctt,_tt,{JsonPatchError:Oae,deepClone:Hs,escapePathComponent:od,unescapePathComponent:Cae});var D0=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(D0||{});function ow(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Nae(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=ow(i,t);return dA(a,Hs(o),!0,!1).newDocument}function vtt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function kae({registry:e,initialState:t}){let n=!1;const r=Met(),i=itt(t);function s(c){return i.backend.nodes[c]}r.listen(D0.TRAVERSAL_START,()=>{n=!0}),r.listen(D0.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return ow(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=ow(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=Rae(g,f);if(vtt(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const v=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:v}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=zet({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=ow(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(D0.TRAVERSAL_START);const f=Nae(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);wtt(p,m)?Nu(p)&&d.push(...p.sideEffects.undo):Nu(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(D0.TRAVERSAL_END)},undo(){const{current:c}=i;return Nu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Dae(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function btt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Nu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Nu(r)&&(r=n[r.parent]),Nu(i)&&(i=n[i.parent]);return r.id}function Nae(e,t,n){const r=btt(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),Nu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),Nu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function wtt(e,t){if(Nu(e)&&e.parent===t.id)return!0;if(Nu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Dae(e,t){return{...e,children:e.children.map(n=>Dae(t[n],t)),name:`${e.label}`}}Ket();function Ett(e){return e.length===2?ntt(e):e}class hA{static create(){return new hA}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Ett(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Pu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Ttt="Expected a function",vz=NaN,Stt="[object Symbol]",xtt=/^\s+|\s+$/g,Itt=/^[-+]0x[0-9a-f]+$/i,Att=/^0b[01]+$/i,Ctt=/^0o[0-7]+$/i,Ott=parseInt,Ptt=typeof mo=="object"&&mo&&mo.Object===Object&&mo,Rtt=typeof self=="object"&&self&&self.Object===Object&&self,ktt=Ptt||Rtt||Function("return this")(),Ntt=Object.prototype,Dtt=Ntt.toString,$tt=Math.max,Ltt=Math.min,EP=function(){return ktt.Date.now()};function Mtt(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Ttt);t=bz(t)||0,Uk(n)&&(c=!!n.leading,f="maxWait"in n,s=f?$tt(bz(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var x=r,I=i;return r=i=void 0,l=w,o=e.apply(I,x),o}function p(w){return l=w,a=setTimeout(g,t),c?h(w):o}function m(w){var x=w-u,I=w-l,M=t-x;return f?Ltt(M,s-I):M}function y(w){var x=w-u,I=w-l;return u===void 0||x>=t||x<0||f&&I>=s}function g(){var w=EP();if(y(w))return _(w);a=setTimeout(g,m(w))}function _(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function E(){return a===void 0?o:_(EP())}function S(){var w=EP(),x=y(w);if(r=arguments,i=this,u=w,x){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return S.cancel=v,S.flush=E,S}function Uk(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ftt(e){return!!e&&typeof e=="object"}function Btt(e){return typeof e=="symbol"||Ftt(e)&&Dtt.call(e)==Stt}function bz(e){if(typeof e=="number")return e;if(Btt(e))return vz;if(Uk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Uk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(xtt,"");var n=Att.test(e);return n||Ctt.test(e)?Ott(e.slice(2),n?2:8):Itt.test(e)?vz:+e}var jtt=Mtt;const eu=qa(jtt);function $ae({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=T.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=T.useMemo(()=>BI(".2s"),[]);return P.jsxs(P.Fragment,{children:[P.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:P.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:P.jsx(Kd,{children:P.jsx(na,{spacing:3,children:P.jsx(yt,{size:14,style:{color:"#878E95"},children:r})})})})}),P.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),P.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>P.jsxs("g",{transform:`translate(${n}, ${a})`,children:[P.jsx("line",{x2:"-6",stroke:"currentColor"}),P.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),P.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const Utt=Object.freeze(Object.defineProperty({__proto__:null,YAxis:$ae},Symbol.toStringTag,{value:"Module"})),TP=15;function Lae({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=T.useState([0,0]),[l,c]=T.useState(!1);return T.useEffect(()=>{const f=Vr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const m=i.filter(y=>Math.abs(e(y[r.x])-p[0])<TP&&Math.abs(t(y[r.y])-p[1])<TP);if(h.ctrlKey||h.metaKey||!o){const y=new Set(s.ids);m.forEach(_=>{y.has(_[r.ids])&&y.delete(_[r.ids])});const g=Array.from(y);n([[a[0],a[1]],[a[0],a[1]]],e,t,g.length===0?"clear":"drag",g)}else{const y=Array.from(new Set([...s.ids,...m.map(g=>g[r.ids])]));y.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",y)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[s.ids,i,l,o,r,e,t]),P.jsx("circle",{style:{cursor:l?"pointer":"default"},r:TP,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const Vtt=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Lae},Symbol.toStringTag,{value:"Module"})),ur={top:15,left:100,right:15,bottom:70};function Vk({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=K0(),[c]=K0(),[f]=K0(),[d,h]=T.useState(!0),p=T.useMemo(()=>l-ur.left-ur.right,[l]),m=T.useMemo(()=>u-ur.top-ur.bottom,[u]),y=T.useMemo(()=>{const C=Array.from(new Set(s.map(D=>D[i.category])));return UI(Mre).domain(C)},[s,i.category]),{xMin:g,yMin:_,xMax:v,yMax:E}=T.useMemo(()=>{const C=s.map(ae=>+ae[i.x]).filter(ae=>ae!==null),[D,q]=dV(C),W=s.map(ae=>+ae[i.y]).filter(ae=>ae!==null),[U,de]=dV(W);return{xMin:D,xMax:q,yMin:U,yMax:de}},[s,i.x,i.y]),S=T.useMemo(()=>{const C=v-g;return p<=0?null:i.dataType==="date"?pWe([ur.left,p+ur.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):_f([ur.left,p+ur.left]).domain([g-C/10,v+C/10]).nice()},[i.dataType,p,v,g]),w=T.useMemo(()=>{const C=E-_;return m<=0?null:_f([m+ur.top,ur.top]).domain([_-C/10,E+C/10]).nice()},[m,E,_]),x=T.useMemo(()=>{if(!S||!w)return()=>null;if(r==="Axis Selection"){const C=Nze().extent([[ur.left,ur.top+m-5],[ur.left+p,ur.top+m+5]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[q.selection[0],null],[q.selection[1],null]],S,w,q.mode)}),D=Dze().extent([[ur.left-5,ur.top],[ur.left+5,ur.top+m]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[null,q.selection[0]],[null,q.selection[1]]],S,w,q.mode)});return c.current&&f.current&&(Vr(f.current).call(D),Vr(c.current).call(C),t.hasBrush||(Vr(f.current).call(D.move,[w(E),w(_)]),Vr(c.current).call(C.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(E)],[S(new Date("2015-12-31")),w(_)]],S,w,"drag"))),()=>{Vr(f.current).call(D.move,[w(E),w(_)]),Vr(c.current).call(C.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(E)],[S(new Date("2015-12-31")),w(_)]],S,w,"clear")}}if(r==="Rectangular Selection"){const C=$ze().extent([[ur.left,ur.top],[ur.left+p,ur.top+m]]).on("brush",D=>{D.sourceEvent!==void 0&&n([[D.selection[0][0],D.selection[0][1]],[D.selection[1][0],D.selection[1][1]]],S,w,D.mode)}).on("end",D=>{D.selection===null&&D.sourceEvent!==void 0&&(Vr(a.current).call(C.move,null),e(null))});return Vr(a.current).call(C),()=>{Vr(a.current).call(C.move,null),n([[null,null],[null,null]],S,w,"clear")}}return r==="Slider Selection"?()=>n([[S(g),w(E)],[S(v),w(_)]],S,w,"clear"):r==="Paintbrush Selection"?()=>n([[S(g),w(E)],[S(v),w(_)]],S,w,"clear",[]):()=>null},[t,r,c,f,m,a,n,p,v,g,S,E,_,w]);T.useEffect(()=>{r==="Slider Selection"&&S&&w&&n([[S(g),w(E)],[S(v),w(_)]],S,w,null)},[r,v,g,S,E,_,w]);const I=T.useMemo(()=>o.length===0?null:new Set(o),[o]),M=T.useMemo(()=>!S||!w?null:s.map((C,D)=>{if(C[i.x]===null||C[i.y]===null)return null;const q=i.dataType==="date"?S(new Date(C[i.x])):S(C[i.x]);return P.jsx("circle",{opacity:I&&!I.has(C[i.ids])?.3:1,r:3,fill:I&&!I.has(C[i.ids])?"lightgray":y(C[i.category]),cx:q,cy:w(C[i.y])},D)}),[I,y,s,i.category,i.ids,i.x,i.y,S,w]);return T.useEffect(()=>{r==="Axis Selection"&&LVe(".handle").style("fill","darkgrey")},[t,r]),P.jsxs(vu,{children:[P.jsxs(na,{children:[P.jsx(Jo,{ml:60,compact:!0,style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),x==null||x()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?P.jsx(cZ,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:C=>h(C==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),P.jsxs(na,{style:{width:"100%",height:"100%"},noWrap:!0,children:[P.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&w?P.jsxs("g",{children:[P.jsx($ae,{yScale:w,label:i.y,horizontalPosition:ur.left,xRange:S.range()}),P.jsx(U3,{xScale:S,yRange:w.range(),isDate:i.dataType==="date",vertPosition:m+ur.top,label:i.x,ticks:S.ticks(i.brushType==="Axis Selection"?12:5).map(C=>({value:C.toString(),offset:S(C)}))})]}):null,M,P.jsx("g",{id:"brushXRef",ref:c}),P.jsx("g",{id:"brushYRef",ref:f}),S&&w&&r==="Paintbrush Selection"?P.jsx(Lae,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:S,yScale:w}):null]}),r==="Slider Selection"&&S&&w?P.jsxs(vu,{style:{flexGrow:1},spacing:50,children:[P.jsxs(vu,{spacing:0,children:[P.jsx(yt,{children:i.x}),P.jsx(aR,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:C=>{n([[S(C[0]),t.y1],[S(C[1]),t.y2]],S,w,"drag")},style:{width:"300px"},marks:S.ticks(5).map(C=>({value:C,label:C})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),P.jsxs(vu,{spacing:0,children:[P.jsx(yt,{children:i.y}),P.jsx(aR,{minRange:1,label:null,min:w.domain()[0],max:w.domain()[1],onChange:C=>{n([[t.x1,w(C[1])],[t.x2,w(C[0])]],S,w,"drag")},style:{width:"300px"},marks:w.ticks(5).map(C=>({value:C,label:C})),value:[w.invert(t.y2),w.invert(t.y1)]})]})]}):null]})]})}const ztt=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Vk,default:Vk},Symbol.toStringTag,{value:"Module"}));function wz({parameters:e,setAnswer:t}){const[n,r]=T.useState(null),[i,s]=T.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=T.useState(null);T.useEffect(()=>{Gze(`./data/${e.dataset}.csv`).then(y=>{a(y)})},[e]);const u=T.useMemo(()=>o?Let(o):null,[o]),{actions:l,trrack:c}=T.useMemo(()=>{const y=hA.create(),g=y.register("brush",(w,x)=>(w.all={brush:x},w)),_=y.register("brushMove",(w,x)=>(w.all={brush:x},w)),v=y.register("brushResize",(w,x)=>(w.all={brush:x},w)),E=y.register("brushClear",(w,x)=>(w.all={brush:x},w)),S=kae({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:g,brushMove:_,brushResize:v,clearBrush:E},trrack:S}},[]),f=T.useCallback((y,g)=>{y==="drag"?c.apply("Move Brush",l.brushMove(g)):y==="handle"&&c.apply("Brush",l.brush(g))},[l,c]),d=T.useMemo(()=>eu(f,100,{maxWait:100}),[f]),h=T.useCallback((y,g,_,v,E)=>{if(!g||!_)return;const S=g.invert(y[0][0]||i.x1),w=g.invert(y[1][0]||i.x2),x=_.invert(y[1][1]||i.y2),I=_.invert(y[0][1]||i.y1);let M=null;if(v==="clear")M=u;else if(E){const D=new Set(E);M=u.filter(yP(q=>D.has(q[e.ids])))}else e.brushType==="Axis Selection"?M=u.filter(yP(D=>new Date(D[e.x])>=new Date(S)&&new Date(D[e.x])<=new Date(w)&&D[e.y]>=x&&D[e.y]<=I)):M=u.filter(yP(D=>D[e.x]>=S&&D[e.x]<=w&&D[e.y]>=x&&D[e.y]<=I));const C={x1:y[0][0]||(i==null?void 0:i.x1)||0,x2:y[1][0]||(i==null?void 0:i.x2)||0,y1:y[0][1]||(i==null?void 0:i.y1)||0,y2:y[1][1]||(i==null?void 0:i.y2)||0,hasBrush:v!=="clear",ids:v!=="clear"?M==null?void 0:M.array("id"):[]};s(C),v==="drag"||v==="handle"?d(v,C):v==="clear"&&c.apply("Clear Brush",l.clearBrush(C)),r(M),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=T.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():u?u==null?void 0:u.groupby(e.category).count():null,[n,u,e.category]),m=T.useCallback(y=>{r(y)},[]);return o?P.jsxs(vu,{spacing:"xs",children:[P.jsx(Vk,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:m}),P.jsx(ak,{data:o,parameters:e,barsTable:p})]}):P.jsx(yh,{})}const Htt=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:wz,default:wz},Symbol.toStringTag,{value:"Module"})),qtt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ez=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},bg=e=>{const t=T.useRef(null),n=Ez(e),[r,i]=T.useState(0),[s,o]=T.useState(0);T.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=Ez({...n,width:n.width||r,height:n.height||s});return[t,a]},Wtt=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:bg},Symbol.toStringTag,{value:"Module"}));function Mae({data:e,xScale:t,yScale:n,height:r}){return P.jsx("g",{children:e.map((i,s)=>P.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const Ytt=Object.freeze(Object.defineProperty({__proto__:null,Bars:Mae},Symbol.toStringTag,{value:"Module"}));function v6({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=T.useMemo(()=>{const o=_f().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return P.jsxs("g",{children:[P.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>P.jsxs("g",{transform:`translate(0,${a})`,children:[P.jsx("line",{x2:`${r}`,stroke:"currentColor"}),P.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const Gtt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:v6},Symbol.toStringTag,{value:"Module"}));function Fae({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=T.useMemo(()=>{const o=_v().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return P.jsxs("g",{children:[P.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>P.jsx("g",{transform:`translate(${a}, 10)`,children:P.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const Ktt=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Fae},Symbol.toStringTag,{value:"Module"})),Qtt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function Xtt({parameters:e}){const[n,r]=bg(Qtt),i=_v().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=_f().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return P.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:P.jsx("svg",{width:r.width,height:r.height,children:P.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[P.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:P.jsx(Fae,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),P.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:P.jsx(v6,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),P.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:P.jsx(Mae,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const Jtt=Object.freeze(Object.defineProperty({__proto__:null,default:Xtt},Symbol.toStringTag,{value:"Module"}));function Bae({data:e}){return P.jsx("g",{children:e.map(({bubble:t},n)=>P.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const Ztt=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Bae},Symbol.toStringTag,{value:"Module"}));function b6({positions:e}){return P.jsx("g",{children:e.map((t,n)=>P.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const ent=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:b6},Symbol.toStringTag,{value:"Module"})),tnt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},nnt=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=jHe().size([t-10,n-10]).padding(1.5),o=$3(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},rnt=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function int({parameters:e}){const[t,n]=bg(tnt),r=nnt(e,n.width,n.height),i=rnt(r,e.selectedIndices);return P.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:P.jsx("svg",{width:n.width,height:n.height,children:P.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[P.jsx(Bae,{data:r}),P.jsx(b6,{positions:i})]})})})}const snt=Object.freeze(Object.defineProperty({__proto__:null,default:int},Symbol.toStringTag,{value:"Module"}));function jae({arcs:e}){return P.jsx("g",{children:e.map((t,n)=>P.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const ont=Object.freeze(Object.defineProperty({__proto__:null,Slices:jae},Symbol.toStringTag,{value:"Module"}));function Uae({positions:e}){return P.jsx("g",{children:e.map((t,n)=>P.jsx("g",{transform:`translate(${t.centroid()})`,children:P.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const ant=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Uae},Symbol.toStringTag,{value:"Module"})),unt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},lnt=AWe().value(e=>e.value),d0=150;function cnt({parameters:e}){const[t,n]=bg(unt),r=lnt(e.data),i=r.map(o=>c7().innerRadius(0).outerRadius(d0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>c7().outerRadius(d0+10).innerRadius(d0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return P.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:P.jsx("svg",{width:n.width,height:n.height,children:P.jsxs("g",{transform:`translate(${[n.marginLeft+d0,n.marginTop+d0].join(",")})`,children:[P.jsx(jae,{arcs:i}),P.jsx(Uae,{positions:s})]})})})}const fnt=Object.freeze(Object.defineProperty({__proto__:null,default:cnt},Symbol.toStringTag,{value:"Module"}));function Vae({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=T.useMemo(()=>{const o=_f().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return P.jsxs("g",{children:[P.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>P.jsxs("g",{transform:`translate(${a}, 0)`,children:[P.jsx("line",{y2:`${r}`,stroke:"currentColor"}),P.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const dnt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Vae},Symbol.toStringTag,{value:"Module"}));function zae({data:e,barWidth:t,yScale:n}){return P.jsx("g",{children:e.map((r,i)=>P.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const hnt=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:zae},Symbol.toStringTag,{value:"Module"})),pnt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function mnt({parameters:e}){const[n,r]=bg(pnt),i=_v().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=_f().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,m)=>m===0||m===h.length-1),a=h=>h.filter((p,m)=>e.selectedIndices.includes(m)),u=h=>{const p=h.map(v=>+v.value),y=p.reduce((v,E)=>Number(v)+Number(E))/100,g={};p.forEach((v,E)=>{g[String.fromCharCode(E+65)]=v/y});const _=[g];return PWe().keys(e.data.map(v=>v.name))(_)},l=(h,p,m)=>h.filter((g,_)=>p.includes(_)).map(g=>({x:m,y:s(g[0][1])+.5*(s(g[0][0])-s(g[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return P.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:P.jsx("svg",{width:r.width,height:r.height,children:P.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[P.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:P.jsx(Vae,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),P.jsx("g",{transform:"translate(0, 0)",children:P.jsx(v6,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),P.jsxs("g",{transform:"translate(0, 0)",children:[P.jsx(zae,{data:c,barWidth:f,yScale:s}),P.jsx(b6,{positions:d})]})]})})})}const gnt=Object.freeze(Object.defineProperty({__proto__:null,default:mnt},Symbol.toStringTag,{value:"Module"})),ynt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function _nt({parameters:e,setAnswer:t}){const[n,r]=bg(ynt),[i,s]=T.useState(100),[o,a]=T.useState(100),[u,l]=T.useState(300),{taskid:c}=e,{actions:f,trrack:d}=T.useMemo(()=>{const p=hA.create(),m=p.register("click",(g,_)=>(g.clickX=_.clickX,g.clickY=_.clickY,g.distance=_.distance,g)),y=kae({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:m},trrack:y}},[]),h=T.useCallback(p=>{const m=Vr("#movingCircle"),y=Vr("#clickAccuracySvg"),g=YR(p,y.node()),_=[+m.attr("cx"),+m.attr("cy")],v=`${Math.round(Math.sqrt((g[0]-_[0])**2+(g[1]-_[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+v,clickX:g[0],clickY:g[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:v}})},[f,t,c,d]);return T.useEffect(()=>{const p=Math.random()*800,m=Math.random()*600,g=Math.sqrt((p-i)**2+(m-o)**2)/u*1e3;Vr(n.current).select("circle").transition().duration(g).ease(vze).attr("cx",p).attr("cy",m).on("end",()=>{s(p),a(m)})},[n,u,i,o]),P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:P.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:P.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[P.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),P.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),P.jsxs(ut,{children:["Adjust speed (px/s):",P.jsx(i$,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const vnt=Object.freeze(Object.defineProperty({__proto__:null,default:_nt},Symbol.toStringTag,{value:"Module"}));var bnt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},wnt=Object.defineProperty,Ent=Object.defineProperties,Tnt=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,Hae=Object.prototype.hasOwnProperty,qae=Object.prototype.propertyIsEnumerable,Tz=(e,t,n)=>t in e?wnt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sz=(e,t)=>{for(var n in t||(t={}))Hae.call(t,n)&&Tz(e,n,t[n]);if(MS)for(var n of MS(t))qae.call(t,n)&&Tz(e,n,t[n]);return e},Snt=(e,t)=>Ent(e,Tnt(t)),xnt=(e,t)=>{var n={};for(var r in e)Hae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&qae.call(e,r)&&(n[r]=e[r]);return n},hc=(e,t,n)=>{const r=T.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=xnt(o,["color","size","stroke","children"]);return T.createElement("svg",Sz(Snt(Sz({ref:s},bnt),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>T.createElement(d,h)),...c||[]])});return r.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number]),stroke:ht.oneOfType([ht.string,ht.number])},r.displayName=`${t}`,r},Int=hc("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Ant=hc("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),xz=hc("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),Cnt=hc("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),Ont=hc("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),Pnt=hc("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),Rnt=hc("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),Iz=hc("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Wae=hc("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function Az({rankings:e}){return P.jsx("div",{style:{fontFamily:"sans-serif"},children:P.jsx("div",{children:e.map((t,n)=>P.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function knt({parameters:e,setAnswer:t}){const n=ua(),[r,i]=T.useState(""),{goToNextStep:s,isNextDisabled:o}=Yee(),a=T.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=T.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=T.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=T.useCallback(()=>{o||s()},[o,s]);T.useEffect(()=>{const h=rye([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),P.jsxs("div",{children:[P.jsxs(vl,{children:[P.jsxs(vl.Col,{span:2,children:[P.jsx(Az,{rankings:a==="r1"?e.data.r1:e.data.r2}),P.jsx(Jo,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?P.jsx(xz,{}):"Select this ranking"}),l&&r&&P.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),P.jsxs(vl.Col,{span:2,children:[P.jsx(Az,{rankings:a==="r1"?e.data.r2:e.data.r1}),P.jsx(Jo,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?P.jsx(xz,{}):"Select this ranking"}),l&&r&&P.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&P.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const Nnt=Object.freeze(Object.defineProperty({__proto__:null,default:knt},Symbol.toStringTag,{value:"Module"}));function Dnt({parameters:e}){const{imgName:t,options:n,correctIndex:r,question:i}=e,s="https://wpivis.github.io/amazing-vis-test",o=()=>{window.scrollTo(0,0)};return T.useEffect(()=>{o()},[t,i]),P.jsx(JD,{children:P.jsxs(na,{p:5,sx:{border:"1px solid black",borderRadius:"5px"},children:[P.jsx(eg,{maw:1e3,src:`${s}/gpt-expert/${t}`,alt:"image",width:"100%"}),P.jsxs(vu,{mt:"xs",children:[P.jsx(yt,{children:i}),n.map((a,u)=>P.jsx(Mp,{value:u,label:a,checked:!0,color:u===r?"green":"dark"},u))]})]})})}const $nt=Object.freeze(Object.defineProperty({__proto__:null,default:Dnt},Symbol.toStringTag,{value:"Module"})),Lnt=Object.assign({"../public/brush-interactions/Bar.tsx":NWe,"../public/brush-interactions/BrushPlot.tsx":Htt,"../public/brush-interactions/Paintbrush.tsx":Vtt,"../public/brush-interactions/Scatter.tsx":ztt,"../public/brush-interactions/XAxisBar.tsx":RWe,"../public/brush-interactions/YAxis.tsx":Utt,"../public/brush-interactions/YAxisBar.tsx":kWe,"../public/brush-interactions/types.ts":qtt,"../public/cleveland/BarChart.tsx":Jtt,"../public/cleveland/BubbleChart.tsx":snt,"../public/cleveland/PieChart.tsx":fnt,"../public/cleveland/StackedBarChart.tsx":gnt,"../public/cleveland/chartcomponents/Bars.tsx":Ytt,"../public/cleveland/chartcomponents/Bubbles.tsx":Ztt,"../public/cleveland/chartcomponents/DotMarks.tsx":ent,"../public/cleveland/chartcomponents/NumericAxisH.tsx":dnt,"../public/cleveland/chartcomponents/NumericAxisV.tsx":Gtt,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":Ktt,"../public/cleveland/chartcomponents/Slices.tsx":ont,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":ant,"../public/cleveland/chartcomponents/StackedBars.tsx":hnt,"../public/cleveland/hooks/useChartDimensions.tsx":Wtt,"../public/click-accuracy-test/ClickAccuracyTest.tsx":vnt,"../public/fairness-jnd/FairnessJND.tsx":Nnt,"../public/gpt-vis/VisComponent.tsx":$nt});function Mnt({currentConfig:e}){const t=ua(),n=`../public/${e.path}`,r=Lnt[n].default,i=ac(),{updateResponseBlockValidation:s,setIframeAnswers:o}=oc();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return P.jsx(T.Suspense,{fallback:P.jsx("div",{children:"Loading..."}),children:P.jsx(r,{parameters:e.parameters,setAnswer:a})})}function Fnt({currentConfig:e}){const[t,n]=T.useState(null);return T.useEffect(()=>{fetch(`${Gu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:P.jsx(Js,{text:t})}function oh(){return Qu(e=>e.config)}function Yae(){const e=ua(),{setAlertModal:t}=oc(),n=ac();T.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function Bnt(){var f;const e=oh(),t=ua(),n=e.components[t],r=r3(),i=lI(n)&&e.baseComponents?n3({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",{instructionLocation:o}=i,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);Yae();const{storageEngine:u}=Lf(),l=ac(),{setAlertModal:c}=oc();return T.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),P.jsxs(P.Fragment,{children:[o==="aboveStimulus"&&P.jsx(Js,{text:s}),P.jsx(qT,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),P.jsxs(T.Suspense,{fallback:P.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&P.jsx(Fnt,{currentConfig:i}),i.type==="website"&&P.jsx(Mje,{currentConfig:i}),i.type==="image"&&P.jsx(Bje,{currentConfig:i}),i.type==="react-component"&&P.jsx(Mnt,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&P.jsx(Js,{text:s}),P.jsx(qT,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function jnt(e){const[t]=bD();return P.jsx(fme,{...e,to:{pathname:e.to,search:t.toString()}})}const zk=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],aw=["participantId","trialId","responseId"];function uw(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Unt(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=lI(i)&&i.baseComponent&&t.baseComponents?n3({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{var h;const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=(h=s.response.filter(p=>p.id===c)[0])==null?void 0:h.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function Vnt(e,t,n,r=[...aw,...zk]){const s=(await t.getAllParticipantsData()).map(l=>Unt(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);uw(u,e)}function znt({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=aye([...aw,...zk]),o=T.useCallback(l=>{aw.every(c=>l.includes(c))&&s(l)},[s]),a=T.useMemo(()=>[...aw,...zk],[]),{storageEngine:u}=Lf();return u?P.jsxs(qx,{opened:e,size:"lg",onClose:t,title:P.jsx(yt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[P.jsx(ut,{children:P.jsx(RJ,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:P.jsx(yt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),P.jsxs(Yy,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[P.jsx(Jo,{leftIcon:P.jsx(Wae,{}),onClick:()=>Vnt(n,u,r,i),children:"Download"}),P.jsx(Jo,{onClick:t,color:"red",children:"Close"})]})]}):null}function Hnt({studyConfig:e}){const{storageEngine:t}=Lf(),[n,{open:r,close:i}]=SG(!1),[s,o]=T.useState(),[a,u]=T.useState(""),l=e.studyMetadata.title.replace(" ","_");T.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=T.useCallback(async()=>{uw(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=T.useState(Math.floor(d/1e3));return T.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),P.jsxs(vu,{children:[P.jsx(Jo,{leftIcon:P.jsx(Cnt,{}),onClick:()=>uw(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),P.jsx(Jo,{disabled:!(t!=null&&t.isConnected()),leftIcon:P.jsx(Ont,{}),onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();uw(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),P.jsx(Jo,{disabled:!(t!=null&&t.isConnected()),leftIcon:P.jsx(Wae,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&P.jsxs(yt,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),P.jsx(znt,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function pA(e){return e.components.flatMap(t=>typeof t=="string"?t:pA(t))}function Cz(e,t){return pA(t).find(i=>e.indexOf(i)!==-1)}function qnt(e,t){return pA(t).filter(i=>e.indexOf(i)!==-1)}function Wnt({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=Xm(),[o,{close:a,open:u}]=SG(!1);return P.jsxs(Xo,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[P.jsx(Xo.Target,{children:P.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:P.jsx($J,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:P.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?P.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&gh.createPortal(P.jsx(Xo.Dropdown,{onMouseLeave:a,children:P.jsx(yt,{size:"sm",children:P.jsxs("div",{children:[r.description&&P.jsxs("div",{children:[P.jsx(yt,{fw:900,display:"inline-block",mr:2,children:"Description:"}),P.jsx(yt,{fw:400,component:"span",children:r.description})]}),r.meta&&P.jsxs(yt,{children:[P.jsx(yt,{fw:"900",component:"span",children:"Task Meta: "}),P.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function Gae({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=MY(),i=ua(),s=oh(),o=T.useMemo(()=>{const a=lv(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:Cz(e,u),f=typeof l=="string"?l:Cz(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return P.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return P.jsx(Wnt,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=pA(a),c=qnt(e,a);return P.jsx($J,{label:P.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",P.jsxs(nTe,{ml:5,children:[c.length,"/",l.length]}),P.jsx(yt,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?P.jsx(Ant,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:P.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:P.jsx(Gae,{order:a,sequence:e,depth:n+1})})},u)})})}function Ynt(){const{showAdmin:e,sequence:t}=Qu(s=>s),n=ua(),r=oh(),i=T.useMemo(()=>{const s=lv(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?P.jsx(ND,{p:"0",width:{base:300},style:{zIndex:0},children:P.jsxs(MD,{p:"0",children:[n==="end"&&P.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[P.jsx(yt,{size:"md",p:10,weight:"bold",children:"Download"}),P.jsx(Hnt,{studyConfig:r})]}),P.jsx(yt,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),P.jsx(Gae,{order:i,sequence:t})]})}):null}function Gnt(){const{config:e,sequence:t}=Qu(v=>v),n=ac(),{toggleShowHelpText:r,toggleShowAdmin:i}=oc(),{storageEngine:s}=Lf(),o=ua(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=T.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=T.useState(new URLSearchParams(window.location.search)),m=p.get("admin")||"f",y=qee(),g=Zpe(`/${y}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=g}).catch(v=>{console.error(v)})}return P.jsx(TK,{height:"70",p:"md",children:P.jsxs(vl,{mt:-7,align:"center",children:[P.jsx(vl.Col,{span:4,children:P.jsxs(Yy,{align:"center",children:[P.jsx(eg,{maw:40,src:`${Gu}${d}`,alt:"Study Logo"}),P.jsx(ST,{w:"md"}),P.jsx(Ac,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),P.jsx(vl.Col,{span:4,children:h&&P.jsx(tZ,{radius:"md",size:"lg",value:l})}),P.jsx(vl.Col,{span:4,children:P.jsxs(Yy,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&P.jsx(Jo,{variant:"outline",onClick:()=>n(r()),children:"Help"}),P.jsx(ST,{w:"md"}),m==="t"&&P.jsxs(Uo,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[P.jsx(Uo.Target,{children:P.jsx(GG,{size:"lg",children:P.jsx(Pnt,{})})}),P.jsxs(Uo.Dropdown,{children:[P.jsx(Uo.Item,{icon:P.jsx(Iz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),P.jsx(Uo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:P.jsx(Rnt,{size:14}),children:"Contact"}),P.jsx(Uo.Item,{icon:P.jsx(Iz,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function Knt(){var c;const e=(c=oh())==null?void 0:c.uiConfig.sidebar,t=oh(),n=ua(),r=t.components[n],i=T.useMemo(()=>{var f;return r?lI(r)&&t.baseComponents?n3({},(f=t.baseComponents)==null?void 0:f[r.baseComponent],r):r:null},[r]),s=r3(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0,u=T.useRef(null),l=()=>{var f;return(f=u.current)==null?void 0:f.scrollTo({top:0})};return T.useEffect(()=>{l()},[n]),e&&i?P.jsx(Q0,{bg:"gray.1",display:"block",width:{base:600},style:{zIndex:0,overflowY:"scroll"},children:P.jsxs(MD,{h:"100%",viewportRef:u,children:[a&&o!==""&&P.jsx(Q0.Section,{bg:"gray.3",p:"xl",children:P.jsxs(yt,{c:"gray.9",children:[P.jsx(yt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),P.jsx(Js,{text:o})]})}),P.jsx(Q0.Section,{p:"xl",children:P.jsx(qT,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]})}):P.jsx(qT,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Qnt(){const{showHelpText:e,config:t}=Qu(o=>o),n=ac(),{toggleShowHelpText:r}=oc(),[i,s]=T.useState("");return T.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Gu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),P.jsx(qx,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:P.jsx(Js,{text:i})})}function Xnt(){const{alertModal:e}=Qu(o=>o),{setAlertModal:t}=oc(),n=ac(),[r,i]=T.useState(e.show),s=T.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return T.useEffect(()=>i(e.show),[e.show]),P.jsx(qx,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:P.jsxs(iK,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:P.jsx(Int,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[P.jsx(yt,{my:"md",children:e.message}),P.jsx(ut,{style:{float:"right"},color:"red",children:P.jsx(Jo,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function Jnt(){const e=T.useRef([]),n=oh().uiConfig.windowEventDebounceTime??100;return T.useEffect(()=>{const r=eu(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=eu(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=eu(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=eu(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=eu(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=eu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=eu(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=eu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=eu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),P.jsx(Wee.Provider,{value:e,children:P.jsxs(IK,{navbar:P.jsx(Knt,{}),aside:P.jsx(Ynt,{}),header:P.jsx(Gnt,{}),children:[P.jsx(Qnt,{}),P.jsx(Xnt,{}),P.jsx(dme,{})]})})}function Znt(){const e=oh(),{storageEngine:t}=Lf(),{answers:n}=Qu(s=>s),[r,i]=T.useState(!1);return T.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Yae(),P.jsx(Kd,{style:{height:"100%"},children:P.jsx(Yy,{direction:"column",children:r?P.jsx(yt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?P.jsx(Js,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):P.jsxs(P.Fragment,{children:[P.jsx(yt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),P.jsx(ST,{h:"lg"}),P.jsx(Kd,{children:P.jsx(yh,{color:"blue"})})]})})})}function ert(e,t=!1){return typeof e=="number"?Oz(e,t):Oz(e.length,t).map(r=>r.map(i=>e[i]))}function Oz(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function Kae(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=Kae(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function trt(e,t){const n=lv(e);return Kae(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function Qae(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Qae(s,t,i,o)})}function nrt(e){const t=[];return Qae(e,t,"",0),t}function Pz(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return ert(i.sort(()=>.5-Math.random()),!0)}function rrt(e){const n=nrt(e.sequence).map(s=>({[s]:Pz(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=trt(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=Pz(e,o))})}),i}async function irt(e,t){const n=await(await fetch(`${Gu}${e}`)).text();return Tee(n,t)}function srt(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:P.jsx(jnt,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:P.jsx(Znt,{})}):i.push({path:`/${o}`,element:P.jsx(Bnt,{})})});const s={element:P.jsx(Jnt,{}),children:i};r.push(s)}return r}function ort({globalConfig:e}){const{studyId:t}=MY();if(!t||!e.configsList.find(f=>uR(f)))throw new Error("Study id invalid");const[n,r]=T.useState(null);T.useEffect(()=>{const f=e.configsList.find(d=>uR(d)===t);if(f){const d=e.configs[f];irt(`${d.path}`,f).then(h=>{r(h)})}},[e,t]);const[i,s]=T.useState([]),[o,a]=T.useState(null),{storageEngine:u}=Lf(),[l]=bD();T.useEffect(()=>{async function f(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await rrt(n));const h=n.uiConfig.urlParticipantIdParam&&l.get(n.uiConfig.urlParticipantIdParam)||void 0,p=Object.fromEntries(l.entries()),m=await u.initializeParticipantSession(p,n,h),y=await A3e(t,n,m.sequence,m.answers);a(y),s(srt(t,n,m.sequence))}f()},[u,n,t,l]);const c=FY(i);return!c||!o?P.jsx(ut,{style:{height:"100vh"},children:P.jsx(Kd,{style:{height:"100%"},children:P.jsx(yh,{style:{height:"100%"},size:60})})}):P.jsx(Hee.Provider,{value:o,children:P.jsx(eRe,{store:o.store,children:c})})}async function art(){const t=await(await fetch(`${Gu}configs/global.json`)).text();return S$e(t)}async function urt(e){const t={},n=e.configsList.map(i=>`${Gu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Tee(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function lrt(){const[e,t]=T.useState(null),[n,r]=T.useState({});return T.useEffect(()=>{async function i(){e&&r(await urt(e))}i()},[e]),T.useEffect(()=>{e||art().then(i=>{t(i)})},[e]),e?P.jsx(gme,{basename:Gu,children:P.jsxs(pme,{children:[P.jsx(V2,{path:"/",element:P.jsx(b2e,{globalConfig:e,studyConfigs:n})}),P.jsx(V2,{path:"/:studyId/*",element:P.jsx(ort,{globalConfig:e})})]})}):null}function rb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xae={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof rb=="function"&&rb;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof rb=="function"&&rb,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,_=h.length;_;){for(g=h,h=[],y=-1;++y<_;)g[y]();_=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof mo<"u"?mo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,w){if(typeof S!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var I=this.state===l?S:w;h(x,I,this.outcome)}else this.queue.push(new d(x,S,w));return x};function d(S,w,x){this.promise=S,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){a.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)};function h(S,w,x){s(function(){var I;try{I=w(x)}catch(M){return a.reject(S,M)}I===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,I)})}a.resolve=function(S,w){var x=y(p,w);if(x.status==="error")return a.reject(S,x.value);var I=x.value;if(I)m(S,I);else{S.state=l,S.outcome=w;for(var M=-1,C=S.queue.length;++M<C;)S.queue[M].callFulfilled(w)}return S},a.reject=function(S,w){S.state=u,S.outcome=w;for(var x=-1,I=S.queue.length;++x<I;)S.queue[x].callRejected(w);return S};function p(S){var w=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof w=="function")return function(){w.apply(S,arguments)}}function m(S,w){var x=!1;function I(q){x||(x=!0,a.reject(S,q))}function M(q){x||(x=!0,a.resolve(S,q))}function C(){w(M,I)}var D=y(C);D.status==="error"&&I(D.value)}function y(S,w){var x={};try{x.value=S(w),x.status="success"}catch(I){x.status="error",x.value=I}return x}f.resolve=g;function g(S){return S instanceof this?S:a.resolve(new this(o),S)}f.reject=_;function _(S){var w=new this(o);return a.reject(w,S)}f.all=v;function v(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,I=!1;if(!x)return this.resolve([]);for(var M=new Array(x),C=0,D=-1,q=new this(o);++D<x;)W(S[D],D);return q;function W(U,de){w.resolve(U).then(ae,function(pe){I||(I=!0,a.reject(q,pe))});function ae(pe){M[de]=pe,++C===x&&!I&&(I=!0,a.resolve(q,M))}}}f.race=E;function E(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,I=!1;if(!x)return this.resolve([]);for(var M=-1,C=new this(o);++M<x;)D(S[M]);return C;function D(q){w.resolve(q).then(function(W){I||(I=!0,a.resolve(C,W))},function(W){I||(I=!0,a.reject(C,W))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof mo<"u"?mo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function o($,Q){if(!($ instanceof Q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c($,Q){$=$||[],Q=Q||{};try{return new Blob($,Q)}catch(te){if(te.name!=="TypeError")throw te;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new B,oe=0;oe<$.length;oe+=1)ne.append($[oe]);return ne.getBlob(Q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d($,Q){Q&&$.then(function(B){Q(null,B)},function(B){Q(B)})}function h($,Q,B){typeof Q=="function"&&$.then(Q),typeof B=="function"&&$.catch(B)}function p($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,_={},v=Object.prototype.toString,E="readonly",S="readwrite";function w($){for(var Q=$.length,B=new ArrayBuffer(Q),ne=new Uint8Array(B),oe=0;oe<Q;oe++)ne[oe]=$.charCodeAt(oe);return B}function x($){return new f(function(Q){var B=$.transaction(y,S),ne=c([""]);B.objectStore(y).put(ne,"key"),B.onabort=function(oe){oe.preventDefault(),oe.stopPropagation(),Q(!1)},B.oncomplete=function(){var oe=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Q(te||!oe||parseInt(oe[1],10)>=43)}}).catch(function(){return!1})}function I($){return typeof g=="boolean"?f.resolve(g):x($).then(function(Q){return g=Q,g})}function M($){var Q=_[$.name],B={};B.promise=new f(function(ne,oe){B.resolve=ne,B.reject=oe}),Q.deferredOperations.push(B),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return B.promise}):Q.dbReady=B.promise}function C($){var Q=_[$.name],B=Q.deferredOperations.pop();if(B)return B.resolve(),B.promise}function D($,Q){var B=_[$.name],ne=B.deferredOperations.pop();if(ne)return ne.reject(Q),ne.promise}function q($,Q){return new f(function(B,ne){if(_[$.name]=_[$.name]||O(),$.db)if(Q)M($),$.db.close();else return B($.db);var oe=[$.name];Q&&oe.push($.version);var te=u.open.apply(u,oe);Q&&(te.onupgradeneeded=function(be){var Ie=te.result;try{Ie.createObjectStore($.storeName),be.oldVersion<=1&&Ie.createObjectStore(y)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Pe}}),te.onerror=function(be){be.preventDefault(),ne(te.error)},te.onsuccess=function(){var be=te.result;be.onversionchange=function(Ie){Ie.target.close()},B(be),C($)}})}function W($){return q($,!1)}function U($){return q($,!0)}function de($,Q){if(!$.db)return!0;var B=!$.db.objectStoreNames.contains($.storeName),ne=$.version<$.db.version,oe=$.version>$.db.version;if(ne&&($.version!==Q&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),oe||B){if(B){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function ae($){return new f(function(Q,B){var ne=new FileReader;ne.onerror=B,ne.onloadend=function(oe){var te=btoa(oe.target.result||"");Q({__local_forage_encoded_blob:!0,data:te,type:$.type})},ne.readAsBinaryString($)})}function pe($){var Q=w(atob($.data));return c([Q],{type:$.type})}function ee($){return $&&$.__local_forage_encoded_blob}function ie($){var Q=this,B=Q._initReady().then(function(){var ne=_[Q._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(B,$,$),B}function K($){M($);for(var Q=_[$.name],B=Q.forages,ne=0;ne<B.length;ne++){var oe=B[ne];oe._dbInfo.db&&(oe._dbInfo.db.close(),oe._dbInfo.db=null)}return $.db=null,W($).then(function(te){return $.db=te,de($)?U($):te}).then(function(te){$.db=Q.db=te;for(var be=0;be<B.length;be++)B[be]._dbInfo.db=te}).catch(function(te){throw D($,te),te})}function A($,Q,B,ne){ne===void 0&&(ne=1);try{var oe=$.db.transaction($.storeName,Q);B(null,oe)}catch(te){if(ne>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),U($)}).then(function(){return K($).then(function(){A($,Q,B,ne-1)})}).catch(B);B(te)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z($){var Q=this,B={db:null};if($)for(var ne in $)B[ne]=$[ne];var oe=_[B.name];oe||(oe=O(),_[B.name]=oe),oe.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ie);var te=[];function be(){return f.resolve()}for(var Ie=0;Ie<oe.forages.length;Ie++){var Pe=oe.forages[Ie];Pe!==Q&&te.push(Pe._initReady().catch(be))}var Re=oe.forages.slice(0);return f.all(te).then(function(){return B.db=oe.db,W(B)}).then(function(De){return B.db=De,de(B,Q._defaultConfig.version)?U(B):De}).then(function(De){B.db=oe.db=De,Q._dbInfo=B;for(var et=0;et<Re.length;et++){var Bt=Re[et];Bt!==Q&&(Bt._dbInfo.db=B.db,Bt._dbInfo.version=B.version)}})}function k($,Q){var B=this;$=p($);var ne=new f(function(oe,te){B.ready().then(function(){A(B._dbInfo,E,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.get($);Re.onsuccess=function(){var De=Re.result;De===void 0&&(De=null),ee(De)&&(De=pe(De)),oe(De)},Re.onerror=function(){te(Re.error)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function R($,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){A(B._dbInfo,E,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.openCursor(),De=1;Re.onsuccess=function(){var et=Re.result;if(et){var Bt=et.value;ee(Bt)&&(Bt=pe(Bt));var _n=$(Bt,et.key,De++);_n!==void 0?oe(_n):et.continue()}else oe()},Re.onerror=function(){te(Re.error)}}catch(et){te(et)}})}).catch(te)});return d(ne,Q),ne}function Y($,Q,B){var ne=this;$=p($);var oe=new f(function(te,be){var Ie;ne.ready().then(function(){return Ie=ne._dbInfo,v.call(Q)==="[object Blob]"?I(Ie.db).then(function(Pe){return Pe?Q:ae(Q)}):Q}).then(function(Pe){A(ne._dbInfo,S,function(Re,De){if(Re)return be(Re);try{var et=De.objectStore(ne._dbInfo.storeName);Pe===null&&(Pe=void 0);var Bt=et.put(Pe,$);De.oncomplete=function(){Pe===void 0&&(Pe=null),te(Pe)},De.onabort=De.onerror=function(){var _n=Bt.error?Bt.error:Bt.transaction.error;be(_n)}}catch(_n){be(_n)}})}).catch(be)});return d(oe,B),oe}function se($,Q){var B=this;$=p($);var ne=new f(function(oe,te){B.ready().then(function(){A(B._dbInfo,S,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.delete($);Ie.oncomplete=function(){oe()},Ie.onerror=function(){te(Re.error)},Ie.onabort=function(){var De=Re.error?Re.error:Re.transaction.error;te(De)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function ue($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){A(Q._dbInfo,S,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Re=Pe.error?Pe.error:Pe.transaction.error;oe(Re)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,$),B}function he($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){A(Q._dbInfo,E,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.count();Pe.onsuccess=function(){ne(Pe.result)},Pe.onerror=function(){oe(Pe.error)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,$),B}function fe($,Q){var B=this,ne=new f(function(oe,te){if($<0){oe(null);return}B.ready().then(function(){A(B._dbInfo,E,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=!1,De=Pe.openKeyCursor();De.onsuccess=function(){var et=De.result;if(!et){oe(null);return}$===0||Re?oe(et.key):(Re=!0,et.advance($))},De.onerror=function(){te(De.error)}}catch(et){te(et)}})}).catch(te)});return d(ne,Q),ne}function Se($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){A(Q._dbInfo,E,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.openKeyCursor(),Re=[];Pe.onsuccess=function(){var De=Pe.result;if(!De){ne(Re);return}Re.push(De.key),De.continue()},Pe.onerror=function(){oe(Pe.error)}}catch(De){oe(De)}})}).catch(oe)});return d(B,$),B}function me($,Q){Q=m.apply(this,arguments);var B=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||B.name,$.storeName=$.storeName||B.storeName);var ne=this,oe;if(!$.name)oe=f.reject("Invalid arguments");else{var te=$.name===B.name&&ne._dbInfo.db,be=te?f.resolve(ne._dbInfo.db):W($).then(function(Ie){var Pe=_[$.name],Re=Pe.forages;Pe.db=Ie;for(var De=0;De<Re.length;De++)Re[De]._dbInfo.db=Ie;return Ie});$.storeName?oe=be.then(function(Ie){if(Ie.objectStoreNames.contains($.storeName)){var Pe=Ie.version+1;M($);var Re=_[$.name],De=Re.forages;Ie.close();for(var et=0;et<De.length;et++){var Bt=De[et];Bt._dbInfo.db=null,Bt._dbInfo.version=Pe}var _n=new f(function(Sn,Sr){var sr=u.open($.name,Pe);sr.onerror=function(Is){var Gf=sr.result;Gf.close(),Sr(Is)},sr.onupgradeneeded=function(){var Is=sr.result;Is.deleteObjectStore($.storeName)},sr.onsuccess=function(){var Is=sr.result;Is.close(),Sn(Is)}});return _n.then(function(Sn){Re.db=Sn;for(var Sr=0;Sr<De.length;Sr++){var sr=De[Sr];sr._dbInfo.db=Sn,C(sr._dbInfo)}}).catch(function(Sn){throw(D($,Sn)||f.resolve()).catch(function(){}),Sn})}}):oe=be.then(function(Ie){M($);var Pe=_[$.name],Re=Pe.forages;Ie.close();for(var De=0;De<Re.length;De++){var et=Re[De];et._dbInfo.db=null}var Bt=new f(function(_n,Sn){var Sr=u.deleteDatabase($.name);Sr.onerror=function(){var sr=Sr.result;sr&&sr.close(),Sn(Sr.error)},Sr.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},Sr.onsuccess=function(){var sr=Sr.result;sr&&sr.close(),_n(sr)}});return Bt.then(function(_n){Pe.db=_n;for(var Sn=0;Sn<Re.length;Sn++){var Sr=Re[Sn];C(Sr._dbInfo)}}).catch(function(_n){throw(D($,_n)||f.resolve()).catch(function(){}),_n})})}return d(oe,Q),oe}var Je={_driver:"asyncStorage",_initStorage:z,_support:l(),iterate:R,getItem:k,setItem:Y,removeItem:se,clear:ue,length:he,key:fe,keys:Se,dropInstance:me};function Ge(){return typeof openDatabase=="function"}var qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,Ve="__lfsc__:",en=Ve.length,Me="arbf",Ue="blob",Et="si08",ze="ui08",_t="uic8",Gt="si16",ln="si32",Kn="ur16",ce="ui32",Ee="fl32",Fe="fl64",ot=en+Me.length,$e=Object.prototype.toString;function at($){var Q=$.length*.75,B=$.length,ne,oe=0,te,be,Ie,Pe;$[$.length-1]==="="&&(Q--,$[$.length-2]==="="&&Q--);var Re=new ArrayBuffer(Q),De=new Uint8Array(Re);for(ne=0;ne<B;ne+=4)te=qe.indexOf($[ne]),be=qe.indexOf($[ne+1]),Ie=qe.indexOf($[ne+2]),Pe=qe.indexOf($[ne+3]),De[oe++]=te<<2|be>>4,De[oe++]=(be&15)<<4|Ie>>2,De[oe++]=(Ie&3)<<6|Pe&63;return Re}function Be($){var Q=new Uint8Array($),B="",ne;for(ne=0;ne<Q.length;ne+=3)B+=qe[Q[ne]>>2],B+=qe[(Q[ne]&3)<<4|Q[ne+1]>>4],B+=qe[(Q[ne+1]&15)<<2|Q[ne+2]>>6],B+=qe[Q[ne+2]&63];return Q.length%3===2?B=B.substring(0,B.length-1)+"=":Q.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function rt($,Q){var B="";if($&&(B=$e.call($)),$&&(B==="[object ArrayBuffer]"||$.buffer&&$e.call($.buffer)==="[object ArrayBuffer]")){var ne,oe=Ve;$ instanceof ArrayBuffer?(ne=$,oe+=Me):(ne=$.buffer,B==="[object Int8Array]"?oe+=Et:B==="[object Uint8Array]"?oe+=ze:B==="[object Uint8ClampedArray]"?oe+=_t:B==="[object Int16Array]"?oe+=Gt:B==="[object Uint16Array]"?oe+=Kn:B==="[object Int32Array]"?oe+=ln:B==="[object Uint32Array]"?oe+=ce:B==="[object Float32Array]"?oe+=Ee:B==="[object Float64Array]"?oe+=Fe:Q(new Error("Failed to get type for BinaryArray"))),Q(oe+Be(ne))}else if(B==="[object Blob]"){var te=new FileReader;te.onload=function(){var be=Le+$.type+"~"+Be(this.result);Q(Ve+Ue+be)},te.readAsArrayBuffer($)}else try{Q(JSON.stringify($))}catch(be){console.error("Couldn't convert value into a JSON string: ",$),Q(null,be)}}function En($){if($.substring(0,en)!==Ve)return JSON.parse($);var Q=$.substring(ot),B=$.substring(en,ot),ne;if(B===Ue&&Ae.test(Q)){var oe=Q.match(Ae);ne=oe[1],Q=Q.substring(oe[0].length)}var te=at(Q);switch(B){case Me:return te;case Ue:return c([te],{type:ne});case Et:return new Int8Array(te);case ze:return new Uint8Array(te);case _t:return new Uint8ClampedArray(te);case Gt:return new Int16Array(te);case Kn:return new Uint16Array(te);case ln:return new Int32Array(te);case ce:return new Uint32Array(te);case Ee:return new Float32Array(te);case Fe:return new Float64Array(te);default:throw new Error("Unkown type: "+B)}}var qt={serialize:rt,deserialize:En,stringToBuffer:at,bufferToString:Be};function xt($,Q,B,ne){$.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,ne)}function jn($){var Q=this,B={db:null};if($)for(var ne in $)B[ne]=typeof $[ne]!="string"?$[ne].toString():$[ne];var oe=new f(function(te,be){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(Ie){return be(Ie)}B.db.transaction(function(Ie){xt(Ie,B,function(){Q._dbInfo=B,te()},function(Pe,Re){be(Re)})},be)});return B.serializer=qt,oe}function Tn($,Q,B,ne,oe,te){$.executeSql(B,ne,oe,function(be,Ie){Ie.code===Ie.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(Pe,Re){Re.rows.length?te(Pe,Ie):xt(Pe,Q,function(){Pe.executeSql(B,ne,oe,te)},te)},te):te(be,Ie)},te)}function ma($,Q){var B=this;$=p($);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){Tn(Ie,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[$],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).value:null;De&&(De=be.serializer.deserialize(De)),oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function pr($,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){Tn(Ie,be,"SELECT * FROM "+be.storeName,[],function(Pe,Re){for(var De=Re.rows,et=De.length,Bt=0;Bt<et;Bt++){var _n=De.item(Bt),Sn=_n.value;if(Sn&&(Sn=be.serializer.deserialize(Sn)),Sn=$(Sn,_n.key,Bt+1),Sn!==void 0){oe(Sn);return}}oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function Ui($,Q,B,ne){var oe=this;$=p($);var te=new f(function(be,Ie){oe.ready().then(function(){Q===void 0&&(Q=null);var Pe=Q,Re=oe._dbInfo;Re.serializer.serialize(Q,function(De,et){et?Ie(et):Re.db.transaction(function(Bt){Tn(Bt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[$,De],function(){be(Pe)},function(_n,Sn){Ie(Sn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(Ui.apply(oe,[$,Pe,B,ne-1]));return}Ie(Bt)}})})}).catch(Ie)});return d(te,B),te}function Er($,Q,B){return Ui.apply(this,[$,Q,B,1])}function Fr($,Q){var B=this;$=p($);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){Tn(Ie,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[$],function(){oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function mr($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){Tn(be,te,"DELETE FROM "+te.storeName,[],function(){ne()},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,$),B}function Un($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){Tn(be,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(Ie,Pe){var Re=Pe.rows.item(0).c;ne(Re)},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,$),B}function tn($,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){Tn(Ie,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).key:null;oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function ai($){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){Tn(be,te,"SELECT key FROM "+te.storeName,[],function(Ie,Pe){for(var Re=[],De=0;De<Pe.rows.length;De++)Re.push(Pe.rows.item(De).key);ne(Re)},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,$),B}function Tr($){return new f(function(Q,B){$.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(oe,te){for(var be=[],Ie=0;Ie<te.rows.length;Ie++)be.push(te.rows.item(Ie).name);Q({db:$,storeNames:be})},function(oe,te){B(te)})},function(ne){B(ne)})})}function Br($,Q){Q=m.apply(this,arguments);var B=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||B.name,$.storeName=$.storeName||B.storeName);var ne=this,oe;return $.name?oe=new f(function(te){var be;$.name===B.name?be=ne._dbInfo.db:be=openDatabase($.name,"","",0),$.storeName?te({db:be,storeNames:[$.storeName]}):te(Tr(be))}).then(function(te){return new f(function(be,Ie){te.db.transaction(function(Pe){function Re(_n){return new f(function(Sn,Sr){Pe.executeSql("DROP TABLE IF EXISTS "+_n,[],function(){Sn()},function(sr,Is){Sr(Is)})})}for(var De=[],et=0,Bt=te.storeNames.length;et<Bt;et++)De.push(Re(te.storeNames[et]));f.all(De).then(function(){be()}).catch(function(_n){Ie(_n)})},function(Pe){Ie(Pe)})})}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var bi={_driver:"webSQLStorage",_initStorage:jn,_support:Ge(),iterate:pr,getItem:ma,setItem:Er,removeItem:Fr,clear:mr,length:Un,key:tn,keys:ai,dropInstance:Br};function Ss(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X($,Q){var B=$.name+"/";return $.storeName!==Q.storeName&&(B+=$.storeName+"/"),B}function V(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Z(){return!V()||localStorage.length>0}function ye($){var Q=this,B={};if($)for(var ne in $)B[ne]=$[ne];return B.keyPrefix=X($,Q._defaultConfig),Z()?(Q._dbInfo=B,B.serializer=qt,f.resolve()):f.reject()}function ge($){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo.keyPrefix,oe=localStorage.length-1;oe>=0;oe--){var te=localStorage.key(oe);te.indexOf(ne)===0&&localStorage.removeItem(te)}});return d(B,$),B}function Ke($,Q){var B=this;$=p($);var ne=B.ready().then(function(){var oe=B._dbInfo,te=localStorage.getItem(oe.keyPrefix+$);return te&&(te=oe.serializer.deserialize(te)),te});return d(ne,Q),ne}function Te($,Q){var B=this,ne=B.ready().then(function(){for(var oe=B._dbInfo,te=oe.keyPrefix,be=te.length,Ie=localStorage.length,Pe=1,Re=0;Re<Ie;Re++){var De=localStorage.key(Re);if(De.indexOf(te)===0){var et=localStorage.getItem(De);if(et&&(et=oe.serializer.deserialize(et)),et=$(et,De.substring(be),Pe++),et!==void 0)return et}}});return d(ne,Q),ne}function We($,Q){var B=this,ne=B.ready().then(function(){var oe=B._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(oe.keyPrefix.length)),te});return d(ne,Q),ne}function dt($){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo,oe=localStorage.length,te=[],be=0;be<oe;be++){var Ie=localStorage.key(be);Ie.indexOf(ne.keyPrefix)===0&&te.push(Ie.substring(ne.keyPrefix.length))}return te});return d(B,$),B}function nt($){var Q=this,B=Q.keys().then(function(ne){return ne.length});return d(B,$),B}function gt($,Q){var B=this;$=p($);var ne=B.ready().then(function(){var oe=B._dbInfo;localStorage.removeItem(oe.keyPrefix+$)});return d(ne,Q),ne}function Lt($,Q,B){var ne=this;$=p($);var oe=ne.ready().then(function(){Q===void 0&&(Q=null);var te=Q;return new f(function(be,Ie){var Pe=ne._dbInfo;Pe.serializer.serialize(Q,function(Re,De){if(De)Ie(De);else try{localStorage.setItem(Pe.keyPrefix+$,Re),be(te)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(et),Ie(et)}})})});return d(oe,B),oe}function Ln($,Q){if(Q=m.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var B=this.config();$.name=$.name||B.name,$.storeName=$.storeName||B.storeName}var ne=this,oe;return $.name?oe=new f(function(te){$.storeName?te(X($,ne._defaultConfig)):te($.name+"/")}).then(function(te){for(var be=localStorage.length-1;be>=0;be--){var Ie=localStorage.key(be);Ie.indexOf(te)===0&&localStorage.removeItem(Ie)}}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var mt={_driver:"localStorageWrapper",_initStorage:ye,_support:Ss(),iterate:Te,getItem:Ke,setItem:Lt,removeItem:gt,clear:ge,length:nt,key:We,keys:dt,dropInstance:Ln},Cn=function(Q,B){return Q===B||typeof Q=="number"&&typeof B=="number"&&isNaN(Q)&&isNaN(B)},Tt=function(Q,B){for(var ne=Q.length,oe=0;oe<ne;){if(Cn(Q[oe],B))return!0;oe++}return!1},yn=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},ir={},Kr={},Nr={INDEXEDDB:Je,WEBSQL:bi,LOCALSTORAGE:mt},cs=[Nr.INDEXEDDB._driver,Nr.WEBSQL._driver,Nr.LOCALSTORAGE._driver],wi=["dropInstance"],gr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wi),Xe={description:"",driver:cs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt($,Q){$[Q]=function(){var B=arguments;return $.ready().then(function(){return $[Q].apply($,B)})}}function qn(){for(var $=1;$<arguments.length;$++){var Q=arguments[$];if(Q)for(var B in Q)Q.hasOwnProperty(B)&&(yn(Q[B])?arguments[0][B]=Q[B].slice():arguments[0][B]=Q[B])}return arguments[0]}var ui=function(){function $(Q){o(this,$);for(var B in Nr)if(Nr.hasOwnProperty(B)){var ne=Nr[B],oe=ne._driver;this[B]=oe,ir[oe]||this.defineDriver(ne)}this._defaultConfig=qn({},Xe),this._config=qn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in B){if(ne==="storeName"&&(B[ne]=B[ne].replace(/\W/g,"_")),ne==="version"&&typeof B[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=B[ne]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},$.prototype.defineDriver=function(B,ne,oe){var te=new f(function(be,Ie){try{var Pe=B._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){Ie(Re);return}for(var De=gr.concat("_initStorage"),et=0,Bt=De.length;et<Bt;et++){var _n=De[et],Sn=!Tt(wi,_n);if((Sn||B[_n])&&typeof B[_n]!="function"){Ie(Re);return}}var Sr=function(){for(var Gf=function(GA){return function(){var $h=new Error("Method "+GA+" is not implemented by the current driver"),Lh=f.reject($h);return d(Lh,arguments[arguments.length-1]),Lh}},Rg=0,kg=wi.length;Rg<kg;Rg++){var Ng=wi[Rg];B[Ng]||(B[Ng]=Gf(Ng))}};Sr();var sr=function(Gf){ir[Pe]&&console.info("Redefining LocalForage driver: "+Pe),ir[Pe]=B,Kr[Pe]=Gf,be()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(sr,Ie):sr(!!B._support):sr(!0)}catch(Is){Ie(Is)}});return h(te,ne,oe),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(B,ne,oe){var te=ir[B]?f.resolve(ir[B]):f.reject(new Error("Driver not found."));return h(te,ne,oe),te},$.prototype.getSerializer=function(B){var ne=f.resolve(qt);return h(ne,B),ne},$.prototype.ready=function(B){var ne=this,oe=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(oe,B,B),oe},$.prototype.setDriver=function(B,ne,oe){var te=this;yn(B)||(B=[B]);var be=this._getSupportedDrivers(B);function Ie(){te._config.driver=te.driver()}function Pe(et){return te._extend(et),Ie(),te._ready=te._initStorage(te._config),te._ready}function Re(et){return function(){var Bt=0;function _n(){for(;Bt<et.length;){var Sn=et[Bt];return Bt++,te._dbInfo=null,te._ready=null,te.getDriver(Sn).then(Pe).catch(_n)}Ie();var Sr=new Error("No available storage method found.");return te._driverSet=f.reject(Sr),te._driverSet}return _n()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=De.then(function(){var et=be[0];return te._dbInfo=null,te._ready=null,te.getDriver(et).then(function(Bt){te._driver=Bt._driver,Ie(),te._wrapLibraryMethodsWithReady(),te._initDriver=Re(be)})}).catch(function(){Ie();var et=new Error("No available storage method found.");return te._driverSet=f.reject(et),te._driverSet}),h(this._driverSet,ne,oe),this._driverSet},$.prototype.supports=function(B){return!!Kr[B]},$.prototype._extend=function(B){qn(this,B)},$.prototype._getSupportedDrivers=function(B){for(var ne=[],oe=0,te=B.length;oe<te;oe++){var be=B[oe];this.supports(be)&&ne.push(be)}return ne},$.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,ne=gr.length;B<ne;B++)zt(this,gr[B])},$.prototype.createInstance=function(B){return new $(B)},$}(),xs=new ui;r.exports=xs},{3:3}]},{},[4])(4)})})(Xae);var crt=Xae.exports;const Jae=qa(crt);let ib;const frt=new Uint8Array(16);function drt(){if(!ib&&(ib=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ib))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ib(frt)}const Ti=[];for(let e=0;e<256;++e)Ti.push((e+256).toString(16).slice(1));function hrt(e,t=0){return Ti[e[t+0]]+Ti[e[t+1]]+Ti[e[t+2]]+Ti[e[t+3]]+"-"+Ti[e[t+4]]+Ti[e[t+5]]+"-"+Ti[e[t+6]]+Ti[e[t+7]]+"-"+Ti[e[t+8]]+Ti[e[t+9]]+"-"+Ti[e[t+10]]+Ti[e[t+11]]+Ti[e[t+12]]+Ti[e[t+13]]+Ti[e[t+14]]+Ti[e[t+15]]}const prt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rz={randomUUID:prt};function kz(e,t,n){if(Rz.randomUUID&&!t&&!e)return Rz.randomUUID();e=e||{};const r=e.random||(e.rng||drt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return hrt(r)}class Zae{constructor(t){so(this,"engine");so(this,"connected",!1);so(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Jp(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class mrt extends Zae{constructor(){super("localStorage");so(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Jae.createInstance({name:n});const i=await Jp(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Jp(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=kz();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=kz();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Jp(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var Nz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},grt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},w6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eue(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):grt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new yrt;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yrt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _rt=function(e){const t=eue(e);return w6.encodeByteArray(t,!0)},FS=function(e){return _rt(e).replace(/\./g,"")},tue=function(e){try{return w6.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vrt=()=>nue().__FIREBASE_DEFAULTS__,brt=()=>{if(typeof process>"u"||typeof Nz>"u")return;const e=Nz.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wrt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&tue(e[1]);return t&&JSON.parse(t)},E6=()=>{try{return vrt()||brt()||wrt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rue=e=>{var t,n;return(n=(t=E6())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ert=e=>{const t=rue(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},iue=()=>{var e;return(e=E6())===null||e===void 0?void 0:e.config},sue=e=>{var t;return(t=E6())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Trt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[FS(JSON.stringify(n)),FS(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Srt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(os())}function xrt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Irt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Art(){const e=os();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T6(){try{return typeof indexedDB=="object"}catch{return!1}}function Crt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ort="FirebaseError";class tl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ort,Object.setPrototypeOf(this,tl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wg.prototype.create)}}class wg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Prt(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tl(i,a,r)}}function Prt(e,t){return e.replace(Rrt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Rrt=/\{\$([^}]+)}/g;function krt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function v_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Dz(s)&&Dz(o)){if(!v_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dz(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nrt(e,t){const n=new Drt(e,t);return n.subscribe.bind(n)}class Drt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$rt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=SP),i.error===void 0&&(i.error=SP),i.complete===void 0&&(i.complete=SP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $rt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function SP(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lrt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mrt=1e3,Frt=2,Brt=4*60*60*1e3,jrt=.5;function Urt(e,t=Mrt,n=Frt){const r=t*Math.pow(n,e),i=Math.round(jrt*r*(Math.random()-.5)*2);return Math.min(Brt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e){return e&&e._delegate?e._delegate:e}class qu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vrt{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new __;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hrt(t))try{this.getOrInitializeService({instanceIdentifier:ad})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ad){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ad){return this.instances.has(t)}getOptions(t=ad){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zrt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ad){return this.component?this.component.multipleInstances?t:ad:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zrt(e){return e===ad?void 0:e}function Hrt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qrt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Vrt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(sn||(sn={}));const Wrt={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},Yrt=sn.INFO,Grt={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},Krt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Grt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mA{constructor(t){this.name=t,this._logLevel=Yrt,this._logHandler=Krt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in sn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Wrt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}const Qrt=(e,t)=>t.some(n=>e instanceof n);let $z,Lz;function Xrt(){return $z||($z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jrt(){return Lz||(Lz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oue=new WeakMap,Hk=new WeakMap,aue=new WeakMap,xP=new WeakMap,S6=new WeakMap;function Zrt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(lf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&oue.set(n,e)}).catch(()=>{}),S6.set(t,e),t}function eit(e){if(Hk.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Hk.set(e,t)}let qk={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Hk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||aue.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tit(e){qk=e(qk)}function nit(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(IP(this),t,...n);return aue.set(r,t.sort?t.sort():[t]),lf(r)}:Jrt().includes(e)?function(...t){return e.apply(IP(this),t),lf(oue.get(this))}:function(...t){return lf(e.apply(IP(this),t))}}function rit(e){return typeof e=="function"?nit(e):(e instanceof IDBTransaction&&eit(e),Qrt(e,Xrt())?new Proxy(e,qk):e)}function lf(e){if(e instanceof IDBRequest)return Zrt(e);if(xP.has(e))return xP.get(e);const t=rit(e);return t!==e&&(xP.set(e,t),S6.set(t,e)),t}const IP=e=>S6.get(e);function iit(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=lf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(lf(o.result),u.oldVersion,u.newVersion,lf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const sit=["get","getKey","getAll","getAllKeys","count"],oit=["put","add","delete","clear"],AP=new Map;function Mz(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(AP.get(t))return AP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oit.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sit.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return AP.set(t,s),s}tit(e=>({...e,get:(t,n,r)=>Mz(t,n)||e.get(t,n,r),has:(t,n)=>!!Mz(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ait{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uit(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uit(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wk="@firebase/app",Fz="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new mA("@firebase/app"),lit="@firebase/app-compat",cit="@firebase/analytics-compat",fit="@firebase/analytics",dit="@firebase/app-check-compat",hit="@firebase/app-check",pit="@firebase/auth",mit="@firebase/auth-compat",git="@firebase/database",yit="@firebase/database-compat",_it="@firebase/functions",vit="@firebase/functions-compat",bit="@firebase/installations",wit="@firebase/installations-compat",Eit="@firebase/messaging",Tit="@firebase/messaging-compat",Sit="@firebase/performance",xit="@firebase/performance-compat",Iit="@firebase/remote-config",Ait="@firebase/remote-config-compat",Cit="@firebase/storage",Oit="@firebase/storage-compat",Pit="@firebase/firestore",Rit="@firebase/firestore-compat",kit="firebase",Nit="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="[DEFAULT]",Dit={[Wk]:"fire-core",[lit]:"fire-core-compat",[fit]:"fire-analytics",[cit]:"fire-analytics-compat",[hit]:"fire-app-check",[dit]:"fire-app-check-compat",[pit]:"fire-auth",[mit]:"fire-auth-compat",[git]:"fire-rtdb",[yit]:"fire-rtdb-compat",[_it]:"fire-fn",[vit]:"fire-fn-compat",[bit]:"fire-iid",[wit]:"fire-iid-compat",[Eit]:"fire-fcm",[Tit]:"fire-fcm-compat",[Sit]:"fire-perf",[xit]:"fire-perf-compat",[Iit]:"fire-rc",[Ait]:"fire-rc-compat",[Cit]:"fire-gcs",[Oit]:"fire-gcs-compat",[Pit]:"fire-fst",[Rit]:"fire-fst-compat","fire-js":"fire-js",[kit]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Map,Gk=new Map;function $it(e,t){try{e.container.addComponent(t)}catch(n){ah.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xl(e){const t=e.name;if(Gk.has(t))return ah.debug(`There were multiple attempts to register component ${t}.`),!1;Gk.set(t,e);for(const n of BS.values())$it(n,e);return!0}function Eg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lit={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cf=new wg("app","Firebase",Lit);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mit{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=Nit;function uue(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Yk,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw cf.create("bad-app-name",{appName:String(i)});if(n||(n=iue()),!n)throw cf.create("no-options");const s=BS.get(i);if(s){if(v_(n,s.options)&&v_(r,s.config))return s;throw cf.create("duplicate-app",{appName:i})}const o=new qrt(i);for(const u of Gk.values())o.addComponent(u);const a=new Mit(n,r,o);return BS.set(i,a),a}function x6(e=Yk){const t=BS.get(e);if(!t&&e===Yk&&iue())return uue();if(!t)throw cf.create("no-app",{appName:e});return t}function Ba(e,t,n){var r;let i=(r=Dit[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ah.warn(a.join(" "));return}Xl(new qu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fit="firebase-heartbeat-database",Bit=1,b_="firebase-heartbeat-store";let CP=null;function lue(){return CP||(CP=iit(Fit,Bit,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(b_)}}}).catch(e=>{throw cf.create("idb-open",{originalErrorMessage:e.message})})),CP}async function jit(e){try{return await(await lue()).transaction(b_).objectStore(b_).get(cue(e))}catch(t){if(t instanceof tl)ah.warn(t.message);else{const n=cf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ah.warn(n.message)}}}async function Bz(e,t){try{const r=(await lue()).transaction(b_,"readwrite");await r.objectStore(b_).put(t,cue(e)),await r.done}catch(n){if(n instanceof tl)ah.warn(n.message);else{const r=cf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ah.warn(r.message)}}}function cue(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uit=1024,Vit=30*24*60*60*1e3;class zit{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qit(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jz();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Vit}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jz(),{heartbeatsToSend:r,unsentEntries:i}=Hit(this._heartbeatsCache.heartbeats),s=FS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function jz(){return new Date().toISOString().substring(0,10)}function Hit(e,t=Uit){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uz(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uz(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qit{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T6()?Crt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jit(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Uz(e){return FS(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wit(e){Xl(new qu("platform-logger",t=>new ait(t),"PRIVATE")),Xl(new qu("heartbeat",t=>new zit(t),"PRIVATE")),Ba(Wk,Fz,e),Ba(Wk,Fz,"esm2017"),Ba("fire-js","")}Wit("");var Yit="firebase",Git="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba(Yit,Git,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue="firebasestorage.googleapis.com",due="storageBucket",Kit=2*60*1e3,Qit=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends tl{constructor(t,n,r=0){super(OP(t),`Firebase Storage: ${n} (${OP(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return OP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pr||(Pr={}));function OP(e){return"storage/"+e}function I6(){const e="An unknown error occurred, please check the error payload for server response.";return new kr(Pr.UNKNOWN,e)}function Xit(e){return new kr(Pr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Jit(e){return new kr(Pr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zit(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(Pr.UNAUTHENTICATED,e)}function est(){return new kr(Pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tst(e){return new kr(Pr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function nst(){return new kr(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rst(){return new kr(Pr.CANCELED,"User canceled the upload/download.")}function ist(e){return new kr(Pr.INVALID_URL,"Invalid URL '"+e+"'.")}function sst(e){return new kr(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function ost(){return new kr(Pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+due+"' property when initializing the app?")}function ast(){return new kr(Pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ust(){return new kr(Pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lst(e){return new kr(Pr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kk(e){return new kr(Pr.INVALID_ARGUMENT,e)}function hue(){return new kr(Pr.APP_DELETED,"The Firebase app was deleted.")}function cst(e){return new kr(Pr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yy(e,t){return new kr(Pr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function h0(e){throw new kr(Pr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=yo.makeFromUrl(t,n)}catch{return new yo(t,"")}if(r.path==="")return r;throw sst(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===fue?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let E=0;E<v.length;E++){const S=v[E],w=S.regex.exec(t);if(w){const x=w[S.indices.bucket];let I=w[S.indices.path];I||(I=""),r=new yo(x,I),S.postModify(r);break}}if(r==null)throw ist(t);return r}}class fst{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dst(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function hst(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pst(e){return e!==void 0}function mst(e){return typeof e=="object"&&!Array.isArray(e)}function A6(e){return typeof e=="string"||e instanceof String}function Vz(e){return C6()&&e instanceof Blob}function C6(){return typeof Blob<"u"}function zz(e,t,n,r){if(r<t)throw Kk(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Kk(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function pue(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Bd||(Bd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gst(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yst{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new sb(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Bd.NO_ERROR,u=s.getStatus();if(!a||gst(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Bd.ABORT;r(!1,new sb(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new sb(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());pst(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=I6();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?hue():rst();o(u)}else{const u=nst();o(u)}};this.canceled_?n(!1,new sb(!1,null,!0)):this.backoffId_=dst(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hst(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sb{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function _st(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function vst(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function bst(e,t){t&&(e["X-Firebase-GMPID"]=t)}function wst(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Est(e,t,n,r,i,s,o=!0){const a=pue(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return bst(l,t),_st(l,n),vst(l,s),wst(l,r),new yst(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tst(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sst(...e){const t=Tst();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(C6())return new Blob(e);throw new kr(Pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xst(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ist(e){if(typeof atob>"u")throw lst("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PP{constructor(t,n){this.data=t,this.contentType=n||null}}function Ast(e,t){switch(e){case Tu.RAW:return new PP(mue(t));case Tu.BASE64:case Tu.BASE64URL:return new PP(gue(e,t));case Tu.DATA_URL:return new PP(Ost(t),Pst(t))}throw I6()}function mue(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Cst(e){let t;try{t=decodeURIComponent(e)}catch{throw yy(Tu.DATA_URL,"Malformed data URL.")}return mue(t)}function gue(e,t){switch(e){case Tu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw yy(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw yy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ist(t)}catch(i){throw i.message.includes("polyfill")?i:yy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yue{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw yy(Tu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Rst(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Ost(e){const t=new yue(e);return t.base64?gue(Tu.BASE64,t.rest):Cst(t.rest)}function Pst(e){return new yue(e).contentType}function Rst(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n){let r=0,i="";Vz(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Vz(this.data_)){const r=this.data_,i=xst(r,t,n);return i===null?null:new Dc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Dc(r,!0)}}static getBlob(...t){if(C6()){const n=t.map(r=>r instanceof Dc?r.data_:r);return new Dc(Sst.apply(null,n))}else{const n=t.map(o=>A6(o)?Ast(Tu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Dc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(e){let t;try{t=JSON.parse(e)}catch{return null}return mst(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kst(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Nst(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function vue(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dst(e,t){return t}class fs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Dst}}let ob=null;function $st(e){return!A6(e)||e.length<2?e:vue(e)}function bue(){if(ob)return ob;const e=[];e.push(new fs("bucket")),e.push(new fs("generation")),e.push(new fs("metageneration")),e.push(new fs("name","fullPath",!0));function t(s,o){return $st(o)}const n=new fs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new fs("size");return i.xform=r,e.push(i),e.push(new fs("timeCreated")),e.push(new fs("updated")),e.push(new fs("md5Hash",null,!0)),e.push(new fs("cacheControl",null,!0)),e.push(new fs("contentDisposition",null,!0)),e.push(new fs("contentEncoding",null,!0)),e.push(new fs("contentLanguage",null,!0)),e.push(new fs("contentType",null,!0)),e.push(new fs("metadata","customMetadata",!0)),ob=e,ob}function Lst(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new yo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Mst(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Lst(r,e),r}function wue(e,t,n){const r=_ue(t);return r===null?null:Mst(e,r,n)}function Fst(e,t,n,r){const i=_ue(t);if(i===null||!A6(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=O6(d,n,r),p=pue({alt:"media",token:l});return h+p})[0]}function Bst(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Eue{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tue(e){if(!e)throw I6()}function jst(e,t){function n(r,i){const s=wue(e,i,t);return Tue(s!==null),s}return n}function Ust(e,t){function n(r,i){const s=wue(e,i,t);return Tue(s!==null),Fst(s,i,e.host,e._protocol)}return n}function Sue(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=est():i=Zit():n.getStatus()===402?i=Jit(e.bucket):n.getStatus()===403?i=tst(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Vst(e){const t=Sue(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Xit(e.path)),s.serverResponse=i.serverResponse,s}return n}function zst(e,t,n){const r=t.fullServerUrl(),i=O6(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Eue(i,s,Ust(e,n),o);return a.errorHandler=Vst(t),a}function Hst(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function qst(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Hst(null,t)),r}function Wst(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let E=0;E<2;E++)v=v+Math.random().toString().slice(2);return v}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=qst(t,r,i),c=Bst(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Dc.getBlob(f,r,d);if(h===null)throw ast();const p={name:l.fullPath},m=O6(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,_=new Eue(m,y,jst(e,n),g);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=Sue(t),_}class Yst{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw h0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw h0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw h0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw h0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw h0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Gst extends Yst{initXhr(){this.xhr_.responseType="text"}}function xue(){return new Gst}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this._service=t,n instanceof yo?this._location=n:this._location=yo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new uh(t,n)}get root(){const t=new yo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vue(this._location.path)}get storage(){return this._service}get parent(){const t=kst(this._location.path);if(t===null)return null;const n=new yo(this._location.bucket,t);return new uh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw cst(t)}}function Kst(e,t,n){e._throwIfRoot("uploadBytes");const r=Wst(e.storage,e._location,bue(),new Dc(t,!0),n);return e.storage.makeRequestWithTokens(r,xue).then(i=>({metadata:i,ref:e}))}function Qst(e){e._throwIfRoot("getDownloadURL");const t=zst(e.storage,e._location,bue());return e.storage.makeRequestWithTokens(t,xue).then(n=>{if(n===null)throw ust();return n})}function Xst(e,t){const n=Nst(e._location.path,t),r=new yo(e._location.bucket,n);return new uh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jst(e){return/^[A-Za-z]+:\/\//.test(e)}function Zst(e,t){return new uh(e,t)}function Iue(e,t){if(e instanceof P6){const n=e;if(n._bucket==null)throw ost();const r=new uh(n,n._bucket);return t!=null?Iue(r,t):r}else return t!==void 0?Xst(e,t):e}function eot(e,t){if(t&&Jst(t)){if(e instanceof P6)return Zst(e,t);throw Kk("To use ref(service, url), the first argument must be a Storage instance.")}else return Iue(e,t)}function Hz(e,t){const n=t==null?void 0:t[due];return n==null?null:yo.makeFromBucketSpec(n,e)}function tot(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Trt(i,e.app.options.projectId))}class P6{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fue,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kit,this._maxUploadRetryTime=Qit,this._requests=new Set,i!=null?this._bucket=yo.makeFromBucketSpec(i,this._host):this._bucket=Hz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=yo.makeFromBucketSpec(this._url,t):this._bucket=Hz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zz("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zz("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new uh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new fst(hue());{const o=Est(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const qz="@firebase/storage",Wz="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue="storage";function not(e,t,n){return e=Fi(e),Kst(e,t,n)}function rot(e){return e=Fi(e),Qst(e)}function Yz(e,t){return e=Fi(e),eot(e,t)}function Gz(e=x6(),t){e=Fi(e);const r=Eg(e,Aue).getImmediate({identifier:t}),i=Ert("storage");return i&&iot(r,...i),r}function iot(e,t,n,r={}){tot(e,t,n,r)}function sot(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new P6(n,r,i,t,Ph)}function oot(){Xl(new qu(Aue,sot,"PUBLIC").setMultipleInstances(!0)),Ba(qz,Wz,""),Ba(qz,Wz,"esm2017")}oot();var aot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,R6=R6||{},St=aot||self;function gA(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Rv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function uot(e){return Object.prototype.hasOwnProperty.call(e,RP)&&e[RP]||(e[RP]=++lot)}var RP="closure_uid_"+(1e9*Math.random()>>>0),lot=0;function cot(e,t,n){return e.call.apply(e.bind,arguments)}function fot(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ns(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ns=cot:ns=fot,ns.apply(null,arguments)}function ab(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function vi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Wf(){this.s=this.s,this.o=this.o}var dot=0;Wf.prototype.s=!1;Wf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),dot!=0)&&uot(this)};Wf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cue=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function k6(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kz(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gA(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function rs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rs.prototype.h=function(){this.defaultPrevented=!0};var hot=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};St.addEventListener("test",n,t),St.removeEventListener("test",n,t)}catch{}return e}();function w_(e){return/^[\s\xa0]*$/.test(e)}function yA(){var e=St.navigator;return e&&(e=e.userAgent)?e:""}function _u(e){return yA().indexOf(e)!=-1}function N6(e){return N6[" "](e),e}N6[" "]=function(){};function pot(e,t){var n=oat;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var mot=_u("Opera"),Fm=_u("Trident")||_u("MSIE"),Oue=_u("Edge"),Qk=Oue||Fm,Pue=_u("Gecko")&&!(yA().toLowerCase().indexOf("webkit")!=-1&&!_u("Edge"))&&!(_u("Trident")||_u("MSIE"))&&!_u("Edge"),got=yA().toLowerCase().indexOf("webkit")!=-1&&!_u("Edge");function Rue(){var e=St.document;return e?e.documentMode:void 0}var Xk;e:{var kP="",NP=function(){var e=yA();if(Pue)return/rv:([^\);]+)(\)|;)/.exec(e);if(Oue)return/Edge\/([\d\.]+)/.exec(e);if(Fm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(got)return/WebKit\/(\S+)/.exec(e);if(mot)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(NP&&(kP=NP?NP[1]:""),Fm){var DP=Rue();if(DP!=null&&DP>parseFloat(kP)){Xk=String(DP);break e}}Xk=kP}var Jk;if(St.document&&Fm){var Qz=Rue();Jk=Qz||parseInt(Xk,10)||void 0}else Jk=void 0;var yot=Jk;function E_(e,t){if(rs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pue){e:{try{N6(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:_ot[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&E_.$.h.call(this)}}vi(E_,rs);var _ot={2:"touch",3:"pen",4:"mouse"};E_.prototype.h=function(){E_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kv="closure_listenable_"+(1e6*Math.random()|0),vot=0;function bot(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++vot,this.fa=this.ia=!1}function _A(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function D6(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function wot(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function kue(e){const t={};for(const n in e)t[n]=e[n];return t}const Xz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nue(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Xz.length;s++)n=Xz[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vA(e){this.src=e,this.g={},this.h=0}vA.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=eN(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new bot(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Zk(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Cue(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_A(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function eN(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var $6="closure_lm_"+(1e6*Math.random()|0),$P={};function Due(e,t,n,r,i){if(r&&r.once)return Lue(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Due(e,t[s],n,r,i);return null}return n=F6(n),e&&e[kv]?e.O(t,n,Rv(r)?!!r.capture:!!r,i):$ue(e,t,n,!1,r,i)}function $ue(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Rv(i)?!!i.capture:!!i,a=M6(e);if(a||(e[$6]=a=new vA(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Eot(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)hot||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fue(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Eot(){function e(n){return t.call(e.src,e.listener,n)}const t=Tot;return e}function Lue(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Lue(e,t[s],n,r,i);return null}return n=F6(n),e&&e[kv]?e.P(t,n,Rv(r)?!!r.capture:!!r,i):$ue(e,t,n,!0,r,i)}function Mue(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Mue(e,t[s],n,r,i);else r=Rv(r)?!!r.capture:!!r,n=F6(n),e&&e[kv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=eN(s,n,r,i),-1<n&&(_A(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=M6(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eN(t,n,r,i)),(n=-1<e?t[e]:null)&&L6(n))}function L6(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[kv])Zk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fue(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=M6(t))?(Zk(n,e),n.h==0&&(n.src=null,t[$6]=null)):_A(e)}}}function Fue(e){return e in $P?$P[e]:$P[e]="on"+e}function Tot(e,t){if(e.fa)e=!0;else{t=new E_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&L6(e),e=n.call(r,t)}return e}function M6(e){return e=e[$6],e instanceof vA?e:null}var LP="__closure_events_fn_"+(1e9*Math.random()>>>0);function F6(e){return typeof e=="function"?e:(e[LP]||(e[LP]=function(t){return e.handleEvent(t)}),e[LP])}function gi(){Wf.call(this),this.i=new vA(this),this.S=this,this.J=null}vi(gi,Wf);gi.prototype[kv]=!0;gi.prototype.removeEventListener=function(e,t,n,r){Mue(this,e,t,n,r)};function $i(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new rs(t,e);else if(t instanceof rs)t.target=t.target||e;else{var i=t;t=new rs(r,e),Nue(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ub(o,r,!0,t)&&i}if(o=t.g=e,i=ub(o,r,!0,t)&&i,i=ub(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ub(o,r,!1,t)&&i}gi.prototype.N=function(){if(gi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)_A(n[r]);delete e.g[t],e.h--}}this.J=null};gi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};gi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ub(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Zk(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var B6=St.JSON.stringify;class Sot{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function xot(){var e=j6;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Iot{constructor(){this.h=this.g=null}add(t,n){const r=Bue.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Bue=new Sot(()=>new Aot,e=>e.reset());class Aot{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cot(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oot(e){St.setTimeout(()=>{throw e},0)}let T_,S_=!1,j6=new Iot,jue=()=>{const e=St.Promise.resolve(void 0);T_=()=>{e.then(Pot)}};var Pot=()=>{for(var e;e=xot();){try{e.h.call(e.g)}catch(n){Oot(n)}var t=Bue;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}S_=!1};function bA(e,t){gi.call(this),this.h=e||1,this.g=t||St,this.j=ns(this.qb,this),this.l=Date.now()}vi(bA,gi);je=bA.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$i(this,"tick"),this.ga&&(U6(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function U6(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}je.N=function(){bA.$.N.call(this),U6(this),delete this.g};function V6(e,t,n){if(typeof e=="function")n&&(e=ns(e,n));else if(e&&typeof e.handleEvent=="function")e=ns(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:St.setTimeout(e,t||0)}function Uue(e){e.g=V6(()=>{e.g=null,e.i&&(e.i=!1,Uue(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Rot extends Wf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Uue(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x_(e){Wf.call(this),this.h=e,this.g={}}vi(x_,Wf);var Jz=[];function Vue(e,t,n,r){Array.isArray(n)||(n&&(Jz[0]=n.toString()),n=Jz);for(var i=0;i<n.length;i++){var s=Due(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function zue(e){D6(e.g,function(t,n){this.g.hasOwnProperty(n)&&L6(t)},e),e.g={}}x_.prototype.N=function(){x_.$.N.call(this),zue(this)};x_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wA(){this.g=!0}wA.prototype.Ea=function(){this.g=!1};function kot(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Not(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ap(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$ot(e,n)+(r?" "+r:"")})}function Dot(e,t){e.info(function(){return"TIMEOUT: "+t})}wA.prototype.info=function(){};function $ot(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return B6(n)}catch{return t}}var Rh={},Zz=null;function EA(){return Zz=Zz||new gi}Rh.Ta="serverreachability";function Hue(e){rs.call(this,Rh.Ta,e)}vi(Hue,rs);function I_(e){const t=EA();$i(t,new Hue(t))}Rh.STAT_EVENT="statevent";function que(e,t){rs.call(this,Rh.STAT_EVENT,e),this.stat=t}vi(que,rs);function ms(e){const t=EA();$i(t,new que(t,e))}Rh.Ua="timingevent";function Wue(e,t){rs.call(this,Rh.Ua,e),this.size=t}vi(Wue,rs);function Nv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){e()},t)}var TA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yue={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function z6(){}z6.prototype.h=null;function eH(e){return e.h||(e.h=e.i())}function Gue(){}var Dv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H6(){rs.call(this,"d")}vi(H6,rs);function q6(){rs.call(this,"c")}vi(q6,rs);var tN;function SA(){}vi(SA,z6);SA.prototype.g=function(){return new XMLHttpRequest};SA.prototype.i=function(){return{}};tN=new SA;function $v(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new x_(this),this.P=Lot,e=Qk?125:void 0,this.V=new bA(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kue}function Kue(){this.i=null,this.g="",this.h=!1}var Lot=45e3,Que={},nN={};je=$v.prototype;je.setTimeout=function(e){this.P=e};function rN(e,t,n){e.L=1,e.A=IA(Jl(t)),e.u=n,e.S=!0,Xue(e,null)}function Xue(e,t){e.G=Date.now(),Lv(e),e.B=Jl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),sle(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Kue,e.g=Ile(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Rot(ns(e.Pa,e,e.g),e.O)),Vue(e.U,e.g,"readystatechange",e.nb),t=e.I?kue(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),I_(),kot(e.j,e.v,e.B,e.m,e.W,e.u)}je.nb=function(e){e=e.target;const t=this.M;t&&Su(e)==3?t.l():this.Pa(e)};je.Pa=function(e){try{if(e==this.g)e:{const c=Su(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Qk||this.g&&(this.h.h||this.g.ja()||iH(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?I_(3):I_(2)),xA(this);var n=this.g.da();this.ca=n;t:if(Jue(this)){var r=iH(this.g);e="";var i=r.length,s=Su(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pd(this),_y(this);var o="";break t}this.h.i=new St.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Not(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w_(a)){var l=a;break t}}l=null}if(n=l)Ap(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iN(this,n);else{this.i=!1,this.s=3,ms(12),Pd(this),_y(this);break e}}this.S?(Zue(this,c,o),Qk&&this.i&&c==3&&(Vue(this.U,this.V,"tick",this.mb),this.V.start())):(Ap(this.j,this.m,o,null),iN(this,o)),c==4&&Pd(this),this.i&&!this.J&&(c==4?Ele(this.l,this):(this.i=!1,Lv(this)))}else rat(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ms(12)):(this.s=0,ms(13)),Pd(this),_y(this)}}}catch{}finally{}};function Jue(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Zue(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Mot(e,n),i==nN){t==4&&(e.s=4,ms(14),r=!1),Ap(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Que){e.s=4,ms(15),Ap(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ap(e.j,e.m,i,null),iN(e,i);Jue(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ms(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),X6(t),t.M=!0,ms(11))):(Ap(e.j,e.m,n,"[Invalid Chunked Response]"),Pd(e),_y(e))}je.mb=function(){if(this.g){var e=Su(this.g),t=this.g.ja();this.o<t.length&&(xA(this),Zue(this,e,t),this.i&&e!=4&&Lv(this))}};function Mot(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?nN:(n=Number(t.substring(n,r)),isNaN(n)?Que:(r+=1,r+n>t.length?nN:(t=t.slice(r,r+n),e.o=r+n,t)))}je.cancel=function(){this.J=!0,Pd(this)};function Lv(e){e.Y=Date.now()+e.P,ele(e,e.P)}function ele(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Nv(ns(e.lb,e),t)}function xA(e){e.C&&(St.clearTimeout(e.C),e.C=null)}je.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Dot(this.j,this.B),this.L!=2&&(I_(),ms(17)),Pd(this),this.s=2,_y(this)):ele(this,this.Y-e)};function _y(e){e.l.H==0||e.J||Ele(e.l,e)}function Pd(e){xA(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,U6(e.V),zue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function iN(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||sN(n.i,e))){if(!e.K&&sN(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)VS(n),PA(n);else break e;Q6(n),ms(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Nv(ns(n.ib,n),6e3));if(1>=ule(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rd(n,11)}else if((e.K||n.g==e)&&VS(n),!w_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W6(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Zn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=xle(r,r.J?r.pa:null,r.Y),o.K){lle(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(xA(a),Lv(a)),r.g=o}else ble(r);0<n.j.length&&RA(n)}else l[0]!="stop"&&l[0]!="close"||Rd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Rd(n,7):K6(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}I_(4)}catch{}}function Fot(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(gA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Bot(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(gA(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function tle(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(gA(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Bot(e),r=Fot(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var nle=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jot(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function jd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jd){this.h=e.h,jS(this,e.j),this.s=e.s,this.g=e.g,US(this,e.m),this.l=e.l;var t=e.i,n=new A_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tH(this,n),this.o=e.o}else e&&(t=String(e).match(nle))?(this.h=!1,jS(this,t[1]||"",!0),this.s=$0(t[2]||""),this.g=$0(t[3]||"",!0),US(this,t[4]),this.l=$0(t[5]||"",!0),tH(this,t[6]||"",!0),this.o=$0(t[7]||"")):(this.h=!1,this.i=new A_(null,this.h))}jd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(L0(t,nH,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(L0(t,nH,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(L0(n,n.charAt(0)=="/"?zot:Vot,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",L0(n,qot)),e.join("")};function Jl(e){return new jd(e)}function jS(e,t,n){e.j=n?$0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function US(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tH(e,t,n){t instanceof A_?(e.i=t,Wot(e.i,e.h)):(n||(t=L0(t,Hot)),e.i=new A_(t,e.h))}function Zn(e,t,n){e.i.set(t,n)}function IA(e){return Zn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function L0(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Uot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Uot(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var nH=/[#\/\?@]/g,Vot=/[#\?:]/g,zot=/[#\?]/g,Hot=/[#\?@]/g,qot=/#/g;function A_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yf(e){e.g||(e.g=new Map,e.h=0,e.i&&jot(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}je=A_.prototype;je.add=function(e,t){Yf(this),this.i=null,e=Tg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function rle(e,t){Yf(e),t=Tg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ile(e,t){return Yf(e),t=Tg(e,t),e.g.has(t)}je.forEach=function(e,t){Yf(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};je.ta=function(){Yf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};je.Z=function(e){Yf(this);let t=[];if(typeof e=="string")ile(this,e)&&(t=t.concat(this.g.get(Tg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};je.set=function(e,t){return Yf(this),this.i=null,e=Tg(this,e),ile(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};je.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function sle(e,t,n){rle(e,t),0<n.length&&(e.i=null,e.g.set(Tg(e,t),k6(n)),e.h+=n.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Tg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Wot(e,t){t&&!e.j&&(Yf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rle(this,r),sle(this,i,n))},e)),e.j=t}var Yot=class{constructor(e,t){this.g=e,this.map=t}};function ole(e){this.l=e||Got,St.PerformanceNavigationTiming?(e=St.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Got=10;function ale(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ule(e){return e.h?1:e.g?e.g.size:0}function sN(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function W6(e,t){e.g?e.g.add(t):e.h=t}function lle(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ole.prototype.cancel=function(){if(this.i=cle(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function cle(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return k6(e.i)}var Kot=class{stringify(e){return St.JSON.stringify(e,void 0)}parse(e){return St.JSON.parse(e,void 0)}};function Qot(){this.g=new Kot}function Xot(e,t,n){const r=n||"";try{tle(e,function(i,s){let o=i;Rv(i)&&(o=B6(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jot(e,t){const n=new wA;if(St.Image){const r=new Image;r.onload=ab(lb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ab(lb,n,r,"TestLoadImage: error",!1,t),r.onabort=ab(lb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ab(lb,n,r,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function lb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function AA(e){this.l=e.ec||null,this.j=e.ob||!1}vi(AA,z6);AA.prototype.g=function(){return new CA(this.l,this.j)};AA.prototype.i=function(e){return function(){return e}}({});function CA(e,t){gi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Y6,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi(CA,gi);var Y6=0;je=CA.prototype;je.open=function(e,t){if(this.readyState!=Y6)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,C_(this)};je.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mv(this)),this.readyState=Y6};je.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,C_(this)),this.g&&(this.readyState=3,C_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fle(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function fle(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}je.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mv(this):C_(this),this.readyState==3&&fle(this)}};je.Za=function(e){this.g&&(this.response=this.responseText=e,Mv(this))};je.Ya=function(e){this.g&&(this.response=e,Mv(this))};je.ka=function(){this.g&&Mv(this)};function Mv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,C_(e)}je.setRequestHeader=function(e,t){this.v.append(e,t)};je.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function C_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(CA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Zot=St.JSON.parse;function Rr(e){gi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dle,this.L=this.M=!1}vi(Rr,gi);var dle="",eat=/^https?$/i,tat=["POST","PUT"];je=Rr.prototype;je.Oa=function(e){this.M=e};je.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tN.g(),this.C=this.u?eH(this.u):eH(tN),this.g.onreadystatechange=ns(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){rH(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=St.FormData&&e instanceof St.FormData,!(0<=Cue(tat,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mle(this),0<this.B&&((this.L=nat(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ns(this.ua,this)):this.A=V6(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){rH(this,s)}};function nat(e){return Fm&&typeof e.timeout=="number"&&e.ontimeout!==void 0}je.ua=function(){typeof R6<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))};function rH(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hle(e),OA(e)}function hle(e){e.F||(e.F=!0,$i(e,"complete"),$i(e,"error"))}je.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$i(this,"complete"),$i(this,"abort"),OA(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),OA(this,!0)),Rr.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?ple(this):this.kb())};je.kb=function(){ple(this)};function ple(e){if(e.h&&typeof R6<"u"&&(!e.C[1]||Su(e)!=4||e.da()!=2)){if(e.v&&Su(e)==4)V6(e.La,0,e);else if($i(e,"readystatechange"),Su(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(nle)[1]||null;!i&&St.self&&St.self.location&&(i=St.self.location.protocol.slice(0,-1)),r=!eat.test(i?i.toLowerCase():"")}n=r}if(n)$i(e,"complete"),$i(e,"success");else{e.m=6;try{var s=2<Su(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",hle(e)}}finally{OA(e)}}}}function OA(e,t){if(e.g){mle(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||$i(e,"ready");try{n.onreadystatechange=r}catch{}}}function mle(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(St.clearTimeout(e.A),e.A=null)}je.isActive=function(){return!!this.g};function Su(e){return e.g?e.g.readyState:0}je.da=function(){try{return 2<Su(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Zot(t)}};function iH(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dle:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function rat(e){const t={};e=(e.g&&2<=Su(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(w_(e[r]))continue;var n=Cot(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}wot(t,function(r){return r.join(", ")})}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gle(e){let t="";return D6(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function G6(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gle(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Zn(e,t,n))}function p0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yle(e){this.Ga=0,this.j=[],this.l=new wA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=p0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=p0("baseRetryDelayMs",5e3,e),this.hb=p0("retryDelaySeedMs",1e4,e),this.eb=p0("forwardChannelMaxRetries",2,e),this.xa=p0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ole(e&&e.concurrentRequestLimit),this.Ja=new Qot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}je=yle.prototype;je.ra=8;je.H=1;function K6(e){if(_le(e),e.H==3){var t=e.W++,n=Jl(e.I);if(Zn(n,"SID",e.K),Zn(n,"RID",t),Zn(n,"TYPE","terminate"),Fv(e,n),t=new $v(e,e.l,t),t.L=2,t.A=IA(Jl(n)),n=!1,St.navigator&&St.navigator.sendBeacon)try{n=St.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&St.Image&&(new Image().src=t.A,n=!0),n||(t.g=Ile(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Lv(t)}Sle(e)}function PA(e){e.g&&(X6(e),e.g.cancel(),e.g=null)}function _le(e){PA(e),e.u&&(St.clearTimeout(e.u),e.u=null),VS(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&St.clearTimeout(e.m),e.m=null)}function RA(e){if(!ale(e.i)&&!e.m){e.m=!0;var t=e.Na;T_||jue(),S_||(T_(),S_=!0),j6.add(t,e),e.C=0}}function iat(e,t){return ule(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Nv(ns(e.Na,e,t),Tle(e,e.C)),e.C++,!0)}je.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new $v(this,this.l,e);let s=this.s;if(this.U&&(s?(s=kue(s),Nue(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=vle(this,i,t),n=Jl(this.I),Zn(n,"RID",e),Zn(n,"CVER",22),this.F&&Zn(n,"X-HTTP-Session-Id",this.F),Fv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(gle(s)))+"&"+t:this.o&&G6(n,this.o,s)),W6(this.i,i),this.bb&&Zn(n,"TYPE","init"),this.P?(Zn(n,"$req",t),Zn(n,"SID","null"),i.aa=!0,rN(i,n,null)):rN(i,n,t),this.H=2}}else this.H==3&&(e?sH(this,e):this.j.length==0||ale(this.i)||sH(this))};function sH(e,t){var n;t?n=t.m:n=e.W++;const r=Jl(e.I);Zn(r,"SID",e.K),Zn(r,"RID",n),Zn(r,"AID",e.V),Fv(e,r),e.o&&e.s&&G6(r,e.o,e.s),n=new $v(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=vle(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),W6(e.i,n),rN(n,r,t)}function Fv(e,t){e.na&&D6(e.na,function(n,r){Zn(t,r,n)}),e.h&&tle({},function(n,r){Zn(t,r,n)})}function vle(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ns(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Xot(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ble(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;T_||jue(),S_||(T_(),S_=!0),j6.add(t,e),e.A=0}}function Q6(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Nv(ns(e.Ma,e),Tle(e,e.A)),e.A++,!0)}je.Ma=function(){if(this.u=null,wle(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Nv(ns(this.jb,this),e)}};je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ms(10),PA(this),wle(this))};function X6(e){e.B!=null&&(St.clearTimeout(e.B),e.B=null)}function wle(e){e.g=new $v(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Jl(e.wa);Zn(t,"RID","rpc"),Zn(t,"SID",e.K),Zn(t,"AID",e.V),Zn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Zn(t,"TO",e.qa),Zn(t,"TYPE","xmlhttp"),Fv(e,t),e.o&&e.s&&G6(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=IA(Jl(t)),n.u=null,n.S=!0,Xue(n,e)}je.ib=function(){this.v!=null&&(this.v=null,PA(this),Q6(this),ms(19))};function VS(e){e.v!=null&&(St.clearTimeout(e.v),e.v=null)}function Ele(e,t){var n=null;if(e.g==t){VS(e),X6(e),e.g=null;var r=2}else if(sN(e.i,t))n=t.F,lle(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=EA(),$i(r,new Wue(r,n)),RA(e)}else ble(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&iat(e,t)||r==2&&Q6(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Rd(e,5);break;case 4:Rd(e,10);break;case 3:Rd(e,6);break;default:Rd(e,2)}}}function Tle(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Rd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=ns(e.pb,e);n||(n=new jd("//www.google.com/images/cleardot.gif"),St.location&&St.location.protocol=="http"||jS(n,"https"),IA(n)),Jot(n.toString(),r)}else ms(2);e.H=0,e.h&&e.h.za(t),Sle(e),_le(e)}je.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ms(2)):(this.l.info("Failed to ping google.com"),ms(1))};function Sle(e){if(e.H=0,e.ma=[],e.h){const t=cle(e.i);(t.length!=0||e.j.length!=0)&&(Kz(e.ma,t),Kz(e.ma,e.j),e.i.i.length=0,k6(e.j),e.j.length=0),e.h.ya()}}function xle(e,t,n){var r=n instanceof jd?Jl(n):new jd(n);if(r.g!="")t&&(r.g=t+"."+r.g),US(r,r.m);else{var i=St.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new jd(null);r&&jS(s,r),t&&(s.g=t),i&&US(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Zn(r,n,t),Zn(r,"VER",e.ra),Fv(e,r),r}function Ile(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Rr(new AA({ob:n})):new Rr(e.va),t.Oa(e.J),t}je.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ale(){}je=Ale.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.isActive=function(){return!0};je.Va=function(){};function zS(){if(Fm&&!(10<=Number(yot)))throw Error("Environmental error: no available transport.")}zS.prototype.g=function(e,t){return new Io(e,t)};function Io(e,t){gi.call(this),this.g=new yle(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!w_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!w_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Sg(this)}vi(Io,gi);Io.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ms(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xle(e,null,e.Y),RA(e)};Io.prototype.close=function(){K6(this.g)};Io.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=B6(e),e=n);t.j.push(new Yot(t.fb++,e)),t.H==3&&RA(t)};Io.prototype.N=function(){this.g.h=null,delete this.j,K6(this.g),delete this.g,Io.$.N.call(this)};function Cle(e){H6.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}vi(Cle,H6);function Ole(){q6.call(this),this.status=1}vi(Ole,q6);function Sg(e){this.g=e}vi(Sg,Ale);Sg.prototype.Ba=function(){$i(this.g,"a")};Sg.prototype.Aa=function(e){$i(this.g,new Cle(e))};Sg.prototype.za=function(e){$i(this.g,new Ole)};Sg.prototype.ya=function(){$i(this.g,"b")};function sat(){this.blockSize=-1}function za(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vi(za,sat);za.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function MP(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}za.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)MP(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){MP(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){MP(this,r),i=0;break}}this.h=i,this.i+=t};za.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var oat={};function J6(e){return-128<=e&&128>e?pot(e,function(t){return new Nn([t|0],0>t?-1:0)}):new Nn([e|0],0>e?-1:0)}function xu(e){if(isNaN(e)||!isFinite(e))return Zp;if(0>e)return Ri(xu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=oN;return new Nn(t,0)}function Ple(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ri(Ple(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xu(Math.pow(t,8)),r=Zp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=xu(Math.pow(t,s)),r=r.R(s).add(xu(o))):(r=r.R(n),r=r.add(xu(o)))}return r}var oN=4294967296,Zp=J6(0),aN=J6(1),oH=J6(16777216);je=Nn.prototype;je.ea=function(){if(Wo(this))return-Ri(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:oN+r)*t,t*=oN}return e};je.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Tl(this))return"0";if(Wo(this))return"-"+Ri(this).toString(e);for(var t=xu(Math.pow(e,6)),n=this,r="";;){var i=qS(n,t).g;n=HS(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Tl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};je.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Tl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Wo(e){return e.h==-1}je.X=function(e){return e=HS(this,e),Wo(e)?-1:Tl(e)?0:1};function Ri(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nn(n,~e.h).add(aN)}je.abs=function(){return Wo(this)?Ri(this):this};je.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nn(n,n[n.length-1]&-2147483648?-1:0)};function HS(e,t){return e.add(Ri(t))}je.R=function(e){if(Tl(this)||Tl(e))return Zp;if(Wo(this))return Wo(e)?Ri(this).R(Ri(e)):Ri(Ri(this).R(e));if(Wo(e))return Ri(this.R(Ri(e)));if(0>this.X(oH)&&0>e.X(oH))return xu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,cb(n,2*r+2*i),n[2*r+2*i+1]+=s*u,cb(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cb(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nn(n,0)};function cb(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m0(e,t){this.g=e,this.h=t}function qS(e,t){if(Tl(t))throw Error("division by zero");if(Tl(e))return new m0(Zp,Zp);if(Wo(e))return t=qS(Ri(e),t),new m0(Ri(t.g),Ri(t.h));if(Wo(t))return t=qS(e,Ri(t)),new m0(Ri(t.g),t.h);if(30<e.g.length){if(Wo(e)||Wo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=aN,r=t;0>=r.X(e);)n=aH(n),r=aH(r);var i=Gh(n,1),s=Gh(r,1);for(r=Gh(r,2),n=Gh(n,2);!Tl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Gh(r,1),n=Gh(n,1)}return t=HS(e,i.R(t)),new m0(i,t)}for(i=Zp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=xu(n),o=s.R(t);Wo(o)||0<o.X(e);)n-=r,s=xu(n),o=s.R(t);Tl(s)&&(s=aN),i=i.add(s),e=HS(e,o)}return new m0(i,e)}je.gb=function(e){return qS(this,e).h};je.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nn(n,this.h&e.h)};je.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nn(n,this.h|e.h)};je.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nn(n,this.h^e.h)};function aH(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nn(n,e.h)}function Gh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nn(i,e.h)}zS.prototype.createWebChannel=zS.prototype.g;Io.prototype.send=Io.prototype.u;Io.prototype.open=Io.prototype.m;Io.prototype.close=Io.prototype.close;TA.NO_ERROR=0;TA.TIMEOUT=8;TA.HTTP_ERROR=6;Yue.COMPLETE="complete";Gue.EventType=Dv;Dv.OPEN="a";Dv.CLOSE="b";Dv.ERROR="c";Dv.MESSAGE="d";gi.prototype.listen=gi.prototype.O;Rr.prototype.listenOnce=Rr.prototype.P;Rr.prototype.getLastError=Rr.prototype.Sa;Rr.prototype.getLastErrorCode=Rr.prototype.Ia;Rr.prototype.getStatus=Rr.prototype.da;Rr.prototype.getResponseJson=Rr.prototype.Wa;Rr.prototype.getResponseText=Rr.prototype.ja;Rr.prototype.send=Rr.prototype.ha;Rr.prototype.setWithCredentials=Rr.prototype.Oa;za.prototype.digest=za.prototype.l;za.prototype.reset=za.prototype.reset;za.prototype.update=za.prototype.j;Nn.prototype.add=Nn.prototype.add;Nn.prototype.multiply=Nn.prototype.R;Nn.prototype.modulo=Nn.prototype.gb;Nn.prototype.compare=Nn.prototype.X;Nn.prototype.toNumber=Nn.prototype.ea;Nn.prototype.toString=Nn.prototype.toString;Nn.prototype.getBits=Nn.prototype.D;Nn.fromNumber=xu;Nn.fromString=Ple;var aat=function(){return new zS},uat=function(){return EA()},FP=TA,lat=Yue,cat=Rh,uH={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fb=Gue,fat=Rr,dat=za,em=Nn;const lH="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new mA("@firebase/firestore");function g0(){return lh.logLevel}function tt(e,...t){if(lh.logLevel<=sn.DEBUG){const n=t.map(Z6);lh.debug(`Firestore (${xg}): ${e}`,...n)}}function Zl(e,...t){if(lh.logLevel<=sn.ERROR){const n=t.map(Z6);lh.error(`Firestore (${xg}): ${e}`,...n)}}function O_(e,...t){if(lh.logLevel<=sn.WARN){const n=t.map(Z6);lh.warn(`Firestore (${xg}): ${e}`,...n)}}function Z6(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e="Unexpected state"){const t=`FIRESTORE (${xg}) INTERNAL ASSERTION FAILED: `+e;throw Zl(t),new Error(t)}function Gn(e,t){e||bt()}function kt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends tl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hat{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pat{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ns.UNAUTHENTICATED))}shutdown(){}}class mat{constructor(t){this.t=t,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gn(typeof r.accessToken=="string"),new hat(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Gn(t===null||typeof t=="string"),new Ns(t)}}class gat{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yat{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new gat(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _at{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vat{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gn(typeof n.token=="string"),this.R=n.token,new _at(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bat(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=bat(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function In(e,t){return e<t?-1:e>t?1:0}function Bm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ri.fromMillis(Date.now())}static fromDate(t){return ri.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ri(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?In(this.nanoseconds,t.nanoseconds):In(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new ri(0,0))}static max(){return new It(new ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(t,n,r){n===void 0?n=0:n>t.length&&bt(),r===void 0?r=t.length-n:r>t.length-n&&bt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return P_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof P_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class er extends P_{construct(t,n,r){return new er(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new er(n)}static emptyPath(){return new er([])}}const wat=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends P_{construct(t,n,r){return new ki(t,n,r)}static isValidIdentifier(t){return wat.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ki(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new He(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new He(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new He(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ki(n)}static emptyPath(){return new ki([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(er.fromString(t))}static fromName(t){return new ct(er.fromString(t).popFirst(5))}static empty(){return new ct(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&er.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return er.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new er(t.slice()))}}function Eat(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new ri(n+1,0):new ri(n,r));return new Of(i,ct.empty(),t)}function Tat(e){return new Of(e.readTime,e.key,-1)}class Of{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Of(It.min(),ct.empty(),-1)}static max(){return new Of(It.max(),ct.empty(),-1)}}function Sat(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:In(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xat="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iat{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==xat)throw e;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function jv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}eM._e=-1;function kA(e){return e==null}function WS(e){return e===0&&1/e==-1/0}function Aat(e){return typeof e=="number"&&Number.isInteger(e)&&!WS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ig(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kle(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.comparator=t,this.root=n||Ci.EMPTY}insert(t,n){return new wr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(t){return new wr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new db(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new db(this.root,t,this.comparator,!1)}getReverseIterator(){return new db(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new db(this.root,t,this.comparator,!0)}}class db{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ci{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ci.RED,this.left=i??Ci.EMPTY,this.right=s??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ci(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ci(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.comparator=t,this.data=new wr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fH(this.data.getIterator())}getIteratorFrom(t){return new fH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Li)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Li(this.comparator);return n.data=t,n}}class fH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.fields=t,t.sort(ki.comparator)}static empty(){return new Na([])}unionWith(t){let n=new Li(ki.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Na(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nle("Invalid base64 string: "+s):s}}(t);return new as(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new as(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return In(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}as.EMPTY_BYTE_STRING=new as("");const Cat=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pf(e){if(Gn(!!e),typeof e=="string"){let t=0;const n=Cat.exec(e);if(Gn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zr(e.seconds),nanos:zr(e.nanos)}}function zr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ch(e){return typeof e=="string"?as.fromBase64String(e):as.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nM(e){const t=e.mapValue.fields.__previous_value__;return tM(t)?nM(t):t}function R_(e){const t=Pf(e.mapValue.fields.__local_write_time__.timestampValue);return new ri(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oat{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class k_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new k_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof k_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tM(e)?4:Pat(e)?9007199254740991:10:bt()}function Wu(e,t){if(e===t)return!0;const n=fh(e);if(n!==fh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return R_(e).isEqual(R_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pf(i.timestampValue),a=Pf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return ch(i.bytesValue).isEqual(ch(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return zr(i.geoPointValue.latitude)===zr(s.geoPointValue.latitude)&&zr(i.geoPointValue.longitude)===zr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zr(i.integerValue)===zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=zr(i.doubleValue),a=zr(s.doubleValue);return o===a?WS(o)===WS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Bm(e.arrayValue.values||[],t.arrayValue.values||[],Wu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(cH(o)!==cH(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Wu(o[u],a[u])))return!1;return!0}(e,t);default:return bt()}}function N_(e,t){return(e.values||[]).find(n=>Wu(n,t))!==void 0}function jm(e,t){if(e===t)return 0;const n=fh(e),r=fh(t);if(n!==r)return In(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return In(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=zr(s.integerValue||s.doubleValue),u=zr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return dH(e.timestampValue,t.timestampValue);case 4:return dH(R_(e),R_(t));case 5:return In(e.stringValue,t.stringValue);case 6:return function(s,o){const a=ch(s),u=ch(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=In(a[l],u[l]);if(c!==0)return c}return In(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=In(zr(s.latitude),zr(o.latitude));return a!==0?a:In(zr(s.longitude),zr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=jm(a[l],u[l]);if(c)return c}return In(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===hb.mapValue&&o===hb.mapValue)return 0;if(s===hb.mapValue)return 1;if(o===hb.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=In(u[f],c[f]);if(d!==0)return d;const h=jm(a[u[f]],l[c[f]]);if(h!==0)return h}return In(u.length,c.length)}(e.mapValue,t.mapValue);default:throw bt()}}function dH(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return In(e,t);const n=Pf(e),r=Pf(t),i=In(n.seconds,r.seconds);return i!==0?i:In(n.nanos,r.nanos)}function Um(e){return uN(e)}function uN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Pf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ch(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ct.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uN(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uN(n.fields[o])}`;return i+"}"}(e.mapValue):bt()}function hH(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lN(e){return!!e&&"integerValue"in e}function rM(e){return!!e&&"arrayValue"in e}function pH(e){return!!e&&"nullValue"in e}function mH(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lw(e){return!!e&&"mapValue"in e}function vy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ig(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vy(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pat(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.value=t}static empty(){return new Yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!lw(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vy(n)}setAll(t){let n=ki.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());lw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Wu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];lw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ig(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Yo(vy(this.value))}}function Dle(e){const t=[];return Ig(e.fields,(n,r)=>{const i=new ki([n]);if(lw(r)){const s=Dle(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Na(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Zi(t,0,It.min(),It.min(),It.min(),Yo.empty(),0)}static newFoundDocument(t,n,r,i){return new Zi(t,1,n,It.min(),r,i,0)}static newNoDocument(t,n){return new Zi(t,2,n,It.min(),It.min(),Yo.empty(),0)}static newUnknownDocument(t,n){return new Zi(t,3,n,It.min(),It.min(),Yo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n){this.position=t,this.inclusive=n}}function gH(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(o.referenceValue),n.key):r=jm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yH(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Rat(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{}class Wr extends $le{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Nat(t,n,r):n==="array-contains"?new Lat(t,r):n==="in"?new Mat(t,r):n==="not-in"?new Fat(t,r):n==="array-contains-any"?new Bat(t,r):new Wr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Dat(t,r):new $at(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jm(n,this.value)):n!==null&&fh(this.value)===fh(n)&&this.matchesComparison(jm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ha extends $le{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Ha(t,n)}matches(t){return Lle(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Lle(e){return e.op==="and"}function Mle(e){return kat(e)&&Lle(e)}function kat(e){for(const t of e.filters)if(t instanceof Ha)return!1;return!0}function cN(e){if(e instanceof Wr)return e.field.canonicalString()+e.op.toString()+Um(e.value);if(Mle(e))return e.filters.map(t=>cN(t)).join(",");{const t=e.filters.map(n=>cN(n)).join(",");return`${e.op}(${t})`}}function Fle(e,t){return e instanceof Wr?function(r,i){return i instanceof Wr&&r.op===i.op&&r.field.isEqual(i.field)&&Wu(r.value,i.value)}(e,t):e instanceof Ha?function(r,i){return i instanceof Ha&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Fle(o,i.filters[a]),!0):!1}(e,t):void bt()}function Ble(e){return e instanceof Wr?function(n){return`${n.field.canonicalString()} ${n.op} ${Um(n.value)}`}(e):e instanceof Ha?function(n){return n.op.toString()+" {"+n.getFilters().map(Ble).join(" ,")+"}"}(e):"Filter"}class Nat extends Wr{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class Dat extends Wr{constructor(t,n){super(t,"in",n),this.keys=jle("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $at extends Wr{constructor(t,n){super(t,"not-in",n),this.keys=jle("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jle(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class Lat extends Wr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rM(n)&&N_(n.arrayValue,this.value)}}class Mat extends Wr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&N_(this.value.arrayValue,n)}}class Fat extends Wr{constructor(t,n){super(t,"not-in",n)}matches(t){if(N_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!N_(this.value.arrayValue,n)}}class Bat extends Wr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>N_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jat{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function _H(e,t=null,n=[],r=[],i=null,s=null,o=null){return new jat(e,t,n,r,i,s,o)}function iM(e){const t=kt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>cN(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Um(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Um(r)).join(",")),t.ce=n}return t.ce}function sM(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rat(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fle(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yH(e.startAt,t.startAt)&&yH(e.endAt,t.endAt)}function fN(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Uat(e,t,n,r,i,s,o,a){return new Ag(e,t,n,r,i,s,o,a)}function oM(e){return new Ag(e)}function vH(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ule(e){return e.collectionGroup!==null}function by(e){const t=kt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Li(ki.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new D_(s,r))}),n.has(ki.keyField().canonicalString())||t.le.push(new D_(ki.keyField(),r))}return t.le}function $u(e){const t=kt(e);return t.he||(t.he=Vat(t,by(e))),t.he}function Vat(e,t){if(e.limitType==="F")return _H(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new D_(i.field,s)});const n=e.endAt?new YS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new YS(e.startAt.position,e.startAt.inclusive):null;return _H(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dN(e,t){const n=e.filters.concat([t]);return new Ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hN(e,t,n){return new Ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function NA(e,t){return sM($u(e),$u(t))&&e.limitType===t.limitType}function Vle(e){return`${iM($u(e))}|lt:${e.limitType}`}function rp(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ble(i)).join(", ")}]`),kA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Um(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Um(i)).join(",")),`Target(${r})`}($u(e))}; limitType=${e.limitType})`}function DA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of by(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=gH(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,by(r),i)||r.endAt&&!function(o,a,u){const l=gH(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,by(r),i))}(e,t)}function zat(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zle(e){return(t,n)=>{let r=!1;for(const i of by(e)){const s=Hat(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hat(e,t,n){const r=e.field.isKeyField()?ct.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?jm(u,l):bt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ig(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return kle(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qat=new wr(ct.comparator);function ec(){return qat}const Hle=new wr(ct.comparator);function M0(...e){let t=Hle;for(const n of e)t=t.insert(n.key,n);return t}function qle(e){let t=Hle;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function kd(){return wy()}function Wle(){return wy()}function wy(){return new Cg(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wat=new wr(ct.comparator),Yat=new Li(ct.comparator);function Kt(...e){let t=Yat;for(const n of e)t=t.add(n);return t}const Gat=new Li(In);function Kat(){return Gat}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:WS(t)?"-0":t}}function Gle(e){return{integerValue:""+e}}function Qat(e,t){return Aat(t)?Gle(t):Yle(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this._=void 0}}function Xat(e,t,n){return e instanceof $_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tM(s)&&(s=nM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof L_?Qle(e,t):e instanceof M_?Xle(e,t):function(i,s){const o=Kle(i,s),a=bH(o)+bH(i.Ie);return lN(o)&&lN(i.Ie)?Gle(a):Yle(i.serializer,a)}(e,t)}function Jat(e,t,n){return e instanceof L_?Qle(e,t):e instanceof M_?Xle(e,t):n}function Kle(e,t){return e instanceof GS?function(r){return lN(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class $_ extends $A{}class L_ extends $A{constructor(t){super(),this.elements=t}}function Qle(e,t){const n=Jle(t);for(const r of e.elements)n.some(i=>Wu(i,r))||n.push(r);return{arrayValue:{values:n}}}class M_ extends $A{constructor(t){super(),this.elements=t}}function Xle(e,t){let n=Jle(t);for(const r of e.elements)n=n.filter(i=>!Wu(i,r));return{arrayValue:{values:n}}}class GS extends $A{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function bH(e){return zr(e.integerValue||e.doubleValue)}function Jle(e){return rM(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zat{constructor(t,n){this.field=t,this.transform=n}}function eut(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof L_&&i instanceof L_||r instanceof M_&&i instanceof M_?Bm(r.elements,i.elements,Wu):r instanceof GS&&i instanceof GS?Wu(r.Ie,i.Ie):r instanceof $_&&i instanceof $_}(e.transform,t.transform)}class tut{constructor(t,n){this.version=t,this.transformResults=n}}class Dl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Dl}static exists(t){return new Dl(void 0,t)}static updateTime(t){return new Dl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cw(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class LA{}function Zle(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tce(e.key,Dl.none()):new Uv(e.key,e.data,Dl.none());{const n=e.data,r=Yo.empty();let i=new Li(ki.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kh(e.key,r,new Na(i.toArray()),Dl.none())}}function nut(e,t,n){e instanceof Uv?function(i,s,o){const a=i.value.clone(),u=EH(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof kh?function(i,s,o){if(!cw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=EH(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(ece(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Ey(e,t,n,r){return e instanceof Uv?function(s,o,a,u){if(!cw(s.precondition,o))return a;const l=s.value.clone(),c=TH(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof kh?function(s,o,a,u){if(!cw(s.precondition,o))return a;const l=TH(s.fieldTransforms,u,o),c=o.data;return c.setAll(ece(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return cw(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function rut(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Kle(r.transform,i||null);s!=null&&(n===null&&(n=Yo.empty()),n.set(r.field,s))}return n||null}function wH(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bm(r,i,(s,o)=>eut(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uv extends LA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kh extends LA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ece(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function EH(e,t,n){const r=new Map;Gn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Jat(o,a,n[i]))}return r}function TH(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Xat(s,o,t))}return r}class tce extends LA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iut extends LA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sut{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&nut(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ey(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ey(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Wle();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Zle(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&Bm(this.mutations,t.mutations,(n,r)=>wH(n,r))&&Bm(this.baseMutations,t.baseMutations,(n,r)=>wH(n,r))}}class aM{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Gn(t.mutations.length===r.length);let i=function(){return Wat}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aM(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class out{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aut{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr,fn;function uut(e){switch(e){default:return bt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function nce(e){if(e===void 0)return Zl("GRPC error has no .code"),xe.UNKNOWN;switch(e){case jr.OK:return xe.OK;case jr.CANCELLED:return xe.CANCELLED;case jr.UNKNOWN:return xe.UNKNOWN;case jr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case jr.INTERNAL:return xe.INTERNAL;case jr.UNAVAILABLE:return xe.UNAVAILABLE;case jr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case jr.NOT_FOUND:return xe.NOT_FOUND;case jr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case jr.ABORTED:return xe.ABORTED;case jr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case jr.DATA_LOSS:return xe.DATA_LOSS;default:return bt()}}(fn=jr||(jr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lut(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cut=new em([4294967295,4294967295],0);function SH(e){const t=lut().encode(e),n=new dat;return n.update(t),new Uint8Array(n.digest())}function xH(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new em([n,r],0),new em([i,s],0)]}class uM{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new F0(`Invalid padding: ${n}`);if(r<0)throw new F0(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new F0(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new F0(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=em.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(em.fromNumber(r)));return i.compare(cut)===1&&(i=new em([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=SH(t),[r,i]=xH(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new uM(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=SH(t),[r,i]=xH(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class F0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Vv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new MA(It.min(),i,new wr(In),ec(),Kt())}}class Vv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Vv(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class rce{constructor(t,n){this.targetId=t,this.fe=n}}class ice{constructor(t,n,r=as.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IH{constructor(){this.ge=0,this.pe=CH(),this.ye=as.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new Vv(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=CH()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Gn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class fut{constructor(t){this.Le=t,this.ke=new Map,this.qe=ec(),this.Qe=AH(),this.Ke=new wr(In)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(fN(s))if(r===0){const o=new ct(s.path);this.We(n,o,Zi.newNoDocument(o,It.min()))}else Gn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ch(r).toUint8Array()}catch(u){if(u instanceof Nle)return O_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new uM(o,i,s)}catch(u){return O_(u instanceof F0?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&fN(a.target)){const u=new ct(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Zi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new MA(t,n,this.Ke,this.qe,r);return this.qe=ec(),this.Qe=AH(),this.Ke=new wr(In),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new IH,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Li(In),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new IH),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function AH(){return new wr(ct.comparator)}function CH(){return new wr(ct.comparator)}const dut={asc:"ASCENDING",desc:"DESCENDING"},hut={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},put={and:"AND",or:"OR"};class mut{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pN(e,t){return e.useProto3Json||kA(t)?t:{value:t}}function KS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sce(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gut(e,t){return KS(e,t.toTimestamp())}function Lu(e){return Gn(!!e),It.fromTimestamp(function(n){const r=Pf(n);return new ri(r.seconds,r.nanos)}(e))}function lM(e,t){return function(r){return new er(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function oce(e){const t=er.fromString(e);return Gn(cce(t)),t}function mN(e,t){return lM(e.databaseId,t.path)}function BP(e,t){const n=oce(t);if(n.get(1)!==e.databaseId.projectId)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(ace(n))}function gN(e,t){return lM(e.databaseId,t)}function yut(e){const t=oce(e);return t.length===4?er.emptyPath():ace(t)}function yN(e){return new er(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ace(e){return Gn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function OH(e,t,n){return{name:mN(e,t),fields:n.value.mapValue.fields}}function _ut(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Gn(c===void 0||typeof c=="string"),as.fromBase64String(c||"")):(Gn(c===void 0||c instanceof Uint8Array),as.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?xe.UNKNOWN:nce(l.code);return new He(c,l.message||"")}(o);n=new ice(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=BP(e,r.document.name),s=Lu(r.document.updateTime),o=r.document.createTime?Lu(r.document.createTime):It.min(),a=new Yo({mapValue:{fields:r.document.fields}}),u=Zi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new fw(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=BP(e,r.document),s=r.readTime?Lu(r.readTime):It.min(),o=Zi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fw([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=BP(e,r.document),s=r.removedTargetIds||[];n=new fw([],s,i,null)}else{if(!("filter"in t))return bt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aut(i,s),a=r.targetId;n=new rce(a,o)}}return n}function vut(e,t){let n;if(t instanceof Uv)n={update:OH(e,t.key,t.value)};else if(t instanceof tce)n={delete:mN(e,t.key)};else if(t instanceof kh)n={update:OH(e,t.key,t.data),updateMask:Cut(t.fieldMask)};else{if(!(t instanceof iut))return bt();n={verify:mN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof L_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof M_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof GS)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw bt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gut(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bt()}(e,t.precondition)),n}function but(e,t){return e&&e.length>0?(Gn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Lu(i.updateTime):Lu(s);return o.isEqual(It.min())&&(o=Lu(s)),new tut(o,i.transformResults||[])}(n,t))):[]}function wut(e,t){return{documents:[gN(e,t.path)]}}function Eut(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=gN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return lce(Ha.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:ip(f.field),direction:xut(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=pN(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function Tut(e){let t=yut(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=uce(f);return d instanceof Ha&&Mle(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new D_(sp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,kA(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new YS(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new YS(h,d)}(n.endAt)),Uat(t,i,o,s,a,"F",u,l)}function Sut(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uce(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sp(n.unaryFilter.field);return Wr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sp(n.unaryFilter.field);return Wr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sp(n.unaryFilter.field);return Wr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sp(n.unaryFilter.field);return Wr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(e):e.fieldFilter!==void 0?function(n){return Wr.create(sp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ha.create(n.compositeFilter.filters.map(r=>uce(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(e):bt()}function xut(e){return dut[e]}function Iut(e){return hut[e]}function Aut(e){return put[e]}function ip(e){return{fieldPath:e.canonicalString()}}function sp(e){return ki.fromServerFormat(e.fieldPath)}function lce(e){return e instanceof Wr?function(n){if(n.op==="=="){if(mH(n.value))return{unaryFilter:{field:ip(n.field),op:"IS_NAN"}};if(pH(n.value))return{unaryFilter:{field:ip(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mH(n.value))return{unaryFilter:{field:ip(n.field),op:"IS_NOT_NAN"}};if(pH(n.value))return{unaryFilter:{field:ip(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(n.field),op:Iut(n.op),value:n.value}}}(e):e instanceof Ha?function(n){const r=n.getFilters().map(i=>lce(i));return r.length===1?r[0]:{compositeFilter:{op:Aut(n.op),filters:r}}}(e):bt()}function Cut(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function cce(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,r,i,s=It.min(),o=It.min(),a=as.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Hc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Out{constructor(t){this.ut=t}}function Put(e){const t=Tut({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rut{constructor(){this.on=new kut}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(Of.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(Of.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class kut{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Li(er.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Li(er.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Vm(0)}static Nn(){return new Vm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nut{constructor(){this.changes=new Cg(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Zi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dut{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ut{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ey(r.mutation,i,Na.empty(),ri.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=kd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=M0();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=kd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=ec();const o=wy(),a=function(){return wy()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof kh)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Ey(c.mutation,l,c.mutation.getFieldMask(),ri.now())):o.set(l.key,Na.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Dut(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=wy();let i=new wr((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Na.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=Wle();c.forEach(d=>{if(!s.has(d)){const h=Zle(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ule(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(kd());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:qle(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(r=>{let i=M0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=M0();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new Ag(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Zi.newInvalidDocument(c)))});let a=M0();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Ey(c.mutation,l,Na.empty(),ri.now()),DA(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lut{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Lu(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Put(i.bundledQuery),readTime:Lu(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mut{constructor(){this.overlays=new wr(ct.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=kd();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=kd(),s=n.length+1,o=new ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new wr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=kd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=kd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new out(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.hr=new Li(fi.Pr),this.Ir=new Li(fi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new fi(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new fi(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ct(new er([])),r=new fi(n,t),i=new fi(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ct(new er([])),r=new fi(n,t),i=new fi(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new fi(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class fi{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ct.comparator(t.key,n.key)||In(t.gr,n.gr)}static Tr(t,n){return In(t.gr,n.gr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fut{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Li(fi.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sut(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new fi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new fi(n,0),i=new fi(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Li(In);return n.forEach(i=>{const s=new fi(i,0),o=new fi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new fi(new ct(s),0);let a=new Li(In);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Gn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new fi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new fi(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class But{constructor(t){this.Cr=t,this.docs=function(){return new wr(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():Zi.newInvalidDocument(n))}getEntries(t,n){let r=ec();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zi.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ec();const o=n.path,a=new ct(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Sat(Tat(c),r)<=0||(i.has(c.key)||DA(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){bt()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new jut(this)}getSize(t){return Ce.resolve(this.size)}}class jut extends Nut{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uut{constructor(t){this.persistence=t,this.Fr=new Cg(n=>iM(n),sM),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cM,this.targetCount=0,this.Nr=Vm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Vm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vut{constructor(t,n){this.Br={},this.overlays={},this.Lr=new eM(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Uut(this),this.indexManager=new Rut,this.remoteDocumentCache=function(i){return new But(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Out(n),this.Kr=new Lut(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Mut,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Fut(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){tt("MemoryPersistence","Starting transaction:",t);const i=new zut(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class zut extends Iat{constructor(t){super(),this.currentSequenceNumber=t}}class fM{constructor(t){this.persistence=t,this.Gr=new cM,this.zr=null}static jr(t){return new fM(t)}get Hr(){if(this.zr)return this.zr;throw bt()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ct.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dM(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hut{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qut{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Hut;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(g0()<=sn.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",rp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(g0()<=sn.DEBUG&&tt("QueryEngine","Query:",rp(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(g0()<=sn.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",rp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$u(n))):Ce.resolve())}zi(t,n){if(vH(n))return Ce.resolve(null);let r=$u(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hN(n,null,"F"),r=$u(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,hN(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return vH(n)||i.isEqual(It.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(g0()<=sn.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rp(n)),this.Xi(t,o,n,Eat(i,-1)).next(a=>a))})}Yi(t,n){let r=new Li(zle(t));return n.forEach((i,s)=>{DA(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return g0()<=sn.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",rp(n)),this.Gi.getDocumentsMatchingQuery(t,n,Of.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wut{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new wr(In),this.ns=new Cg(s=>iM(s),sM),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $ut(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Yut(e,t,n,r){return new Wut(e,t,n,r)}async function fce(e,t){const n=kt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function Gut(e,t){const n=kt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);Gn(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function dce(e){const t=kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Kut(e,t){const n=kt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(as.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=ec(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Qut(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(It.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function Qut(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=ec();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(It.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):tt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function Xut(e,t){const n=kt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Jut(e,t){const n=kt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Hc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function _N(e,t,n){const r=kt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jv(o))throw o;tt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function PH(e,t,n){const r=kt(e);let i=It.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=kt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,$u(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:It.min(),n?s:Kt())).next(a=>(Zut(r,zat(t),a),{documents:a,ls:s})))}function Zut(e,t,n){let r=e.rs.get(t)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class RH{constructor(){this.activeTargetIds=Kat()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class elt{constructor(){this.eo=new RH,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new RH,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tlt{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb=null;function jP(){return pb===null?pb=function(){return 268435456+Math.round(2147483648*Math.random())}():pb++,"0x"+pb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nlt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rlt{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class ilt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=jP(),u=this.So(n,r);tt("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(tt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw O_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=nlt[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=jP();return new Promise((o,a)=>{const u=new fat;u.setWithCredentials(!0),u.listenOnce(lat.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case FP.NO_ERROR:const c=u.getResponseJson();tt(Gi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case FP.TIMEOUT:tt(Gi,`RPC '${t}' ${s} timed out`),a(new He(xe.DEADLINE_EXCEEDED,"Request time out"));break;case FP.HTTP_ERROR:const f=u.getStatus();if(tt(Gi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(g)>=0?g:xe.UNKNOWN}(h.status);a(new He(p,h.message))}else a(new He(xe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new He(xe.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{tt(Gi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);tt(Gi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=jP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=aat(),a=uat(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");tt(Gi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new rlt({co:y=>{h?tt(Gi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(tt(Gi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),tt(Gi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),m=(y,g,_)=>{y.listen(g,v=>{try{_(v)}catch(E){setTimeout(()=>{throw E},0)}})};return m(f,fb.EventType.OPEN,()=>{h||tt(Gi,`RPC '${t}' stream ${i} transport opened.`)}),m(f,fb.EventType.CLOSE,()=>{h||(h=!0,tt(Gi,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),m(f,fb.EventType.ERROR,y=>{h||(h=!0,O_(Gi,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new He(xe.UNAVAILABLE,"The operation could not be completed")))}),m(f,fb.EventType.MESSAGE,y=>{var g;if(!h){const _=y.data[0];Gn(!!_);const v=_,E=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(E){tt(Gi,`RPC '${t}' stream ${i} received error:`,E);const S=E.status;let w=function(M){const C=jr[M];if(C!==void 0)return nce(C)}(S),x=E.message;w===void 0&&(w=xe.INTERNAL,x="Unknown error status: "+S+" with message "+E.message),h=!0,p.Ro(new He(w,x)),f.close()}else tt(Gi,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),m(a,cat.STAT_EVENT,y=>{y.stat===uH.PROXY?tt(Gi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===uH.NOPROXY&&tt(Gi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function UP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(e){return new mut(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new hce(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Zl(n.toString()),Zl("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new He(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return tt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class slt extends pce{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=_ut(this.serializer,t),r=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?Lu(o.readTime):It.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=yN(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=fN(u)?{documents:wut(s,u)}:{query:Eut(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sce(s,o.resumeToken);const l=pN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(It.min())>0){a.readTime=KS(s,o.snapshotVersion.toTimestamp());const l=pN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Sut(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=yN(this.serializer),n.removeTarget=t,this.e_(n)}}class olt extends pce{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Gn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=but(t.writeResults,t.commitTime),r=Lu(t.commitTime);return this.listener.I_(r,n)}return Gn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=yN(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>vut(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class alt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(xe.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(xe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class ult{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Zl(n),this.f_=!1):tt("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class llt{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Nh(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=kt(u);l.C_.add(4),await Hv(l),l.M_.set("Unknown"),l.C_.delete(4),await zv(l)}(this))})}),this.M_=new ult(r,i)}}async function zv(e){if(Nh(e))for(const t of e.v_)await t(!0)}async function Hv(e){for(const t of e.v_)await t(!1)}function mce(e,t){const n=kt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),mM(n)?pM(n):Og(n).Ho()&&hM(n,t))}function gce(e,t){const n=kt(e),r=Og(n);n.D_.delete(t),r.Ho()&&yce(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Nh(n)&&n.M_.set("Unknown"))}function hM(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Og(e).u_(t)}function yce(e,t){e.x_.Oe(t),Og(e).c_(t)}function pM(e){e.x_=new fut({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Og(e).start(),e.M_.g_()}function mM(e){return Nh(e)&&!Og(e).jo()&&e.D_.size>0}function Nh(e){return kt(e).C_.size===0}function _ce(e){e.x_=void 0}async function clt(e){e.D_.forEach((t,n)=>{hM(e,t)})}async function flt(e,t){_ce(e),mM(e)?(e.M_.w_(t),pM(e)):e.M_.set("Unknown")}async function dlt(e,t,n){if(e.M_.set("Online"),t instanceof ice&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await QS(e,r)}else if(t instanceof fw?e.x_.$e(t):t instanceof rce?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(It.min()))try{const r=await dce(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(as.EMPTY_BYTE_STRING,c.snapshotVersion)),yce(s,u);const f=new Hc(c.target,u,l,c.sequenceNumber);hM(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),await QS(e,r)}}async function QS(e,t,n){if(!jv(t))throw t;e.C_.add(1),await Hv(e),e.M_.set("Offline"),n||(n=()=>dce(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await zv(e)})}function vce(e,t){return t().catch(n=>QS(e,n,t))}async function BA(e){const t=kt(e),n=Rf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;hlt(t);)try{const i=await Xut(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,plt(t,i)}catch(i){await QS(t,i)}bce(t)&&wce(t)}function hlt(e){return Nh(e)&&e.b_.length<10}function plt(e,t){e.b_.push(t);const n=Rf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function bce(e){return Nh(e)&&!Rf(e).jo()&&e.b_.length>0}function wce(e){Rf(e).start()}async function mlt(e){Rf(e).E_()}async function glt(e){const t=Rf(e);for(const n of e.b_)t.P_(n.mutations)}async function ylt(e,t,n){const r=e.b_.shift(),i=aM.from(r,t,n);await vce(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await BA(e)}async function _lt(e,t){t&&Rf(e).h_&&await async function(r,i){if(function(o){return uut(o)&&o!==xe.ABORTED}(i.code)){const s=r.b_.shift();Rf(r).Yo(),await vce(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await BA(r)}}(e,t),bce(e)&&wce(e)}async function NH(e,t){const n=kt(e);n.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=Nh(n);n.C_.add(3),await Hv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await zv(n)}async function vlt(e,t){const n=kt(e);t?(n.C_.delete(2),await zv(n)):t||(n.C_.add(2),await Hv(n),n.M_.set("Unknown"))}function Og(e){return e.O_||(e.O_=function(n,r,i){const s=kt(n);return s.A_(),new slt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:clt.bind(null,e),Io:flt.bind(null,e),a_:dlt.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),mM(e)?pM(e):e.M_.set("Unknown")):(await e.O_.stop(),_ce(e))})),e.O_}function Rf(e){return e.N_||(e.N_=function(n,r,i){const s=kt(n);return s.A_(),new olt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:mlt.bind(null,e),Io:_lt.bind(null,e),T_:glt.bind(null,e),I_:ylt.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await BA(e)):(await e.N_.stop(),e.b_.length>0&&(tt("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new gM(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yM(e,t){if(Zl("AsyncQueue",`${t}: ${e}`),jv(e))return new He(xe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=M0(),this.sortedSet=new wr(this.comparator)}static emptySet(t){return new tm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof tm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new tm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.B_=new wr(ct.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):bt():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class zm{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zm(t,n,tm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&NA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class blt{constructor(){this.k_=void 0,this.listeners=[]}}class wlt{constructor(){this.queries=new Cg(t=>Vle(t),NA),this.onlineState="Unknown",this.q_=new Set}}async function Ece(e,t){const n=kt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new blt),i)try{s.k_=await n.onListen(r)}catch(o){const a=yM(o,`Initialization of query '${rp(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&_M(n)}async function Tce(e,t){const n=kt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Elt(e,t){const n=kt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&_M(n)}function Tlt(e,t,n){const r=kt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function _M(e){e.q_.forEach(t=>{t.next()})}class Sce{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new zm(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=zm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(t){this.key=t}}class Ice{constructor(t){this.key=t}}class Slt{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=zle(t),this.aa=new tm(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new DH,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=DA(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return m(h)-m(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new zm(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new DH,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Ice(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new xce(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return zm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class xlt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Ilt{constructor(t){this.key=t,this.Ra=!1}}class Alt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Cg(a=>Vle(a),NA),this.fa=new Map,this.ga=new Set,this.pa=new wr(ct.comparator),this.ya=new Map,this.wa=new cM,this.Sa={},this.ba=new Map,this.Da=Vm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Clt(e,t){const n=Flt(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Jut(n.localStore,$u(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Olt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&mce(n.remoteStore,o)}return i}async function Olt(e,t,n,r,i){e.va=(f,d,h)=>async function(m,y,g,_){let v=y.view.ca(g);v.Zi&&(v=await PH(m.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,v)));const E=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(v,m.isPrimaryClient,E,S);return LH(m,y.targetId,w.Ta),w.snapshot}(e,f,d,h);const s=await PH(e.localStore,t,!0),o=new Slt(t,s.ls),a=o.ca(s.documents),u=Vv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);LH(e,n,l.Ta);const c=new xlt(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function Plt(e,t){const n=kt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!NA(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _N(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gce(n.remoteStore,r.targetId),vN(n,r.targetId)}).catch(Bv)):(vN(n,r.targetId),await _N(n.localStore,r.targetId,!0))}async function Rlt(e,t,n){const r=Blt(e);try{const i=await function(o,a){const u=kt(o),l=ri.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ec(),m=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((g,_)=>{_.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const _ of a){const v=rut(_,f.get(_.key).overlayedDocument);v!=null&&g.push(new kh(_.key,v,Dle(v.value.mapValue),Dl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:qle(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new wr(In)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await qv(r,i.changes),await BA(r.remoteStore)}catch(i){const s=yM(i,"Failed to persist write");n.reject(s)}}async function Ace(e,t){const n=kt(e);try{const r=await Kut(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Gn(o.Ra):i.removedDocuments.size>0&&(Gn(o.Ra),o.Ra=!1))}),await qv(n,r,t)}catch(r){await Bv(r)}}function $H(e,t,n){const r=kt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=kt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&_M(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function klt(e,t,n){const r=kt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new wr(ct.comparator);o=o.insert(s,Zi.newNoDocument(s,It.min()));const a=Kt().add(s),u=new MA(It.min(),new Map,new wr(In),o,a);await Ace(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),vM(r)}else await _N(r.localStore,t,!1).then(()=>vN(r,t,n)).catch(Bv)}async function Nlt(e,t){const n=kt(e),r=t.batch.batchId;try{const i=await Gut(n.localStore,t);Oce(n,r,null),Cce(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qv(n,i)}catch(i){await Bv(i)}}async function Dlt(e,t,n){const r=kt(e);try{const i=await function(o,a){const u=kt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Gn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Oce(r,t,n),Cce(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qv(r,i)}catch(i){await Bv(i)}}function Cce(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Oce(e,t,n){const r=kt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function vN(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Pce(e,r)})}function Pce(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(gce(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),vM(e))}function LH(e,t,n){for(const r of n)r instanceof xce?(e.wa.addReference(r.key,t),$lt(e,r)):r instanceof Ice?(tt("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Pce(e,r.key)):bt()}function $lt(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(tt("SyncEngine","New document in limbo: "+n),e.ga.add(r),vM(e))}function vM(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ct(er.fromString(t)),r=e.Da.next();e.ya.set(r,new Ilt(n)),e.pa=e.pa.insert(n,r),mce(e.remoteStore,new Hc($u(oM(n.path)),r,"TargetPurposeLimboResolution",eM._e))}}async function qv(e,t,n){const r=kt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=dM.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=kt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!jv(f))throw f;tt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,m)}}}(r.localStore,s))}async function Llt(e,t){const n=kt(e);if(!n.currentUser.isEqual(t)){tt("SyncEngine","User change. New user:",t.toKey());const r=await fce(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new He(xe.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qv(n,r._s)}}function Mlt(e,t){const n=kt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Flt(e){const t=kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ace.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mlt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=klt.bind(null,t),t.Va.a_=Elt.bind(null,t.eventManager),t.Va.Fa=Tlt.bind(null,t.eventManager),t}function Blt(e){const t=kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nlt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dlt.bind(null,t),t}class MH{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=FA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Yut(this.persistence,new qut,t.initialUser,this.serializer)}createPersistence(t){return new Vut(fM.jr,this.serializer)}createSharedClientState(t){return new elt}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jlt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$H(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Llt.bind(null,this.syncEngine),await vlt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wlt}()}createDatastore(t){const n=FA(t.databaseInfo.databaseId),r=function(s){return new ilt(s)}(t.databaseInfo);return function(s,o,a,u){return new alt(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new llt(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>$H(this.syncEngine,n,0),function(){return kH.D()?new kH:new tlt}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Alt(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=kt(n);tt("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Hv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rce{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Zl("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ult{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ns.UNAUTHENTICATED,this.clientId=Rle.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{tt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(tt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yM(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function VP(e,t){e.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fce(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function FH(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kce(e);tt("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>NH(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>NH(t.remoteStore,s)),e._onlineComponents=t}function Vlt(e){return e.name==="FirebaseError"?e.code===xe.FAILED_PRECONDITION||e.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function kce(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await VP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Vlt(n))throw n;O_("Error using user provided cache. Falling back to memory cache: "+n),await VP(e,new MH)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await VP(e,new MH);return e._offlineComponents}async function bM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await FH(e,e._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await FH(e,new jlt))),e._onlineComponents}function zlt(e){return kce(e).then(t=>t.persistence)}function Hlt(e){return bM(e).then(t=>t.remoteStore)}function qlt(e){return bM(e).then(t=>t.syncEngine)}async function Nce(e){const t=await bM(e),n=t.eventManager;return n.onListen=Clt.bind(null,t.syncEngine),n.onUnlisten=Plt.bind(null,t.syncEngine),n}function Wlt(e){return e.asyncQueue.enqueue(async()=>{const t=await zlt(e),n=await Hlt(e);return t.setNetworkEnabled(!0),function(i){const s=kt(i);return s.C_.delete(0),zv(s)}(n)})}function Ylt(e,t,n={}){const r=new Nl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Rce({next:d=>{o.enqueueAndForget(()=>Tce(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new He(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new He(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Sce(oM(a.path),c,{includeMetadataChanges:!0,J_:!0});return Ece(s,f)}(await Nce(e),e.asyncQueue,t,n,r)),r.promise}function Glt(e,t,n={}){const r=new Nl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Rce({next:d=>{o.enqueueAndForget(()=>Tce(s,f)),d.fromCache&&u.source==="server"?l.reject(new He(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Sce(a,c,{includeMetadataChanges:!0,J_:!0});return Ece(s,f)}(await Nce(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ce(e,t,n){if(!n)throw new He(xe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Klt(e,t,n,r){if(t===!0&&r===!0)throw new He(xe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jH(e){if(!ct.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function UH(e){if(ct.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt()}function dh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new He(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jA(e);throw new He(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new He(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Klt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dce((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wM{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VH(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pat;switch(r.type){case"firstParty":return new yat(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BH.get(n);r&&(tt("ComponentProvider","Removing Datastore"),BH.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class Qs{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qs(this.firestore,t,this._key)}}class ff extends Dh{constructor(t,n,r){super(t,n,oM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qs(this.firestore,null,new ct(t))}withConverter(t){return new ff(this.firestore,t,this._path)}}function zP(e,t,...n){if(e=Fi(e),$ce("collection","path",t),e instanceof wM){const r=er.fromString(t,...n);return UH(r),new ff(e,null,r)}{if(!(e instanceof Qs||e instanceof ff))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(er.fromString(t,...n));return UH(r),new ff(e.firestore,null,r)}}function Ja(e,t,...n){if(e=Fi(e),arguments.length===1&&(t=Rle.newId()),$ce("doc","path",t),e instanceof wM){const r=er.fromString(t,...n);return jH(r),new Qs(e,null,new ct(r))}{if(!(e instanceof Qs||e instanceof ff))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(er.fromString(t,...n));return jH(r),new Qs(e.firestore,e instanceof ff?e.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qlt{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new hce(this,"async_queue_retry"),this.iu=()=>{const n=UP();n&&tt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=UP();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=UP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Nl;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!jv(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=gM.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&bt()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Wv extends wM{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new Qlt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lce(this),this._firestoreClient.terminate()}}function Xlt(e,t,n){n||(n="(default)");const r=Eg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(v_(s,t))return i;throw new He(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new He(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function UA(e){return e._firestoreClient||Lce(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lce(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Oat(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Dce(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ult(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Jlt(e){return Wlt(UA(e=dh(e,Wv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hm(as.fromBase64String(t))}catch(n){throw new He(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Hm(as.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new He(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new He(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new He(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return In(this._lat,t._lat)||In(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zlt=/^__.*__$/;class ect{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new kh(t,this.data,this.fieldMask,n,this.fieldTransforms):new Uv(t,this.data,n,this.fieldTransforms)}}function Mce(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class xM{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new xM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return XS(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Mce(this.Iu)&&Zlt.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class tct{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||FA(t)}pu(t,n,r,i=!1){return new xM({Iu:t,methodName:n,gu:r,path:ki.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fce(e){const t=e._freezeSettings(),n=FA(e._databaseId);return new tct(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nct(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Uce("Data must be an object, but it was:",o,r);const a=Bce(r,o);let u,l;if(s.merge)u=new Na(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=ict(t,f,n);if(!o.contains(d))throw new He(xe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);oct(c,d)||c.push(d)}u=new Na(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new ect(new Yo(a),u,l)}class IM extends TM{_toFieldTransform(t){return new Zat(t.path,new $_)}isEqual(t){return t instanceof IM}}function rct(e,t,n,r=!1){return AM(n,e.pu(r?4:3,t))}function AM(e,t){if(jce(e=Fi(e)))return Uce("Unsupported field value:",t,e),Bce(e,t);if(e instanceof TM)return function(r,i){if(!Mce(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=AM(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Fi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qat(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ri.fromDate(r);return{timestampValue:KS(i.serializer,s)}}if(r instanceof ri){const s=new ri(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:KS(i.serializer,s)}}if(r instanceof SM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hm)return{bytesValue:sce(i.serializer,r._byteString)};if(r instanceof Qs){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${jA(r)}`)}(e,t)}function Bce(e,t){const n={};return kle(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ig(e,(r,i)=>{const s=AM(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jce(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ri||e instanceof SM||e instanceof Hm||e instanceof Qs||e instanceof TM)}function Uce(e,t,n){if(!jce(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jA(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function ict(e,t,n){if((t=Fi(t))instanceof EM)return t._internalPath;if(typeof t=="string")return Vce(e,t);throw XS("Field path arguments must be of type string or ",e,!1,void 0,n)}const sct=new RegExp("[~\\*/\\[\\]]");function Vce(e,t,n){if(t.search(sct)>=0)throw XS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new EM(...t.split("."))._internalPath}catch{throw XS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new He(xe.INVALID_ARGUMENT,a+e+u)}function oct(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new act(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(CM("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class act extends zce{data(){return super.data()}}function CM(e,t){return typeof t=="string"?Vce(e,t):t instanceof EM?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uct(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new He(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OM{}class Hce extends OM{}function lct(e,t,...n){let r=[];t instanceof OM&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof RM).length,a=s.filter(u=>u instanceof PM).length;if(o>1||o>0&&a>0)throw new He(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class PM extends Hce{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new PM(t,n,r)}_apply(t){const n=this._parse(t);return qce(t._query,n),new Dh(t.firestore,t.converter,dN(t._query,n))}_parse(t){const n=Fce(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new He(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HH(f,c);const h=[];for(const p of f)h.push(zH(u,s,p));d={arrayValue:{values:h}}}else d=zH(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HH(f,c),d=rct(a,o,f,c==="in"||c==="not-in");return Wr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class RM extends OM{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new RM(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ha.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)qce(o,u),o=dN(o,u)}(t._query,n),new Dh(t.firestore,t.converter,dN(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kM extends Hce{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new kM(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new D_(s,o)}(t._query,this._field,this._direction);return new Dh(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ag(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function cct(e,t="asc"){const n=t,r=CM("orderBy",e);return kM._create(r,n)}function zH(e,t,n){if(typeof(n=Fi(n))=="string"){if(n==="")throw new He(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ule(t)&&n.indexOf("/")!==-1)throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(er.fromString(n));if(!ct.isDocumentKey(r))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hH(e,new ct(r))}if(n instanceof Qs)return hH(e,n._key);throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jA(n)}.`)}function HH(e,t){if(!Array.isArray(e)||e.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qce(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fct{convertValue(t,n="none"){switch(fh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ch(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ig(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new SM(zr(t.latitude),zr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=nM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(R_(t));default:return null}}convertTimestamp(t){const n=Pf(t);return new ri(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=er.fromString(t);Gn(cce(r));const i=new k_(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||Zl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dct(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wce extends zce{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(CM("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dw extends Wce{data(t={}){return super.data(t)}}class hct{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new B0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new dw(this._firestore,this._userDataWriter,r.key,r,new B0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new dw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new B0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new dw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new B0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:pct(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pct(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(e){e=dh(e,Qs);const t=dh(e.firestore,Wv);return Ylt(UA(t),e._key).then(n=>gct(t,e,n))}class Yce extends fct{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qs(this.firestore,null,n)}}function qH(e){e=dh(e,Dh);const t=dh(e.firestore,Wv),n=UA(t),r=new Yce(t);return uct(e._query),Glt(n,e._query).then(i=>new hct(t,r,e,i))}function y0(e,t,n){e=dh(e,Qs);const r=dh(e.firestore,Wv),i=dct(e.converter,t,n);return mct(r,[nct(Fce(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Dl.none())])}function mct(e,t){return function(r,i){const s=new Nl;return r.asyncQueue.enqueueAndForget(async()=>Rlt(await qlt(r),i,s)),s.promise}(UA(e),t)}function gct(e,t,n){const r=n.docs.get(t._key),i=new Yce(e);return new Wce(e,i,t._key,r,new B0(n.hasPendingWrites,n.fromCache),t.converter)}function yct(){return new IM("serverTimestamp")}(function(t,n=!0){(function(i){xg=i})(Ph),Xl(new qu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Wv(new mat(r.getProvider("auth-internal")),new vat(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new He(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ba(lH,"4.4.0",t),Ba(lH,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Map,Gce={activated:!1,tokenObservers:[]},_ct={initialized:!1,enabled:!1};function ii(e){return bN.get(e)||Object.assign({},Gce)}function vct(e,t){return bN.set(e,t),bN.get(e)}function VA(){return _ct}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce="https://content-firebaseappcheck.googleapis.com/v1",bct="exchangeRecaptchaV3Token",wct="exchangeDebugToken",WH={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Ect=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tct{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new __,await Sct(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new __,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Sct(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xct={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},qs=new wg("appCheck","AppCheck",xct);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function NM(e){if(!ii(e).activated)throw qs.create("use-before-activation",{appName:e.name})}function Qce(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=gb(n)+"d:"),r&&(o+=gb(r)+"h:"),o+=gb(i)+"m:"+gb(s)+"s",o}function gb(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw qs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw qs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw qs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Ict(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Kce}/projects/${n}/apps/${r}:${bct}?key=${i}`,body:{recaptcha_v3_token:t}}}function Xce(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Kce}/projects/${n}/apps/${r}:${wct}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Act="firebase-app-check-database",Cct=1,F_="firebase-app-check-store",Jce="debug-token";let yb=null;function Zce(){return yb||(yb=new Promise((e,t)=>{try{const n=indexedDB.open(Act,Cct);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(qs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(F_,{keyPath:"compositeKey"})}}}catch(n){t(qs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),yb)}function Oct(e){return tfe(nfe(e))}function Pct(e,t){return efe(nfe(e),t)}function Rct(e){return efe(Jce,e)}function kct(){return tfe(Jce)}async function efe(e,t){const r=(await Zce()).transaction(F_,"readwrite"),s=r.objectStore(F_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(qs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function tfe(e){const n=(await Zce()).transaction(F_,"readonly"),i=n.objectStore(F_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(qs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function nfe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new mA("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nct(e){if(T6()){let t;try{t=await Oct(e)}catch(n){B_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function HP(e,t){return T6()?Pct(e,t).catch(n=>{B_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Dct(){let e;try{e=await kct()}catch{}if(e)return e;{const t=Lrt();return Rct(t).catch(n=>B_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){return VA().enabled}async function LM(){const e=VA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function $ct(){const e=nue(),t=VA();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new __;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Dct())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lct={error:"UNKNOWN_ERROR"};function Mct(e){return w6.encodeString(JSON.stringify(e),!1)}async function wN(e,t=!1){const n=e.app;NM(n);const r=ii(n);let i=r.token,s;if(i&&!Cp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(Cp(u)?i=u:await HP(n,void 0))}if(!t&&i&&Cp(i))return{token:i.token};let o=!1;if($M()){r.exchangeTokenPromise||(r.exchangeTokenPromise=DM(Xce(n,await LM()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await HP(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ii(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?B_.warn(u.message):B_.error(u),s=u}let a;return i?s?Cp(i)?a={token:i.token,internalError:s}:a=KH(s):(a={token:i.token},r.token=i,await HP(n,i)):a=KH(s),o&&sfe(n,a),a}async function Fct(e){const t=e.app;NM(t);const{provider:n}=ii(t);if($M()){const r=await LM(),{token:i}=await DM(Xce(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function rfe(e,t,n,r){const{app:i}=e,s=ii(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Cp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),GH(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GH(e))}function ife(e,t){const n=ii(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GH(e){const{app:t}=e,n=ii(t);let r=n.tokenRefresher;r||(r=Bct(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Bct(e){const{app:t}=e;return new Tct(async()=>{const n=ii(t);let r;if(n.token?r=await wN(e,!0):r=await wN(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ii(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},WH.RETRIAL_MIN_WAIT,WH.RETRIAL_MAX_WAIT)}function sfe(e,t){const n=ii(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Cp(e){return e.expireTimeMillis-Date.now()>0}function KH(e){return{token:Mct(Lct),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jct{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ii(this.app);for(const n of t)ife(this.app,n.next);return Promise.resolve()}}function Uct(e,t){return new jct(e,t)}function Vct(e){return{getToken:t=>wN(e,t),getLimitedUseToken:()=>Fct(e),addTokenListener:t=>rfe(e,"INTERNAL",t),removeTokenListener:t=>ife(e.app,t)}}const zct="@firebase/app-check",Hct="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qct="https://www.google.com/recaptcha/api.js";function Wct(e,t){const n=new __,r=ii(e);r.reCAPTCHAState={initialized:n};const i=Yct(e),s=YH(!1);return s?QH(e,t,s,i,n):Qct(()=>{const o=YH(!1);if(!o)throw new Error("no recaptcha");QH(e,t,o,i,n)}),n.promise}function QH(e,t,n,r,i){n.ready(()=>{Kct(e,t,n,r),i.resolve(n)})}function Yct(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Gct(e){NM(e);const n=await ii(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ii(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Kct(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ii(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ii(e).reCAPTCHAState.succeeded=!1}}),s=ii(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Qct(e){const t=document.createElement("script");t.src=qct,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Jct(this._throttleData);const i=await Gct(this._app).catch(o=>{throw qs.create("recaptcha-error")});if(!(!((t=ii(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw qs.create("recaptcha-error");let s;try{s=await DM(Ict(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Xct(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),qs.create("throttled",{time:Qce(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Eg(t,"heartbeat"),Wct(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof MM?this._siteKey===t._siteKey:!1}}function Xct(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Ect,httpStatus:e};{const n=t?t.backoffCount:0,r=Urt(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Jct(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw qs.create("throttled",{time:Qce(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zct(e=x6(),t){e=Fi(e);const n=Eg(e,"app-check");if(VA().initialized||$ct(),$M()&&LM().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw qs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return eft(e,t.provider,t.isTokenAutoRefreshEnabled),ii(e).isTokenAutoRefreshEnabled&&rfe(r,"INTERNAL",()=>{}),r}function eft(e,t,n){const r=vct(e,Object.assign({},Gce));r.activated=!0,r.provider=t,r.cachedTokenPromise=Nct(e).then(i=>(i&&Cp(i)&&(r.token=i,sfe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const tft="app-check",XH="app-check-internal";function nft(){Xl(new qu(tft,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Uct(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(XH).initialize()})),Xl(new qu(XH,e=>{const t=e.getProvider("app-check").getImmediate();return Vct(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ba(zct,Hct)}nft();function ofe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rft=ofe,afe=new wg("auth","Firebase",ofe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new mA("@firebase/auth");function ift(e,...t){JS.logLevel<=sn.WARN&&JS.warn(`Auth (${Ph}): ${e}`,...t)}function hw(e,...t){JS.logLevel<=sn.ERROR&&JS.error(`Auth (${Ph}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e,...t){throw FM(e,...t)}function Mu(e,...t){return FM(e,...t)}function sft(e,t,n){const r=Object.assign(Object.assign({},rft()),{[t]:n});return new wg("auth","Firebase",r).create(t,{appName:e.name})}function FM(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return afe.create(e,...t)}function At(e,t,...n){if(!e)throw FM(t,...n)}function Sl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hw(t),new Error(t)}function nc(e,t){e||Sl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function oft(){return JH()==="http:"||JH()==="https:"}function JH(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aft(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oft()||xrt()||"connection"in navigator)?navigator.onLine:!0}function uft(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,n){this.shortDelay=t,this.longDelay=n,nc(n>t,"Short delay should be less than long delay!"),this.isMobile=Srt()||Irt()}get(){return aft()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(e,t){nc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cft=new Yv(3e4,6e4);function zA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pg(e,t,n,r,i={}){return lfe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pv(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),ufe.fetch()(ffe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function lfe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},lft),t);try{const i=new fft(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _b(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _b(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _b(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw _b(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sft(e,c,l);tc(e,c)}}catch(i){if(i instanceof tl)throw i;tc(e,"network-request-failed",{message:String(i)})}}async function cfe(e,t,n,r,i={}){const s=await Pg(e,t,n,r,i);return"mfaPendingCredential"in s&&tc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ffe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?BM(e.config,i):`${e.config.apiScheme}://${i}`}class fft{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mu(this.auth,"network-request-failed")),cft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _b(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mu(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dft(e,t){return Pg(e,"POST","/v1/accounts:delete",t)}async function hft(e,t){return Pg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pft(e,t=!1){const n=Fi(e),r=await n.getIdToken(t),i=jM(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ty(qP(i.auth_time)),issuedAtTime:Ty(qP(i.iat)),expirationTime:Ty(qP(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qP(e){return Number(e)*1e3}function jM(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hw("JWT malformed, contained fewer than 3 sections"),null;try{const i=tue(n);return i?JSON.parse(i):(hw("Failed to decode base64 JWT payload"),null)}catch(i){return hw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mft(e){const t=jM(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof tl&&gft(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function gft({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yft{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dfe{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ty(this.lastLoginAt),this.creationTime=Ty(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await j_(e,hft(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?bft(s.providerUserInfo):[],a=vft(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dfe(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function _ft(e){const t=Fi(e);await ZS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vft(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function bft(e){return e.map(t=>{var{providerId:n}=t,r=Y3(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wft(e,t){const n=await lfe(e,{},async()=>{const r=Pv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=ffe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ufe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Eft(e,t){return Pg(e,"POST","/v2/accounts:revokeToken",zA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mft(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return At(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wft(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new U_;return r&&(At(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(At(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new U_,this.toJSON())}_performRefresh(){return Sl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ud{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=Y3(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dfe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await j_(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pft(this,t)}reload(){return _ft(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ud(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ZS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await j_(this,dft(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:w,stsTokenManager:x}=n;At(v&&x,t,"internal-error");const I=U_.fromJSON(this.name,x);At(typeof v=="string",t,"internal-error"),bc(f,t.name),bc(d,t.name),At(typeof E=="boolean",t,"internal-error"),At(typeof S=="boolean",t,"internal-error"),bc(h,t.name),bc(p,t.name),bc(m,t.name),bc(y,t.name),bc(g,t.name),bc(_,t.name);const M=new Ud({uid:v,auth:t,email:d,emailVerified:E,displayName:f,isAnonymous:S,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:I,createdAt:g,lastLoginAt:_});return w&&Array.isArray(w)&&(M.providerData=w.map(C=>Object.assign({},C))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(t,n,r=!1){const i=new U_;i.updateFromServerResponse(n);const s=new Ud({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ZS(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=new Map;function xl(e){nc(e instanceof Function,"Expected a class definition");let t=ZH.get(e);return t?(nc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ZH.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hfe.type="NONE";const eq=hfe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(e,t,n){return`firebase:${e}:${t}:${n}`}class nm{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pw(this.userKey,i.apiKey,s),this.fullPersistenceKey=pw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ud._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new nm(xl(eq),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||xl(eq);const o=pw(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Ud._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new nm(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new nm(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gfe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pfe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_fe(t))return"Blackberry";if(vfe(t))return"Webos";if(UM(t))return"Safari";if((t.includes("chrome/")||mfe(t))&&!t.includes("edge/"))return"Chrome";if(yfe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pfe(e=os()){return/firefox\//i.test(e)}function UM(e=os()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mfe(e=os()){return/crios\//i.test(e)}function gfe(e=os()){return/iemobile/i.test(e)}function yfe(e=os()){return/android/i.test(e)}function _fe(e=os()){return/blackberry/i.test(e)}function vfe(e=os()){return/webos/i.test(e)}function HA(e=os()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tft(e=os()){var t;return HA(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Sft(){return Art()&&document.documentMode===10}function bfe(e=os()){return HA(e)||yfe(e)||vfe(e)||_fe(e)||/windows phone/i.test(e)||gfe(e)}function xft(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wfe(e,t=[]){let n;switch(e){case"Browser":n=tq(os());break;case"Worker":n=`${tq(os())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ph}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ift{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aft(e,t={}){return Pg(e,"GET","/v2/passwordPolicy",zA(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cft=6;class Oft{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Cft,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pft{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nq(this),this.idTokenSubscription=new nq(this),this.beforeStateQueue=new Ift(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=afe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await nm.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ZS(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uft()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Fi(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Aft(this),n=new Oft(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new wg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Eft(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xl(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await nm.create(this,[xl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wfe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&ift(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qA(e){return Fi(e)}class nq{constructor(t){this.auth=t,this.observer=null,this.addObserver=Nrt(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rft(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function kft(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Mu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Rft().appendChild(r)})}function Nft(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dft(e,t){const n=Eg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(v_(s,t??{}))return i;tc(i,"already-initialized")}return n.initialize({options:t})}function $ft(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Lft(e,t,n){const r=qA(e);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Efe(t),{host:o,port:a}=Mft(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Fft()}function Efe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mft(e){const t=Efe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rq(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rq(o)}}}function rq(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Fft(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sl("not implemented")}_getIdTokenResponse(t){return Sl("not implemented")}_linkToIdToken(t,n){return Sl("not implemented")}_getReauthenticationResolver(t){return Sl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(e,t){return cfe(e,"POST","/v1/accounts:signInWithIdp",zA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bft="http://localhost";class hh extends Tfe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new hh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):tc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=Y3(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return rm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,rm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rm(t,n)}buildRequest(){const t={requestUri:Bft,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends Sfe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Gv{constructor(){super("facebook.com")}static credential(t){return hh._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $c.credentialFromTaggedObject(t)}static credentialFromError(t){return $c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $c.credential(t.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Gv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return hh._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Lc.credentialFromTaggedObject(t)}static credentialFromError(t){return Lc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Lc.credential(n,r)}catch{return null}}}Lc.GOOGLE_SIGN_IN_METHOD="google.com";Lc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Gv{constructor(){super("github.com")}static credential(t){return hh._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mc.credentialFromTaggedObject(t)}static credentialFromError(t){return Mc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mc.credential(t.oauthAccessToken)}catch{return null}}}Mc.GITHUB_SIGN_IN_METHOD="github.com";Mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Gv{constructor(){super("twitter.com")}static credential(t,n){return hh._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fc.credentialFromTaggedObject(t)}static credentialFromError(t){return Fc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fc.credential(n,r)}catch{return null}}}Fc.TWITTER_SIGN_IN_METHOD="twitter.com";Fc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jft(e,t){return cfe(e,"POST","/v1/accounts:signUp",zA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ud._fromIdTokenResponse(t,r,i),o=iq(r);return new kf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=iq(r);return new kf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function iq(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uft(e){var t;const n=qA(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new kf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await jft(n,{returnSecureToken:!0}),i=await kf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends tl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ex.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new ex(t,n,r,i)}}function xfe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ex._fromErrorAndOperation(e,s,t,r):s})}async function Vft(e,t,n=!1){const r=await j_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return kf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zft(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await j_(e,xfe(r,i,t,e),n);At(s.idToken,r,"internal-error");const o=jM(s.idToken);At(o,r,"internal-error");const{sub:a}=o;return At(e.uid===a,r,"user-mismatch"),kf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&tc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hft(e,t,n=!1){const r="signIn",i=await xfe(e,r,t),s=await kf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function qft(e,t,n,r){return Fi(e).onIdTokenChanged(t,n,r)}function Wft(e,t,n){return Fi(e).beforeAuthStateChanged(t,n)}const tx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tx,"1"),this.storage.removeItem(tx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yft(){const e=os();return UM(e)||HA(e)}const Gft=1e3,Kft=10;class Afe extends Ife{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Yft()&&xft(),this.fallbackToPolling=bfe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Sft()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Kft):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Gft)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Afe.type="LOCAL";const Qft=Afe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe extends Ife{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Cfe.type="SESSION";const Ofe=Cfe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xft(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new WA(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Xft(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}WA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jft{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=VM("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(){return window}function Zft(e){Fu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pfe(){return typeof Fu().WorkerGlobalScope<"u"&&typeof Fu().importScripts=="function"}async function edt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tdt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ndt(){return Pfe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rfe="firebaseLocalStorageDb",rdt=1,nx="firebaseLocalStorage",kfe="fbase_key";class Kv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function YA(e,t){return e.transaction([nx],t?"readwrite":"readonly").objectStore(nx)}function idt(){const e=indexedDB.deleteDatabase(Rfe);return new Kv(e).toPromise()}function TN(){const e=indexedDB.open(Rfe,rdt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(nx,{keyPath:kfe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(nx)?t(r):(r.close(),await idt(),t(await TN()))})})}async function sq(e,t,n){const r=YA(e,!0).put({[kfe]:t,value:n});return new Kv(r).toPromise()}async function sdt(e,t){const n=YA(e,!1).get(t),r=await new Kv(n).toPromise();return r===void 0?null:r.value}function oq(e,t){const n=YA(e,!0).delete(t);return new Kv(n).toPromise()}const odt=800,adt=3;class Nfe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TN(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>adt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pfe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WA._getInstance(ndt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await edt(),!this.activeServiceWorker)return;this.sender=new Jft(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tdt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await TN();return await sq(t,tx,"1"),await oq(t,tx),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sq(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>sdt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oq(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=YA(i,!1).getAll();return new Kv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),odt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nfe.type="LOCAL";const udt=Nfe;new Yv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ldt(e,t){return t?xl(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends Tfe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return rm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return rm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cdt(e){return Hft(e.auth,new zM(e),e.bypassAuthState)}function fdt(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),zft(n,new zM(e),e.bypassAuthState)}async function ddt(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),Vft(n,new zM(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cdt;case"linkViaPopup":case"linkViaRedirect":return ddt;case"reauthViaPopup":case"reauthViaRedirect":return fdt;default:tc(this.auth,"internal-error")}}resolve(t){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hdt=new Yv(2e3,1e4);class Op extends Dfe{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Op.currentPopupAction&&Op.currentPopupAction.cancel(),Op.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){nc(this.filter.length===1,"Popup operations only handle one event");const t=VM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Mu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Op.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hdt.get())};t()}}Op.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pdt="pendingRedirect",mw=new Map;class mdt extends Dfe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=mw.get(this.auth._key());if(!t){try{const r=await gdt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}mw.set(this.auth._key(),t)}return this.bypassAuthState||mw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gdt(e,t){const n=vdt(t),r=_dt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ydt(e,t){mw.set(e._key(),t)}function _dt(e){return xl(e._redirectPersistence)}function vdt(e){return pw(pdt,e.config.apiKey,e.name)}async function bdt(e,t,n=!1){const r=qA(e),i=ldt(r,t),o=await new mdt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wdt=10*60*1e3;class Edt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Tdt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!$fe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mu(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wdt&&this.cachedEventUids.clear(),this.cachedEventUids.has(aq(t))}saveEventToCache(t){this.cachedEventUids.add(aq(t)),this.lastProcessedEventTime=Date.now()}}function aq(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $fe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Tdt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $fe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sdt(e,t={}){return Pg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xdt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Idt=/^https?/;async function Adt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Sdt(e);for(const n of t)try{if(Cdt(n))return}catch{}tc(e,"unauthorized-domain")}function Cdt(e){const t=EN(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Idt.test(n))return!1;if(xdt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Odt=new Yv(3e4,6e4);function uq(){const e=Fu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Pdt(e){return new Promise((t,n)=>{var r,i,s;function o(){uq(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uq(),n(Mu(e,"network-request-failed"))},timeout:Odt.get()})}if(!((i=(r=Fu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Fu().gapi)===null||s===void 0)&&s.load)o();else{const a=Nft("iframefcb");return Fu()[a]=()=>{gapi.load?o():n(Mu(e,"network-request-failed"))},kft(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw gw=null,t})}let gw=null;function Rdt(e){return gw=gw||Pdt(e),gw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kdt=new Yv(5e3,15e3),Ndt="__/auth/iframe",Ddt="emulator/auth/iframe",$dt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ldt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mdt(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?BM(t,Ddt):`https://${e.config.authDomain}/${Ndt}`,r={apiKey:t.apiKey,appName:e.name,v:Ph},i=Ldt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pv(r).slice(1)}`}async function Fdt(e){const t=await Rdt(e),n=Fu().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:Mdt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$dt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mu(e,"network-request-failed"),a=Fu().setTimeout(()=>{s(o)},kdt.get());function u(){Fu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bdt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jdt=500,Udt=600,Vdt="_blank",zdt="http://localhost";class lq{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hdt(e,t,n,r=jdt,i=Udt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Bdt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=os().toLowerCase();n&&(a=mfe(l)?Vdt:n),pfe(l)&&(t=t||zdt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Tft(l)&&a!=="_self")return qdt(t||"",a),new lq(null);const f=window.open(t||"",a,c);At(f,e,"popup-blocked");try{f.focus()}catch{}return new lq(f)}function qdt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wdt="__/auth/handler",Ydt="emulator/auth/handler",Gdt=encodeURIComponent("fac");async function cq(e,t,n,r,i,s){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ph,eventId:i};if(t instanceof Sfe){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",krt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof Gv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Gdt}=${encodeURIComponent(u)}`:"";return`${Kdt(e)}?${Pv(a).slice(1)}${l}`}function Kdt({config:e}){return e.emulator?BM(e,Ydt):`https://${e.authDomain}/${Wdt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="webStorageSupport";class Qdt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ofe,this._completeRedirectFn=bdt,this._overrideRedirectResult=ydt}async _openPopup(t,n,r,i){var s;nc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cq(t,n,r,EN(),i);return Hdt(t,o,VM())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await cq(t,n,r,EN(),i);return Zft(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(nc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Fdt(t),r=new Edt(t);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(WP,{type:WP},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[WP];o!==void 0&&n(!!o),tc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Adt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bfe()||UM()||HA()}}const Xdt=Qdt;var fq="@firebase/auth",dq="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jdt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zdt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eht(e){Xl(new qu("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;At(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wfe(e)},l=new Pft(r,i,s,u);return $ft(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xl(new qu("auth-internal",t=>{const n=qA(t.getProvider("auth").getImmediate());return(r=>new Jdt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(fq,dq,Zdt(e)),Ba(fq,dq,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tht=5*60,nht=sue("authIdTokenMaxAge")||tht;let hq=null;const rht=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nht)return;const i=n==null?void 0:n.token;hq!==i&&(hq=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iht(e=x6()){const t=Eg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Dft(e,{popupRedirectResolver:Xdt,persistence:[udt,Qft,Ofe]}),r=sue("authTokenSyncURL");if(r){const s=rht(r);Wft(n,s,()=>s(n.currentUser)),qft(n,o=>s(o))}const i=rue("auth");return i&&Lft(n,`http://${i}`),n}eht("Browser");class sht extends Zae{constructor(){super("firebase");so(this,"RECAPTCHAV3TOKEN","6Ldx4XQpAAAAACROu8xqmj9MMXC--EHBIOFCJQ0Z");so(this,"firestore");so(this,"collectionPrefix","prod-");so(this,"studyCollection");so(this,"studyId","");so(this,"localForage",Jae.createInstance({name:"currentParticipantId"}));so(this,"localProvenanceCopy",{});so(this,"localWindowEvents",{});const n=u$.parse(`
{
   apiKey: "AIzaSyAokhc9QSxDNJykUhFnMZHprAcG6lfvc6Y",
   authDomain: "gpt-vis.firebaseapp.com",
   projectId: "gpt-vis",
   storageBucket: "gpt-vis.appspot.com",
   messagingSenderId: "853332591321",
   appId: "1:853332591321:web:8276f894f178038bcd34c8",
}
`),r=uue(n);this.firestore=Xlt(r,{});try{Zct(r,{provider:new MM(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=iht();if(await Uft(n),!n.currentUser)throw new Error("Login failed with firebase");await Jlt(this.firestore);const r=await Ja(this.firestore,".info/connected");await mb(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Jp(JSON.stringify(r));this.studyCollection=zP(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ja(this.studyCollection,"configs"),o=zP(s,"configs"),a=Ja(o,i);return await y0(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ja(this.studyCollection,this.currentParticipantId),o=(await mb(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o!==null&&(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Jp(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await y0(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ja(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ja(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await y0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ja(this.studyCollection,"sequenceAssignment"),i=zP(r,"sequenceAssignment"),s=Ja(i,this.currentParticipantId);await y0(s,{participantId:this.currentParticipantId,timestamp:yct()});const o=lct(i,cct("timestamp","asc")),l=(await qH(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await qH(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=Ja(this.studyCollection,this.currentParticipantId);if(n=(await mb(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ja(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await mb(r)).data()),!s){const o=await Jp(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await y0(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=Gz(),s=Yz(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await rot(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=Gz(),o=Yz(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await not(o,a)}}}async function oht(){let e,t=!1;{const n=new sht;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new mrt;await n.connect(),e=n}return e}function aht(){const{storageEngine:e,setStorageEngine:t}=Lf();return T.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await oht();t(r)}n()},[t,e]),P.jsx(lrt,{})}YP.createRoot(document.getElementById("root")).render(P.jsx(N.StrictMode,{children:P.jsx(gpe,{children:P.jsx(aht,{})})}));
